var WPFormBuilder=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=758)}({0:function(t,e){t.exports=React},10:function(t,e){t.exports=InternalShared("InternalShared/PageBuilder/Controls/Properties/styles/GroupProperties")},106:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.d(e,"a",(function(){return i}));var i=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";r(this,t),this.Table=void 0,this.tHead=void 0,this.tBody=void 0,this.tFoot=void 0,this.lastSectionCreated=void 0,this.lastRow=void 0,this.Table=document.createElement("table"),this.Table.className=e}var e,n,i;return e=t,(n=[{key:"CreateTHead",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";null==this.tHead&&(this.tHead=document.createElement("thead"),this.tHead.className=t,this.Table.appendChild(this.tHead),this.lastSectionCreated=this.tHead)}},{key:"CreateTBody",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";null==this.tBody&&(this.tBody=document.createElement("tbody"),this.tBody.className=t,this.Table.appendChild(this.tBody),this.lastSectionCreated=this.tBody)}},{key:"CreateTFoot",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";null==this.tFoot&&(this.tFoot=document.createElement("tfoot"),this.tFoot.className=t,this.Table.appendChild(this.tFoot),this.lastSectionCreated=this.tFoot)}},{key:"CreateRow",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(null==this.lastSectionCreated)throw new Error("No tbody or thead was created yet");this.lastRow=document.createElement("tr"),this.lastRow.className=t,this.lastSectionCreated.appendChild(this.lastRow)}},{key:"CreateTextColumn",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"td",o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=document.createElement(r);i.className=n,this.lastRow.appendChild(i),o?e=i:(e=document.createElement("p"),i.appendChild(e)),e.innerText=t}},{key:"CreateRawColumn",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"td",r=document.createElement(n);return r.className=e,this.lastRow.appendChild(r),r.appendChild(t),r}}])&&o(e.prototype,n),i&&o(e,i),t}()},11:function(t,e,n){"use strict";n.d(e,"b",(function(){return f})),n.d(e,"c",(function(){return h})),n.d(e,"a",(function(){return p}));var r=n(4),o=(n(296),n(32));function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){l=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}var f=function(){function t(){l(this,t),this.IsDirty=!1,this._fields=[],this._defaultValuesLoaded=void 0,this._defaultValuesLoaded=!1}return c(t,[{key:"AddField",value:function(t){null!=this._fields&&this._fields.push(t)}},{key:"RemoveField",value:function(t){if(null!=this._fields){var e=this._fields.indexOf(t);e>=0&&this._fields.splice(e,1)}}},{key:"Observe",value:function(t,e){var n=this,o=function(){e(n[t])},i=new y;return i.mainSubscription=Object(r.observe)(this,t,(function(t){o(),n.ObserveSubProperties(t.newValue,o,i)})),this.ObserveSubProperties(this[t],o,i),i.Unsubscribe.bind(i)}},{key:"ObserveSubProperties",value:function(t,e,n){if(n.SubElementsUnsubscribe(),null!=t&&void 0!==t.$mobx)for(var o in t.$mobx.values)n.subElements.push(Object(r.observe)(t,o,(function(t){e()})))}},{key:"GetValue",value:function(t){return this[t]}},{key:"SetValue",value:function(t,e){return this.ParseAndSetValue(t,e)}},{key:"Merge",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this._defaultValuesLoaded||(this.LoadDefaultValues(),this._defaultValuesLoaded=!0),null==t)return this.SetAutoIncrementIds(),this;for(var e in t)if(this.hasOwnProperty(e)){var n=t[e];this.ParseAndSetValue(e,n)}return this.SetAutoIncrementIds(),this}},{key:"SetAutoIncrementIds",value:function(){if(null!=this.StoreAutoIncrementDictionary){var t=this.StoreAutoIncrementDictionary;for(var e in this)if(this.hasOwnProperty(e)){if(null!=t[e]){var n=o.a.SanitizeNumber(this[e]);if(0==n||null==n){var r=t[e];++r,this[e]=r}t[e]=Math.max(this[e],t[e])}}}}},{key:"ParseAndSetValue",value:function(t,e){var n=this[t],o=this.GetValueFromLoader(t,e);if(null==o)if(null==n||null==n.LoadDefaultValues){if("number"==typeof n){var u=parseFloat(e.toString());return isNaN(u)&&(u=0),void(this[t]=u)}if("boolean"!=typeof n)if("string"!=typeof n)if(null!=n&&n.constructor==Array||Object(r.isObservableArray)(n)){var l=Reflect.getMetadata(d,this,t);if(null==l)throw"Property "+t+" of class "+this.constructor.name+" is an array but does not have the OptionType decorator implemented";if(this[t]=[],l==String)return void(this[t]=e);if(l==Number)return void(this[t]=e);var s,c=a(e);try{for(c.s();!(s=c.n()).done;){var f=s.value;null!=f&&f.hasOwnProperty("_fields")&&f.hasOwnProperty("_defaultValuesLoaded")?this[t].push(f):this[t].push((new l).Merge(f))}}catch(t){c.e(t)}finally{c.f()}}else{if(Reflect.getMetadata(d,this,t)!=Object)throw"Could not process type "+i(n)+" of "+t;this[t]=e}else this[t]=e;else isNaN(e)?this[t]="true"==e:this[t]=!0===e||1==parseFloat(e)}else null!=e&&e.hasOwnProperty("_fields")&&e.hasOwnProperty("_defaultValuesLoaded")?this[t]=e:this[t].Merge(e);else this[t]=o}},{key:"GetValueFromLoader",value:function(t,e){return null}},{key:"Validate",value:function(){var t=!0;if(null==this._fields)return t;var e,n=a(this._fields);try{for(n.s();!(e=n.n()).done;){e.value.Validate()||(t=!1)}}catch(t){n.e(t)}finally{n.f()}return t}},{key:"ToObject",value:function(){var t=Object(r.toJS)(this);return this.SerializeObject(t)}},{key:"Subscribe",value:function(t,e){return Object(r.intercept)(this,t,e)}},{key:"SerializeObject",value:function(t){var e=["_fields","_defaultValuesLoaded","IsDirty"];for(var n in t){var r=t[n];e.indexOf(n)>=0||"function"==typeof r?delete t[n]:(Array.isArray(r)&&this.SerializeArray(r),"object"==i(r)&&(r=this.SerializeObject(r)))}return t}},{key:"SerializeArray",value:function(t){for(var e=0;e<t.length;e++){var n=t[e];Array.isArray(n)&&this.SerializeArray(n),"object"==i(n)&&(t[e]=this.SerializeObject(n))}}}]),t}(),d="StoreType";function h(t){return Reflect.metadata(d,t)}var y=function(){function t(){l(this,t),this.mainSubscription=void 0,this.subElements=[]}return c(t,[{key:"Unsubscribe",value:function(){this.mainSubscription(),this.SubElementsUnsubscribe()}},{key:"SubElementsUnsubscribe",value:function(){if(null!=this.subElements){var t,e=a(this.subElements);try{for(e.s();!(t=e.n()).done;){(0,t.value)()}}catch(t){e.e(t)}finally{e.f()}this.subElements=[]}}}]),t}();function p(t){return function(t,e,n){null==t.StoreAutoIncrementDictionary&&(t.StoreAutoIncrementDictionary=[]),t.StoreAutoIncrementDictionary[e]=0}}},13:function(t,e){t.exports=InternalShared("InternalShared/PageBuilder/Controls/Core/PDFControlBase")},20:function(t,e){t.exports=InternalShared("InternalShared/PageBuilder/Controls/Core/PDFControlBase.Options")},21:function(t,e){t.exports=InternalShared("InternalShared/PageBuilder/Controls/Properties/ColorProperty")},23:function(t,e){t.exports=InternalShared("InternalShared/PageBuilder/Controls/Properties/StyleSets/DimensionStyleSet")},25:function(t,e){t.exports=InternalShared("InternalShared/PageBuilder/Controls/Properties/DropDownProperty")},281:function(t,e){t.exports=InternalShared("InternalShared/PageBuilder/Controls/Properties/ImageProperty")},296:function(t,e,n){(function(t,e){
/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var n;!function(n){!function(r){var o="object"==typeof e?e:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),i=a(n);function a(t,e){return function(n,r){"function"!=typeof t[n]&&Object.defineProperty(t,n,{configurable:!0,writable:!0,value:r}),e&&e(n,r)}}void 0===o.Reflect?o.Reflect=n:i=a(o.Reflect,i),function(e){var n=Object.prototype.hasOwnProperty,r="function"==typeof Symbol,o=r&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",i=r&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",a="function"==typeof Object.create,u={__proto__:[]}instanceof Array,l=!a&&!u,s={create:a?function(){return L(Object.create(null))}:u?function(){return L({__proto__:null})}:function(){return L({})},has:l?function(t,e){return n.call(t,e)}:function(t,e){return e in t},get:l?function(t,e){return n.call(t,e)?t[e]:void 0}:function(t,e){return t[e]}},c=Object.getPrototypeOf(Function),f="object"==typeof t&&t.env&&"true"===t.env.REFLECT_METADATA_USE_MAP_POLYFILL,d=f||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var t={},e=[],n=function(){function t(t,e,n){this._index=0,this._keys=t,this._values=e,this._selector=n}return t.prototype["@@iterator"]=function(){return this},t.prototype[i]=function(){return this},t.prototype.next=function(){var t=this._index;if(t>=0&&t<this._keys.length){var n=this._selector(this._keys[t],this._values[t]);return t+1>=this._keys.length?(this._index=-1,this._keys=e,this._values=e):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},t.prototype.throw=function(t){throw this._index>=0&&(this._index=-1,this._keys=e,this._values=e),t},t.prototype.return=function(t){return this._index>=0&&(this._index=-1,this._keys=e,this._values=e),{value:t,done:!0}},t}();return function(){function e(){this._keys=[],this._values=[],this._cacheKey=t,this._cacheIndex=-2}return Object.defineProperty(e.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),e.prototype.has=function(t){return this._find(t,!1)>=0},e.prototype.get=function(t){var e=this._find(t,!1);return e>=0?this._values[e]:void 0},e.prototype.set=function(t,e){var n=this._find(t,!0);return this._values[n]=e,this},e.prototype.delete=function(e){var n=this._find(e,!1);if(n>=0){for(var r=this._keys.length,o=n+1;o<r;o++)this._keys[o-1]=this._keys[o],this._values[o-1]=this._values[o];return this._keys.length--,this._values.length--,e===this._cacheKey&&(this._cacheKey=t,this._cacheIndex=-2),!0}return!1},e.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=t,this._cacheIndex=-2},e.prototype.keys=function(){return new n(this._keys,this._values,r)},e.prototype.values=function(){return new n(this._keys,this._values,o)},e.prototype.entries=function(){return new n(this._keys,this._values,a)},e.prototype["@@iterator"]=function(){return this.entries()},e.prototype[i]=function(){return this.entries()},e.prototype._find=function(t,e){return this._cacheKey!==t&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=t)),this._cacheIndex<0&&e&&(this._cacheIndex=this._keys.length,this._keys.push(t),this._values.push(void 0)),this._cacheIndex},e}();function r(t,e){return t}function o(t,e){return e}function a(t,e){return[t,e]}}():Map,h=f||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function t(){this._map=new d}return Object.defineProperty(t.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),t.prototype.has=function(t){return this._map.has(t)},t.prototype.add=function(t){return this._map.set(t,t),this},t.prototype.delete=function(t){return this._map.delete(t)},t.prototype.clear=function(){this._map.clear()},t.prototype.keys=function(){return this._map.keys()},t.prototype.values=function(){return this._map.values()},t.prototype.entries=function(){return this._map.entries()},t.prototype["@@iterator"]=function(){return this.keys()},t.prototype[i]=function(){return this.keys()},t}():Set,y=new(f||"function"!=typeof WeakMap?function(){var t=s.create(),e=r();return function(){function t(){this._key=r()}return t.prototype.has=function(t){var e=o(t,!1);return void 0!==e&&s.has(e,this._key)},t.prototype.get=function(t){var e=o(t,!1);return void 0!==e?s.get(e,this._key):void 0},t.prototype.set=function(t,e){return o(t,!0)[this._key]=e,this},t.prototype.delete=function(t){var e=o(t,!1);return void 0!==e&&delete e[this._key]},t.prototype.clear=function(){this._key=r()},t}();function r(){var e;do{e="@@WeakMap@@"+a()}while(s.has(t,e));return t[e]=!0,e}function o(t,r){if(!n.call(t,e)){if(!r)return;Object.defineProperty(t,e,{value:s.create()})}return t[e]}function i(t,e){for(var n=0;n<e;++n)t[n]=255*Math.random()|0;return t}function a(){var t,e=(t=16,"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(t)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(t)):i(new Uint8Array(t),t):i(new Array(t),t));e[6]=79&e[6]|64,e[8]=191&e[8]|128;for(var n="",r=0;r<16;++r){var o=e[r];4!==r&&6!==r&&8!==r||(n+="-"),o<16&&(n+="0"),n+=o.toString(16).toLowerCase()}return n}}():WeakMap);function p(t,e,n){var r=y.get(t);if(w(r)){if(!n)return;r=new d,y.set(t,r)}var o=r.get(e);if(w(o)){if(!n)return;o=new d,r.set(e,o)}return o}function v(t,e,n){var r=p(e,n,!1);return!w(r)&&!!r.has(t)}function b(t,e,n){var r=p(e,n,!1);if(!w(r))return r.get(t)}function S(t,e,n,r){p(n,r,!0).set(t,e)}function m(t,e){var n=[],r=p(t,e,!1);if(w(r))return n;for(var o=function(t){var e=E(t,i);if(!T(e))throw new TypeError;var n=e.call(t);if(!O(n))throw new TypeError;return n}(r.keys()),a=0;;){var u=I(o);if(!u)return n.length=a,n;var l=u.value;try{n[a]=l}catch(t){try{j(o)}finally{throw t}}a++}}function g(t){if(null===t)return 1;switch(typeof t){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===t?1:6;default:return 6}}function w(t){return void 0===t}function C(t){return null===t}function O(t){return"object"==typeof t?null!==t:"function"==typeof t}function P(t,e){switch(g(t)){case 0:case 1:case 2:case 3:case 4:case 5:return t}var n=3===e?"string":5===e?"number":"default",r=E(t,o);if(void 0!==r){var i=r.call(t,n);if(O(i))throw new TypeError;return i}return function(t,e){if("string"===e){var n=t.toString;if(T(n))if(!O(o=n.call(t)))return o;if(T(r=t.valueOf))if(!O(o=r.call(t)))return o}else{var r;if(T(r=t.valueOf))if(!O(o=r.call(t)))return o;var o,i=t.toString;if(T(i))if(!O(o=i.call(t)))return o}throw new TypeError}(t,"default"===n?"number":n)}function k(t){var e=P(t,3);return"symbol"==typeof e?e:function(t){return""+t}(e)}function _(t){return Array.isArray?Array.isArray(t):t instanceof Object?t instanceof Array:"[object Array]"===Object.prototype.toString.call(t)}function T(t){return"function"==typeof t}function A(t){return"function"==typeof t}function E(t,e){var n=t[e];if(null!=n){if(!T(n))throw new TypeError;return n}}function I(t){var e=t.next();return!e.done&&e}function j(t){var e=t.return;e&&e.call(t)}function x(t){var e=Object.getPrototypeOf(t);if("function"!=typeof t||t===c)return e;if(e!==c)return e;var n=t.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return e;var o=r.constructor;return"function"!=typeof o||o===t?e:o}function L(t){return t.__=void 0,delete t.__,t}e("decorate",(function(t,e,n,r){if(w(n)){if(!_(t))throw new TypeError;if(!A(e))throw new TypeError;return function(t,e){for(var n=t.length-1;n>=0;--n){var r=(0,t[n])(e);if(!w(r)&&!C(r)){if(!A(r))throw new TypeError;e=r}}return e}(t,e)}if(!_(t))throw new TypeError;if(!O(e))throw new TypeError;if(!O(r)&&!w(r)&&!C(r))throw new TypeError;return C(r)&&(r=void 0),function(t,e,n,r){for(var o=t.length-1;o>=0;--o){var i=(0,t[o])(e,n,r);if(!w(i)&&!C(i)){if(!O(i))throw new TypeError;r=i}}return r}(t,e,n=k(n),r)})),e("metadata",(function(t,e){return function(n,r){if(!O(n))throw new TypeError;if(!w(r)&&!function(t){switch(g(t)){case 3:case 4:return!0;default:return!1}}(r))throw new TypeError;S(t,e,n,r)}})),e("defineMetadata",(function(t,e,n,r){if(!O(n))throw new TypeError;return w(r)||(r=k(r)),S(t,e,n,r)})),e("hasMetadata",(function(t,e,n){if(!O(e))throw new TypeError;return w(n)||(n=k(n)),function t(e,n,r){if(v(e,n,r))return!0;var o=x(n);return!C(o)&&t(e,o,r)}(t,e,n)})),e("hasOwnMetadata",(function(t,e,n){if(!O(e))throw new TypeError;return w(n)||(n=k(n)),v(t,e,n)})),e("getMetadata",(function(t,e,n){if(!O(e))throw new TypeError;return w(n)||(n=k(n)),function t(e,n,r){if(v(e,n,r))return b(e,n,r);var o=x(n);return C(o)?void 0:t(e,o,r)}(t,e,n)})),e("getOwnMetadata",(function(t,e,n){if(!O(e))throw new TypeError;return w(n)||(n=k(n)),b(t,e,n)})),e("getMetadataKeys",(function(t,e){if(!O(t))throw new TypeError;return w(e)||(e=k(e)),function t(e,n){var r=m(e,n),o=x(e);if(null===o)return r;var i=t(o,n);if(i.length<=0)return r;if(r.length<=0)return i;for(var a=new h,u=[],l=0,s=r;l<s.length;l++){var c=s[l];a.has(c)||(a.add(c),u.push(c))}for(var f=0,d=i;f<d.length;f++){c=d[f];a.has(c)||(a.add(c),u.push(c))}return u}(t,e)})),e("getOwnMetadataKeys",(function(t,e){if(!O(t))throw new TypeError;return w(e)||(e=k(e)),m(t,e)})),e("deleteMetadata",(function(t,e,n){if(!O(e))throw new TypeError;w(n)||(n=k(n));var r=p(e,n,!1);if(w(r))return!1;if(!r.delete(t))return!1;if(r.size>0)return!0;var o=y.get(e);return o.delete(n),o.size>0||y.delete(e),!0}))}(i)}()}(n||(n={}))}).call(this,n(62),n(47))},300:function(t,e){t.exports=InternalShared("InternalShared/Events/GetControl")},301:function(t,e){t.exports=InternalShared("InternalShared/Events/GetControlOptions")},31:function(t,e){t.exports=InternalShared("InternalShared/PageBuilder/Controls/Properties/SimpleTextProperty")},32:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.d(e,"a",(function(){return i}));var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,i;return e=t,i=[{key:"SanitizeStringArray",value:function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return null==e?[]:Array.isArray(e)?e:n?[]:[t.SanitizeString(e)]}},{key:"SanitizeString",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null==t||Array.isArray(t)||null==t.toString||"object"==r(t)?e:t.toString()}},{key:"GetValueFromPath",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(null==t)return n;for(var r="";null!=(r=e.shift());){if(null==t[r])return n;t=t[r]}return t}},{key:"GetStringValueFromPath",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=t.GetValueFromPath(e,n,null);return null==o?r:t.SanitizeString(o)}},{key:"SanitizeNumber",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==t||Array.isArray(t)?e:(t=Number(t),isNaN(t)?e:t)}},{key:"SanitizeBoolean",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return null===t?e:"boolean"==typeof t?t:isNaN(Number(t))?e:0!=t}}],(n=null)&&o(e.prototype,n),i&&o(e,i),t}()},336:function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.d(e,"a",(function(){return o}));var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.Config=void 0}var e,n,o;return e=t,o=[{key:"GetInstance",value:function(){return null==window.RNCurrencyUtils&&(window.RNCurrencyUtils=new t),window.RNCurrencyUtils}}],(n=[{key:"FormatValue",value:function(t){isNaN(t)&&(t=0);var e=t.toFixed(this.Config.NumberOfDecimals),n=e.split("."),r=n[0],o=n.length>1?"."+n[1]:"",i=/(\d+)(\d{3})/;if(""!=this.Config.ThousandSeparator)for(;i.test(r);)r=r.replace(i,"$1"+this.Config.ThousandSeparator+"$2");return o.length>0&&(o=o.slice(1),o=this.Config.DecimalSeparator+o),e=r+o,"left"==this.Config.Position?this.Config.Symbol+e:"left_space"==this.Config.Position?this.Config.Symbol+" "+e:"right"==this.Config.Position?e+this.Config.Symbol:"right_space"==this.Config.Position?e+" "+this.Config.Symbol:void 0}}])&&r(e.prototype,n),o&&r(e,o),t}()},4:function(t,e){t.exports=mobx},447:function(t,e){t.exports=InternalShared("InternalShared/Events/GetAdvancedField")},47:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},51:function(t,e){t.exports=InternalShared("InternalShared/PageBuilder/Controls/Properties/CheckBoxProperty")},56:function(t,e){t.exports=InternalShared("InternalShared/PageBuilder/Fields/FieldItemBase")},61:function(t,e){t.exports=InternalShared("InternalShared/Events/UpdateStyleSettingsPanel")},62:function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var l,s=[],c=!1,f=-1;function d(){c&&l&&(c=!1,l.length?s=l.concat(s):f=-1,s.length&&h())}function h(){if(!c){var t=u(d);c=!0;for(var e=s.length;e;){for(l=s,s=[];++f<e;)l&&l[f].run();f=-1,e=s.length}l=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function y(t,e){this.fun=t,this.array=e}function p(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new y(t,e)),1!==s.length||c||u(h)},y.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=p,o.addListener=p,o.once=p,o.off=p,o.removeListener=p,o.removeAllListeners=p,o.emit=p,o.prependListener=p,o.prependOnceListener=p,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},758:function(t,e,n){"use strict";n.r(e);var r,o,i,a,u,l=n(9),s=n(447),c=n(56),f=n(10),d=n(13),h=n(23),y=n(281),p=n(31),v=n(51),b=n(4),S=n(11),m=n(20);function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function w(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function C(t,e,n){return(C="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=x(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function O(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}function P(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _(t,e,n){return e&&k(t.prototype,e),n&&k(t,n),t}function T(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&A(t,e)}function A(t,e){return(A=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function E(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=x(t);if(e){var o=x(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return I(this,n)}}function I(t,e){return!e||"object"!==g(e)&&"function"!=typeof e?j(t):e}function j(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x(t){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var L,D,M,R=function(t){T(n,t);var e=E(n);function n(){var t;P(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).Type=void 0,t.Label=void 0,t.Format=void 0,t}return _(n,[{key:"LoadDefaultValues",value:function(){this.Type="",this.Label="",this.Format=D.string}}]),n}(S.b),G=(r=Object(S.c)(R),u=function(t){T(n,t);var e=E(n);function n(){var t;P(this,n);for(var r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];return w(t=e.call.apply(e,[this].concat(o)),"Type",i,j(t)),w(t,"Columns",a,j(t)),t.ShowGrandTotal=void 0,t.ProductLabel=void 0,t.PriceLabel=void 0,t.GrandTotalLabel=void 0,t.RowSeparator=void 0,t.EvenColor=void 0,t.EvenBackground=void 0,t.OddColor=void 0,t.OddBackground=void 0,t.BorderColor=void 0,t}return _(n,[{key:"LoadDefaultValues",value:function(){C(x(n.prototype),"LoadDefaultValues",this).call(this),this.Type=ot.InvoiceDetail.toString(),this.Columns=[],this.ShowGrandTotal=!0,this.GrandTotalLabel="Total",this.RowSeparator=M.Stripped.toString(),this.ProductLabel="Product",this.PriceLabel="Price",this.OddColor="#000000",this.OddBackground="#FFFFFF",this.EvenBackground="#f9f9f9",this.EvenColor="#000000",this.BorderColor="#dfdfdf"}}]),n}(m.PDFControlBaseOptions),i=O((o=u).prototype,"Type",[b.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=O(o.prototype,"Columns",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o);!function(t){t.ProductName="name",t.Price="price"}(L||(L={})),function(t){t.string="string",t.number="number"}(D||(D={})),function(t){t.None="none",t.Line="line",t.Stripped="stripped",t.LastRow="last"}(M||(M={}));var F=n(106),B=n(336),N=n(77),z=n(25),V=n(21),U=n(61);function H(t){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function K(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return W(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function W(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Y(t,e,n){return(Y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Z(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function q(t,e){return(q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Q(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Z(t);if(e){var o=Z(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return X(this,n)}}function X(t,e){return!e||"object"!==H(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Z(t){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var tt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&q(t,e)}(i,t);var e,n,r,o=Q(i);function i(){var t;$(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=o.call.apply(o,[this].concat(n))).AllowedResizeDirection="horizontal",t.Options=void 0,t.properties=void 0,t}return e=i,(n=[{key:"GetStyles",value:function(){var t=this,e=[];switch(e.push(h.DimensionStyleSet.GetStyles(this)),e.push(new f.GroupProperties("Header Styles").AddProperties([new V.ColorProperty(this,"background-color",this.StyleManager.CreateStyleClassManager(".productDetail th")).SetLabel("Background Color").AddStyles({width:"50%",display:"inline-block"}),new V.ColorProperty(this,"color",this.StyleManager.CreateStyleClassManager(".productDetail th")).SetLabel("Color").AddStyles({width:"50%",display:"inline-block"})])),this.Options.RowSeparator){case M.Stripped:e.push(new f.GroupProperties("Separator Styles").AddProperties([new V.ColorProperty(this,"OddBackground").SetLabel("Odd Background").AddStyles({width:"50%",display:"inline-block"}).OnChange((function(e){return t.SetInitialStyles()})),new V.ColorProperty(this,"OddColor",this.Options).SetLabel("Odd Color").AddStyles({width:"50%",display:"inline-block"}).OnChange((function(e){return t.SetInitialStyles()})),new V.ColorProperty(this,"EvenBackground").SetLabel("Even Background").AddStyles({width:"50%",display:"inline-block"}).OnChange((function(e){return t.SetInitialStyles()})),new V.ColorProperty(this,"EvenColor",this.Options).SetLabel("Even Color").AddStyles({width:"50%",display:"inline-block"}).OnChange((function(e){return t.SetInitialStyles()}))]));break;case M.Line:case M.LastRow:e.push(new f.GroupProperties("Separator Styles").AddProperties([new V.ColorProperty(this,"BorderColor").SetLabel("Border Color").OnChange((function(e){return t.SetInitialStyles()})),new V.ColorProperty(this,"background-color",this.StyleManager.CreateStyleClassManager(".productDetail tbody")).SetLabel("Background Color").AddStyles({width:"50%",display:"inline-block"}),new V.ColorProperty(this,"color",this.StyleManager.CreateStyleClassManager(".productDetail tbody")).SetLabel("Color").AddStyles({width:"50%",display:"inline-block"})]));break;case M.None:e.push(new f.GroupProperties("Separator Styles").AddProperties([new V.ColorProperty(this,"background-color",this.StyleManager.CreateStyleClassManager(".productDetail tbody")).SetLabel("Background Color").AddStyles({width:"50%",display:"inline-block"}),new V.ColorProperty(this,"color",this.StyleManager.CreateStyleClassManager(".productDetail tbody")).SetLabel("Color").AddStyles({width:"50%",display:"inline-block"})]))}return e.push(new f.GroupProperties("Total Styles").AddProperties([new V.ColorProperty(this,"background-color",this.StyleManager.CreateStyleClassManager(".footerDetail .total")).SetLabel("Background Color").AddStyles({width:"50%",display:"inline-block"}),new V.ColorProperty(this,"color",this.StyleManager.CreateStyleClassManager(".footerDetail .total")).SetLabel("Color").AddStyles({width:"50%",display:"inline-block"})])),e}},{key:"SetInitialStyles",value:function(){Y(Z(i.prototype),"SetInitialStyles",this).call(this),this.StyleManager.ClearFieldStyles(),this.StyleManager.AddStyleSet(".productDetail, .footerDetail",{"border-collapse":"collapse"}),this.StyleManager.AddStyleSet(".productDetail, .footerDetail",{"border-spacing":"0"}),this.StyleManager.AddStyleSet(".productDetail",{width:"100%"}),this.StyleManager.AddStyleSet(".productDetail .price",{"text-align":"right"}),this.StyleManager.AddStyleSet(".productDetail .name",{"text-align":"left"}),this.StyleManager.AddStyleSet(".footerDetail",{width:"300px","margin-left":"auto"}),this.StyleManager.AddStyleSet(".footerDetail th",{"text-align":"left"}),this.StyleManager.AddStyleSet(".footerDetail td",{"text-align":"right"}),this.StyleManager.AddStyleSet(".productTable td",{padding:"5px"}),this.StyleManager.AddStyleSet(".productTable td, .productTable th",{padding:"9px 5px"}),this.StyleManager.AddStyleSet(".productDetail th",{"background-color":"#336ed0"}),this.StyleManager.AddStyleSet(".productDetail th",{color:"white"}),this.StyleManager.AddStyleSet(".footerDetail .total",{"background-color":"#336ed0"}),this.StyleManager.AddStyleSet(".footerDetail .total",{color:"white"}),this.Options.RowSeparator==M.Line.toString()&&this.StyleManager.AddStyleSet(".productDetail td",{"border-bottom":"1px solid #dfdfdf"}),this.Options.RowSeparator==M.Stripped&&(this.StyleManager.AddStyleSet(".productDetail > tbody tr:nth-of-type(odd)",{"background-color":this.Options.OddBackground,color:this.Options.OddColor}),this.StyleManager.AddStyleSet(".productDetail tr:nth-of-type(even)",{"background-color":this.Options.EvenBackground,color:this.Options.EvenColor})),this.Options.RowSeparator==M.Line&&this.StyleManager.AddStyleSet(".productDetail td",{"border-bottom":"1px solid "+this.Options.BorderColor}),this.Options.RowSeparator==M.LastRow&&this.StyleManager.AddStyleSet(".productDetail tr:last-child td",{"border-bottom":"1px solid "+this.Options.BorderColor})}},{key:"NeedTranslations",value:function(){return!0}},{key:"GetTranslatedText",value:function(){return{text:""}}},{key:"GetFakeData",value:function(){return[{name:"My awesome product 1",price:10},{name:"My awesome product 2",price:20},{name:"My awesome product 3",price:30}]}},{key:"InternalGenerateHtml",value:function(t){var e=new F.a("productDetail productTable");t.append(e.Table),e.CreateTHead(),e.CreateRow();var n,r=K(this.Options.Columns);try{for(r.s();!(n=r.n()).done;){var o=n.value;e.CreateTextColumn(o.Label,o.Type,"th")}}catch(t){r.e(t)}finally{r.f()}e.CreateTBody();var i,a=K(this.GetFakeData());try{for(a.s();!(i=a.n()).done;){var u=i.value;e.CreateRow();var l,s=K(this.Options.Columns);try{for(s.s();!(l=s.n()).done;){var c=l.value,f=u[c.Type];null==f&&(f=0),c.Format==D.number&&(f=B.a.GetInstance().FormatValue(f)),e.CreateTextColumn(f,c.Type)}}catch(t){s.e(t)}finally{s.f()}}}catch(t){a.e(t)}finally{a.f()}if(this.Options.ShowGrandTotal){var d=new F.a("footerDetail productTable");t.append(d.Table),d.CreateTBody(),d.CreateRow(),d.CreateTextColumn(this.Options.GrandTotalLabel,"total","th"),d.CreateTextColumn(B.a.GetInstance().FormatValue(60),"total")}}},{key:"GetProperties",value:function(){var t=this,e=[];return e.push(new z.DropDownProperty(this,"RowSeparator").AddOption("None","none").AddOption("Line","line").AddOption("Stripped","stripped").AddOption("Last","last").OnChange((function(e){l.b.Publish(new N.UpdateFieldSettingsPanel),l.b.Publish(new U.UpdateStyleSettingsPanel),t.SetInitialStyles()}))),e.push(new p.SimpleTextProperty(this,"Label",this.Options.Columns.find((function(t){return t.Type==L.ProductName}))).SetLabel("Product Label")),e.push(new p.SimpleTextProperty(this,"Label",this.Options.Columns.find((function(t){return t.Type==L.Price}))).SetLabel("Price Label")),e.push(new v.CheckBoxProperty(this,"ShowGrandTotal").SetLabel("Show Grand Total").OnChange((function(t){l.b.Publish(new N.UpdateFieldSettingsPanel)}))),this.Options.ShowGrandTotal&&e.push(new p.SimpleTextProperty(this,"GrandTotalLabel").SetLabel("Grand total label")),[new f.GroupProperties("General (Field Id:"+this.Options.Id+")").AddProperties(e)]}},{key:"AfterRefresh",value:function(){}},{key:"GetInitialOptions",value:function(){return new Promise((function(t){t((new G).Merge({Styles:{Left:"2%",Width:"96%"},Columns:[{Label:"Product",Type:L.ProductName,Format:D.string},{Label:"Price",Type:L.Price,Format:D.number}]}))}))}},{key:"GenerateTable",value:function(t){}},{key:"InternalGetLabel",value:function(){return"Image"}},{key:"GetValueEditor",value:function(){return new y.ImageProperty(this,"URL").SetLabel("").SetWidth(100)}}])&&J(e.prototype,n),r&&J(e,r),i}(d.PDFControlBase);function et(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rt(t,e,n){return e&&nt(t.prototype,e),n&&nt(t,n),t}var ot,it=function(){function t(){et(this,t)}return rt(t,null,[{key:"GetControl",value:function(t){switch(t){case ot.InvoiceDetail:return new tt;default:return null}}}]),t}(),at=function(){function t(){et(this,t)}return rt(t,null,[{key:"GetControlOptions",value:function(t){switch(t){case ot.InvoiceDetail:return new G;default:return null}}}]),t}();function ut(t){return(ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function st(t,e){return(st=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ct(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=dt(t);if(e){var o=dt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ft(this,n)}}function ft(t,e){return!e||"object"!==ut(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function dt(t){return(dt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}!function(t){t.InvoiceDetail="InvoiceDetail"}(ot||(ot={}));var ht=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&st(t,e)}(i,t);var e,n,r,o=ct(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).IsPR=!0,e.state={},e}return e=i,(n=[{key:"GetImage",value:function(){return"WPForm/invoice.png"}},{key:"GetText",value:function(){return"Product detail"}},{key:"GetType",value:function(){return ot.InvoiceDetail}}])&&lt(e.prototype,n),r&&lt(e,r),i}(c.FieldItemBase);ht.defaultProps={};var yt=n(0),pt=n(301),vt=n(300);l.b.Subscribe(s.GetAdvancedField,(function(t){return[yt.createElement(ht,null)]})),l.b.Subscribe(pt.GetControlOptions,(function(t){return at.GetControlOptions(t.Type)})),l.b.Subscribe(vt.GetControl,(function(t){return it.GetControl(t.Type)}))},77:function(t,e){t.exports=InternalShared("InternalShared/Events/UpdateFieldSettingsPanel")},9:function(t,e,n){"use strict";function r(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,l=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return u=t.done,t},e:function(t){l=!0,a=t},f:function(){try{u||null==n.return||n.return()}finally{if(l)throw a}}}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return f}));var l=function(){function t(){i(this,t)}return u(t,null,[{key:"GetInstance",value:function(){return null==window.RNLocalEvent&&(window.RNLocalEvent=new s),window.RNLocalEvent}},{key:"Publish",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.GetInstance().Publish(e,n)}},{key:"Subscribe",value:function(e,n){t.GetInstance().Subscribe(e,n)}},{key:"UnsubscribeEvent",value:function(e,n){t.GetInstance().UnsubscribeEvent(e,n)}}]),t}();l.LocalEvent=null;var s=function(){function t(){i(this,t),this.Events={}}return u(t,[{key:"Publish",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=t.constructor.GetName();if(null==this.Events[n])return e;var o,i=this.Events[n],a=null,u=r(i);try{for(u.s();!(o=u.n()).done;){var l=o.value,s=void 0;null!=(s=l.CallBack(t))&&(a=s)}}catch(t){u.e(t)}finally{u.f()}return null==a?e:a}},{key:"Subscribe",value:function(t,e){var n=t.GetName();null==this.Events[n]&&(this.Events[n]=[]),this.Events[n].push(new c(t,e))}},{key:"UnsubscribeEvent",value:function(t,e){var n=t.GetName(),r=this.Events[n];if(null!=r){var o=r.find((function(t){return t.CallBack==e}));null!=o&&r.splice(r.indexOf(o),1),0==r.length&&delete this.Events[n]}}}]),t}(),c=function t(e,n){i(this,t),this.Event=void 0,this.CallBack=void 0,this.ReturnType=void 0,this.Event=e,this.CallBack=n},f=function(){function t(){i(this,t),this.ReturnType=void 0}return u(t,null,[{key:"GetName",value:function(){throw new Error("Name was not defined")}}]),t}()}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vW25hbWVdL2V4dGVybmFsIFwiUmVhY3RcIiIsIndlYnBhY2s6Ly9bbmFtZV0vZXh0ZXJuYWwgXCJJbnRlcm5hbFNoYXJlZCgnSW50ZXJuYWxTaGFyZWQvUGFnZUJ1aWxkZXIvQ29udHJvbHMvUHJvcGVydGllcy9zdHlsZXMvR3JvdXBQcm9wZXJ0aWVzJylcIiIsIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvc2hhcmVkL3V0aWxpdGllcy9IVE1MVGFibGVDcmVhdG9yL0hUTUxUYWJsZUNyZWF0b3IudHMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vc3JjL3NoYXJlZC91dGlsaXRpZXMvU3RvcmUvU3RvcmVCYXNlLnRzIiwid2VicGFjazovL1tuYW1lXS9leHRlcm5hbCBcIkludGVybmFsU2hhcmVkKCdJbnRlcm5hbFNoYXJlZC9QYWdlQnVpbGRlci9Db250cm9scy9Db3JlL1BERkNvbnRyb2xCYXNlJylcIiIsIndlYnBhY2s6Ly9bbmFtZV0vZXh0ZXJuYWwgXCJJbnRlcm5hbFNoYXJlZCgnSW50ZXJuYWxTaGFyZWQvUGFnZUJ1aWxkZXIvQ29udHJvbHMvQ29yZS9QREZDb250cm9sQmFzZS5PcHRpb25zJylcIiIsIndlYnBhY2s6Ly9bbmFtZV0vZXh0ZXJuYWwgXCJJbnRlcm5hbFNoYXJlZCgnSW50ZXJuYWxTaGFyZWQvUGFnZUJ1aWxkZXIvQ29udHJvbHMvUHJvcGVydGllcy9Db2xvclByb3BlcnR5JylcIiIsIndlYnBhY2s6Ly9bbmFtZV0vZXh0ZXJuYWwgXCJJbnRlcm5hbFNoYXJlZCgnSW50ZXJuYWxTaGFyZWQvUGFnZUJ1aWxkZXIvQ29udHJvbHMvUHJvcGVydGllcy9TdHlsZVNldHMvRGltZW5zaW9uU3R5bGVTZXQnKVwiIiwid2VicGFjazovL1tuYW1lXS9leHRlcm5hbCBcIkludGVybmFsU2hhcmVkKCdJbnRlcm5hbFNoYXJlZC9QYWdlQnVpbGRlci9Db250cm9scy9Qcm9wZXJ0aWVzL0Ryb3BEb3duUHJvcGVydHknKVwiIiwid2VicGFjazovL1tuYW1lXS9leHRlcm5hbCBcIkludGVybmFsU2hhcmVkKCdJbnRlcm5hbFNoYXJlZC9QYWdlQnVpbGRlci9Db250cm9scy9Qcm9wZXJ0aWVzL0ltYWdlUHJvcGVydHknKVwiIiwid2VicGFjazovL1tuYW1lXS8uL25vZGVfbW9kdWxlcy9yZWZsZWN0LW1ldGFkYXRhL1JlZmxlY3QuanMiLCJ3ZWJwYWNrOi8vW25hbWVdL2V4dGVybmFsIFwiSW50ZXJuYWxTaGFyZWQoJ0ludGVybmFsU2hhcmVkL0V2ZW50cy9HZXRDb250cm9sJylcIiIsIndlYnBhY2s6Ly9bbmFtZV0vZXh0ZXJuYWwgXCJJbnRlcm5hbFNoYXJlZCgnSW50ZXJuYWxTaGFyZWQvRXZlbnRzL0dldENvbnRyb2xPcHRpb25zJylcIiIsIndlYnBhY2s6Ly9bbmFtZV0vZXh0ZXJuYWwgXCJJbnRlcm5hbFNoYXJlZCgnSW50ZXJuYWxTaGFyZWQvUGFnZUJ1aWxkZXIvQ29udHJvbHMvUHJvcGVydGllcy9TaW1wbGVUZXh0UHJvcGVydHknKVwiIiwid2VicGFjazovL1tuYW1lXS8uL3NyYy9zaGFyZWQvdXRpbGl0aWVzL1Nhbml0aXplci50c3giLCJ3ZWJwYWNrOi8vW25hbWVdLy4vc3JjL2FwcC9QYWdlQnVpbGRlci91dGlscy9DdXJyZW5jeVV0aWxzLnRzIiwid2VicGFjazovL1tuYW1lXS9leHRlcm5hbCBcIm1vYnhcIiIsIndlYnBhY2s6Ly9bbmFtZV0vZXh0ZXJuYWwgXCJJbnRlcm5hbFNoYXJlZCgnSW50ZXJuYWxTaGFyZWQvRXZlbnRzL0dldEFkdmFuY2VkRmllbGQnKVwiIiwid2VicGFjazovL1tuYW1lXS8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vW25hbWVdL2V4dGVybmFsIFwiSW50ZXJuYWxTaGFyZWQoJ0ludGVybmFsU2hhcmVkL1BhZ2VCdWlsZGVyL0NvbnRyb2xzL1Byb3BlcnRpZXMvQ2hlY2tCb3hQcm9wZXJ0eScpXCIiLCJ3ZWJwYWNrOi8vW25hbWVdL2V4dGVybmFsIFwiSW50ZXJuYWxTaGFyZWQoJ0ludGVybmFsU2hhcmVkL1BhZ2VCdWlsZGVyL0ZpZWxkcy9GaWVsZEl0ZW1CYXNlJylcIiIsIndlYnBhY2s6Ly9bbmFtZV0vZXh0ZXJuYWwgXCJJbnRlcm5hbFNoYXJlZCgnSW50ZXJuYWxTaGFyZWQvRXZlbnRzL1VwZGF0ZVN0eWxlU2V0dGluZ3NQYW5lbCcpXCIiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvYXBwL0ludGVncmF0aW9uL1dQRm9ybS9Db250cm9scy9JbnZvaWNlRGV0YWlsQ29udHJvbC5PcHRpb25zLnRzIiwid2VicGFjazovL1tuYW1lXS8uL3NyYy9hcHAvSW50ZWdyYXRpb24vV1BGb3JtL0NvbnRyb2xzL0ludm9pY2VEZXRhaWxDb250cm9sLnRzeCIsIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvYXBwL0ludGVncmF0aW9uL1dQRm9ybS9Db250cm9scy9XUEZvcm1GYWN0b3J5LnRzIiwid2VicGFjazovL1tuYW1lXS8uL3NyYy9hcHAvSW50ZWdyYXRpb24vV1BGb3JtL0ZpZWxkSXRlbXMvSW52b2ljZURldGFpbEZpZWxkLnRzeCIsIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvYXBwL0ludGVncmF0aW9uL1dQRm9ybS9Cb290c3RyYXAudHN4Iiwid2VicGFjazovL1tuYW1lXS9leHRlcm5hbCBcIkludGVybmFsU2hhcmVkKCdJbnRlcm5hbFNoYXJlZC9FdmVudHMvVXBkYXRlRmllbGRTZXR0aW5nc1BhbmVsJylcIiIsIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvc2hhcmVkL3V0aWxpdGllcy9FdmVudHMvRXZlbnRNYW5hZ2VyLnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiUmVhY3QiLCJJbnRlcm5hbFNoYXJlZCIsIkhUTUxUYWJsZUNyZWF0b3IiLCJjbGFzc2VzIiwiVGFibGUiLCJ0SGVhZCIsInRCb2R5IiwidEZvb3QiLCJsYXN0U2VjdGlvbkNyZWF0ZWQiLCJsYXN0Um93IiwidGhpcyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsImFwcGVuZENoaWxkIiwiRXJyb3IiLCJlbGVtZW50IiwiY29sdW1uVHlwZSIsInNraXBQVGFnIiwiY29sdW1uIiwiaW5uZXJUZXh0IiwiU3RvcmVCYXNlIiwiSXNEaXJ0eSIsIl9maWVsZHMiLCJfZGVmYXVsdFZhbHVlc0xvYWRlZCIsImZpZWxkIiwicHVzaCIsImluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsInByb3BlcnR5TmFtZSIsImNhbGxCYWNrcyIsImludGVybmFsQ2FsbEJhY2siLCJldmVudCIsIk1vYlhPYnNlcnZlRXZlbnQiLCJtYWluU3Vic2NyaXB0aW9uIiwib2JzZXJ2ZSIsImUiLCJPYnNlcnZlU3ViUHJvcGVydGllcyIsIm5ld1ZhbHVlIiwiVW5zdWJzY3JpYmUiLCJldmVudE1hbmFnZXIiLCJTdWJFbGVtZW50c1Vuc3Vic2NyaWJlIiwiJG1vYngiLCJzdWJQcm9wZXJ0eSIsInZhbHVlcyIsInN1YkVsZW1lbnRzIiwiUGFyc2VBbmRTZXRWYWx1ZSIsIml0ZW1Ub0xvYWQiLCJMb2FkRGVmYXVsdFZhbHVlcyIsIlNldEF1dG9JbmNyZW1lbnRJZHMiLCJTdG9yZUF1dG9JbmNyZW1lbnREaWN0aW9uYXJ5IiwiYXV0b0luY3JlbWVudERpY3Rpb25hcnkiLCJjdXJyZW50VmFsdWUiLCJTYW5pdGl6ZXIiLCJTYW5pdGl6ZU51bWJlciIsImxhc3ROdW1iZXIiLCJNYXRoIiwibWF4IiwibG9hZGVyVmFsdWUiLCJHZXRWYWx1ZUZyb21Mb2FkZXIiLCJudW1lcmljVmFsdWUiLCJwYXJzZUZsb2F0IiwidG9TdHJpbmciLCJpc05hTiIsImNvbnN0cnVjdG9yIiwiQXJyYXkiLCJpc09ic2VydmFibGVBcnJheSIsInR5cGUiLCJSZWZsZWN0IiwiZ2V0TWV0YWRhdGEiLCJTdG9yZUtleSIsIlN0cmluZyIsIk51bWJlciIsIm5ld1ZhbHVlSXRlbSIsIk1lcmdlIiwiaXNWYWxpZCIsIlZhbGlkYXRlIiwidG9KUyIsIlNlcmlhbGl6ZU9iamVjdCIsImNhbGxiYWNrIiwiaW50ZXJjZXB0IiwiZmllbGRzVG9SZW1vdmUiLCJpdGVtIiwiaXNBcnJheSIsIlNlcmlhbGl6ZUFycmF5IiwiYXJyYXkiLCJsZW5ndGgiLCJTdG9yZURhdGFUeXBlIiwibWV0YWRhdGEiLCJzdWJlbGVtZW50IiwiU3RvcmVBdXRvSW5jcmVtZW50IiwidW5pcXVlSWQiLCJ0YXJnZXQiLCJkZXNjcmlwdGlvbiIsImZhY3RvcnkiLCJyb290IiwiZ2xvYmFsIiwic2VsZiIsIkZ1bmN0aW9uIiwiZXhwb3J0ZXIiLCJtYWtlRXhwb3J0ZXIiLCJwcmV2aW91cyIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiaGFzT3duIiwic3VwcG9ydHNTeW1ib2wiLCJ0b1ByaW1pdGl2ZVN5bWJvbCIsInRvUHJpbWl0aXZlIiwiaXRlcmF0b3JTeW1ib2wiLCJpdGVyYXRvciIsInN1cHBvcnRzQ3JlYXRlIiwic3VwcG9ydHNQcm90byIsIl9fcHJvdG9fXyIsImRvd25MZXZlbCIsIkhhc2hNYXAiLCJNYWtlRGljdGlvbmFyeSIsImhhcyIsIm1hcCIsInVuZGVmaW5lZCIsImZ1bmN0aW9uUHJvdG90eXBlIiwiZ2V0UHJvdG90eXBlT2YiLCJ1c2VQb2x5ZmlsbCIsInByb2Nlc3MiLCJlbnYiLCJfTWFwIiwiTWFwIiwiZW50cmllcyIsImNhY2hlU2VudGluZWwiLCJhcnJheVNlbnRpbmVsIiwiTWFwSXRlcmF0b3IiLCJrZXlzIiwic2VsZWN0b3IiLCJfaW5kZXgiLCJfa2V5cyIsIl92YWx1ZXMiLCJfc2VsZWN0b3IiLCJuZXh0IiwicmVzdWx0IiwiZG9uZSIsInRocm93IiwiZXJyb3IiLCJyZXR1cm4iLCJfY2FjaGVLZXkiLCJfY2FjaGVJbmRleCIsIl9maW5kIiwic2V0IiwiZGVsZXRlIiwic2l6ZSIsImNsZWFyIiwiZ2V0S2V5IiwiZ2V0VmFsdWUiLCJnZXRFbnRyeSIsImluc2VydCIsIl8iLCJDcmVhdGVNYXBQb2x5ZmlsbCIsIl9TZXQiLCJTZXQiLCJfbWFwIiwiYWRkIiwiTWV0YWRhdGEiLCJXZWFrTWFwIiwicm9vdEtleSIsIkNyZWF0ZVVuaXF1ZUtleSIsIl9rZXkiLCJ0YWJsZSIsIkdldE9yQ3JlYXRlV2Vha01hcFRhYmxlIiwiQ3JlYXRlVVVJRCIsIkZpbGxSYW5kb21CeXRlcyIsImJ1ZmZlciIsInJhbmRvbSIsImRhdGEiLCJVaW50OEFycmF5IiwiY3J5cHRvIiwiZ2V0UmFuZG9tVmFsdWVzIiwibXNDcnlwdG8iLCJvZmZzZXQiLCJieXRlIiwidG9Mb3dlckNhc2UiLCJDcmVhdGVXZWFrTWFwUG9seWZpbGwiLCJHZXRPckNyZWF0ZU1ldGFkYXRhTWFwIiwiTyIsIlAiLCJDcmVhdGUiLCJ0YXJnZXRNZXRhZGF0YSIsIklzVW5kZWZpbmVkIiwibWV0YWRhdGFNYXAiLCJPcmRpbmFyeUhhc093bk1ldGFkYXRhIiwiTWV0YWRhdGFLZXkiLCJPcmRpbmFyeUdldE93bk1ldGFkYXRhIiwiT3JkaW5hcnlEZWZpbmVPd25NZXRhZGF0YSIsIk1ldGFkYXRhVmFsdWUiLCJPcmRpbmFyeU93bk1ldGFkYXRhS2V5cyIsIm9iaiIsIm1ldGhvZCIsIkdldE1ldGhvZCIsIklzQ2FsbGFibGUiLCJUeXBlRXJyb3IiLCJJc09iamVjdCIsIkdldEl0ZXJhdG9yIiwiayIsIkl0ZXJhdG9yU3RlcCIsIm5leHRWYWx1ZSIsIkl0ZXJhdG9yQ2xvc2UiLCJUeXBlIiwieCIsIklzTnVsbCIsIlRvUHJpbWl0aXZlIiwiaW5wdXQiLCJQcmVmZXJyZWRUeXBlIiwiaGludCIsImV4b3RpY1RvUHJpbSIsInRvU3RyaW5nXzEiLCJ2YWx1ZU9mIiwidG9TdHJpbmdfMiIsIk9yZGluYXJ5VG9QcmltaXRpdmUiLCJUb1Byb3BlcnR5S2V5IiwiYXJndW1lbnQiLCJUb1N0cmluZyIsIklzQXJyYXkiLCJJc0NvbnN0cnVjdG9yIiwiViIsImZ1bmMiLCJmIiwiT3JkaW5hcnlHZXRQcm90b3R5cGVPZiIsInByb3RvIiwicHJvdG90eXBlUHJvdG8iLCJfXyIsImRlY29yYXRvcnMiLCJwcm9wZXJ0eUtleSIsImF0dHJpYnV0ZXMiLCJkZWNvcmF0ZWQiLCJkZWNvcmF0b3IiLCJEZWNvcmF0ZUNvbnN0cnVjdG9yIiwiZGVzY3JpcHRvciIsIkRlY29yYXRlUHJvcGVydHkiLCJtZXRhZGF0YUtleSIsIm1ldGFkYXRhVmFsdWUiLCJJc1Byb3BlcnR5S2V5IiwiT3JkaW5hcnlIYXNNZXRhZGF0YSIsInBhcmVudCIsIk9yZGluYXJ5R2V0TWV0YWRhdGEiLCJPcmRpbmFyeU1ldGFkYXRhS2V5cyIsIm93bktleXMiLCJwYXJlbnRLZXlzIiwiX2kiLCJvd25LZXlzXzEiLCJfYSIsInBhcmVudEtleXNfMSIsImNsZWFyV2hlbk5vdEFycmF5IiwiU2FuaXRpemVTdHJpbmciLCJkZWZhdWx0VmFsdWUiLCJwYXRoIiwibmV4dFByb3BlcnR5Iiwic2hpZnQiLCJHZXRWYWx1ZUZyb21QYXRoIiwiQ3VycmVuY3lVdGlscyIsIkNvbmZpZyIsIndpbmRvdyIsIlJOQ3VycmVuY3lVdGlscyIsImFtb3VudCIsInRleHQiLCJ0b0ZpeGVkIiwiTnVtYmVyT2ZEZWNpbWFscyIsInNwbGl0IiwieDEiLCJ4MiIsInJneCIsIlRob3VzYW5kU2VwYXJhdG9yIiwidGVzdCIsInJlcGxhY2UiLCJzbGljZSIsIkRlY2ltYWxTZXBhcmF0b3IiLCJQb3NpdGlvbiIsIm1vYngiLCJnIiwiY2FjaGVkU2V0VGltZW91dCIsImNhY2hlZENsZWFyVGltZW91dCIsImRlZmF1bHRTZXRUaW1vdXQiLCJkZWZhdWx0Q2xlYXJUaW1lb3V0IiwicnVuVGltZW91dCIsImZ1biIsInNldFRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJjdXJyZW50UXVldWUiLCJxdWV1ZSIsImRyYWluaW5nIiwicXVldWVJbmRleCIsImNsZWFuVXBOZXh0VGljayIsImNvbmNhdCIsImRyYWluUXVldWUiLCJ0aW1lb3V0IiwibGVuIiwicnVuIiwibWFya2VyIiwicnVuQ2xlYXJUaW1lb3V0IiwiSXRlbSIsIm5vb3AiLCJuZXh0VGljayIsImFyZ3MiLCJhcmd1bWVudHMiLCJhcHBseSIsInRpdGxlIiwiYnJvd3NlciIsImFyZ3YiLCJ2ZXJzaW9uIiwidmVyc2lvbnMiLCJvbiIsImFkZExpc3RlbmVyIiwib25jZSIsIm9mZiIsInJlbW92ZUxpc3RlbmVyIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwiZW1pdCIsInByZXBlbmRMaXN0ZW5lciIsInByZXBlbmRPbmNlTGlzdGVuZXIiLCJsaXN0ZW5lcnMiLCJiaW5kaW5nIiwiY3dkIiwiY2hkaXIiLCJkaXIiLCJ1bWFzayIsIkludm9pY2VEZXRhaWxDb2x1bW5UeXBlRW51bSIsIkludm9pY2VEZXRhaWxDb2x1bW5Gb3JtYXRFbnVtIiwiUm93U2VwYXJhdG9yRW51bSIsIkludm9pY2VEZXRhaWxDb2x1bW4iLCJMYWJlbCIsIkZvcm1hdCIsInN0cmluZyIsIkludm9pY2VEZXRhaWxDb250cm9sT3B0aW9ucyIsIlNob3dHcmFuZFRvdGFsIiwiUHJvZHVjdExhYmVsIiwiUHJpY2VMYWJlbCIsIkdyYW5kVG90YWxMYWJlbCIsIlJvd1NlcGFyYXRvciIsIkV2ZW5Db2xvciIsIkV2ZW5CYWNrZ3JvdW5kIiwiT2RkQ29sb3IiLCJPZGRCYWNrZ3JvdW5kIiwiQm9yZGVyQ29sb3IiLCJXUEZvcm1Db250cm9sVHlwZUVudW0iLCJJbnZvaWNlRGV0YWlsIiwiQ29sdW1ucyIsIlN0cmlwcGVkIiwiUERGQ29udHJvbEJhc2VPcHRpb25zIiwib2JzZXJ2YWJsZSIsIkludm9pY2VEZXRhaWxDb250cm9sIiwiQWxsb3dlZFJlc2l6ZURpcmVjdGlvbiIsIk9wdGlvbnMiLCJwcm9wZXJ0aWVzIiwiRGltZW5zaW9uU3R5bGVTZXQiLCJHZXRTdHlsZXMiLCJHcm91cFByb3BlcnRpZXMiLCJBZGRQcm9wZXJ0aWVzIiwiQ29sb3JQcm9wZXJ0eSIsIlN0eWxlTWFuYWdlciIsIkNyZWF0ZVN0eWxlQ2xhc3NNYW5hZ2VyIiwiU2V0TGFiZWwiLCJBZGRTdHlsZXMiLCJ3aWR0aCIsImRpc3BsYXkiLCJPbkNoYW5nZSIsIlNldEluaXRpYWxTdHlsZXMiLCJMaW5lIiwiTGFzdFJvdyIsIk5vbmUiLCJDbGVhckZpZWxkU3R5bGVzIiwiQWRkU3R5bGVTZXQiLCJwcmljZSIsIiRjb250YWluZXIiLCJjcmVhdG9yIiwiYXBwZW5kIiwiQ3JlYXRlVEhlYWQiLCJDcmVhdGVSb3ciLCJDcmVhdGVUZXh0Q29sdW1uIiwiQ3JlYXRlVEJvZHkiLCJHZXRGYWtlRGF0YSIsInJvdyIsIm51bWJlciIsIkdldEluc3RhbmNlIiwiRm9ybWF0VmFsdWUiLCJmb290Q3JlYXRvciIsIkRyb3BEb3duUHJvcGVydHkiLCJBZGRPcHRpb24iLCJFdmVudE1hbmFnZXIiLCJQdWJsaXNoIiwiVXBkYXRlRmllbGRTZXR0aW5nc1BhbmVsIiwiVXBkYXRlU3R5bGVTZXR0aW5nc1BhbmVsIiwiU2ltcGxlVGV4dFByb3BlcnR5IiwiZmluZCIsIlByb2R1Y3ROYW1lIiwiUHJpY2UiLCJDaGVja0JveFByb3BlcnR5IiwiSWQiLCJQcm9taXNlIiwicmVzb2x2ZSIsIlN0eWxlcyIsIkxlZnQiLCJXaWR0aCIsImNvbnRhaW5lciIsIkltYWdlUHJvcGVydHkiLCJTZXRXaWR0aCIsIlBERkNvbnRyb2xCYXNlIiwiV1BGb3JtQ29udHJvbEZhY3RvcnkiLCJjb250cm9sVHlwZSIsIldQRm9ybUNvbnRyb2xPcHRpb25zRmFjdG9yeSIsIkludm9pY2VEZXRhaWxGaWVsZCIsInByb3BzIiwiSXNQUiIsInN0YXRlIiwiRmllbGRJdGVtQmFzZSIsImRlZmF1bHRQcm9wcyIsIlN1YnNjcmliZSIsIkdldEFkdmFuY2VkRmllbGQiLCJHZXRDb250cm9sT3B0aW9ucyIsIkdldENvbnRyb2wiLCJSTkxvY2FsRXZlbnQiLCJMb2NhbEV2ZW50TWFuYWdlciIsImNhbGxCYWNrIiwiVW5zdWJzY3JpYmVFdmVudCIsIkxvY2FsRXZlbnQiLCJFdmVudHMiLCJldmVudE5hbWUiLCJHZXROYW1lIiwiZXZlbnRzVG9DYWxsIiwiZXZlbnRUb0NhbGwiLCJhdXgiLCJDYWxsQmFjayIsIkV2ZW50SXRlbSIsImV2ZW50cyIsIkV2ZW50IiwiUmV0dXJuVHlwZSIsIkV2ZW50QmFzZSJdLCJtYXBwaW5ncyI6IjhCQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQTBEZixPQXJEQUYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEUCxPQUFPQyxlQUFlYixFQUFTLGFBQWMsQ0FBRW1CLE9BQU8sS0FRdkRy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LE9BQU9DLEdBQVcsSUFHM0I1WixLQUFLMlosT0FBT0MsR0FBVzVZLEtBQUssSUFBSWtaLEVBQVUzWSxFQUFhaVksTUFoQy9ELHVDQW9DaURqWSxFQUFzQmlZLEdBRS9ELElBQUlJLEVBQVdyWSxFQUFjc1ksVUFDekJNLEVBQW1CbmEsS0FBSzJaLE9BQU9DLEdBQ25DLEdBQVcsTUFBUk8sRUFBSCxDQUdBLElBQUkxVixFQUFLMFYsRUFBT3hDLE1BQUssU0FBQXhMLEdBQUMsT0FBRUEsRUFBRThOLFVBQVVULEtBQzNCLE1BQU4vVSxHQUNDMFYsRUFBT2haLE9BQU9nWixFQUFPalosUUFBUXVELEdBQU0sR0FFckIsR0FBZjBWLEVBQU90VixlQUNDN0UsS0FBSzJaLE9BQU9DLFFBaEQvQixLQXFETU0sRUFLRixXQUFZM1ksRUFBZ0JpWSxHQUM1QixlQUxBWSxXQUtBLE9BSkFILGNBSUEsT0FIVUksZ0JBR1YsRUFDSXJhLEtBQUtvYSxNQUFNN1ksRUFDWHZCLEtBQUtpYSxTQUFTVCxHQU9BYyxFQUF0Qix1Q0FDV0QsZ0JBRFgsbURBR1EsTUFBTSxJQUFJaGEsTUFBTSw0QkFIeEIiLCJmaWxlIjoiV1BGb3JtQnVpbGRlcl9idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNzU4KTtcbiIsIm1vZHVsZS5leHBvcnRzID0gUmVhY3Q7IiwibW9kdWxlLmV4cG9ydHMgPSBJbnRlcm5hbFNoYXJlZCgnSW50ZXJuYWxTaGFyZWQvUGFnZUJ1aWxkZXIvQ29udHJvbHMvUHJvcGVydGllcy9zdHlsZXMvR3JvdXBQcm9wZXJ0aWVzJyk7IiwiXHJcbmV4cG9ydCBjbGFzcyBIVE1MVGFibGVDcmVhdG9yIHtcclxuICAgIHB1YmxpYyBUYWJsZTpIVE1MVGFibGVFbGVtZW50O1xyXG4gICAgcHJpdmF0ZSB0SGVhZDpIVE1MRWxlbWVudDtcclxuICAgIHByaXZhdGUgdEJvZHk6SFRNTEVsZW1lbnQ7XHJcbiAgICBwcml2YXRlIHRGb290OkhUTUxFbGVtZW50O1xyXG4gICAgcHJpdmF0ZSBsYXN0U2VjdGlvbkNyZWF0ZWQ6SFRNTEVsZW1lbnQ7XHJcbiAgICBwcml2YXRlIGxhc3RSb3c6SFRNTFRhYmxlUm93RWxlbWVudDtcclxuICAgIGNvbnN0cnVjdG9yKGNsYXNzZXM6c3RyaW5nPScnKXtcclxuICAgICAgICB0aGlzLlRhYmxlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RhYmxlJyk7XHJcbiAgICAgICAgdGhpcy5UYWJsZS5jbGFzc05hbWU9Y2xhc3NlcztcclxuICAgIH1cclxuXHJcbiAgICBDcmVhdGVUSGVhZChjbGFzc2VzOnN0cmluZz0nJylcclxuICAgIHtcclxuICAgICAgICBpZih0aGlzLnRIZWFkPT1udWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMudEhlYWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0aGVhZCcpO1xyXG4gICAgICAgICAgICB0aGlzLnRIZWFkLmNsYXNzTmFtZT1jbGFzc2VzO1xyXG4gICAgICAgICAgICB0aGlzLlRhYmxlLmFwcGVuZENoaWxkKHRoaXMudEhlYWQpO1xyXG4gICAgICAgICAgICB0aGlzLmxhc3RTZWN0aW9uQ3JlYXRlZD10aGlzLnRIZWFkO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBDcmVhdGVUQm9keShjbGFzc2VzOnN0cmluZz0nJylcclxuICAgIHtcclxuICAgICAgICBpZih0aGlzLnRCb2R5PT1udWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMudEJvZHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0Ym9keScpO1xyXG4gICAgICAgICAgICB0aGlzLnRCb2R5LmNsYXNzTmFtZT1jbGFzc2VzO1xyXG4gICAgICAgICAgICB0aGlzLlRhYmxlLmFwcGVuZENoaWxkKHRoaXMudEJvZHkpO1xyXG4gICAgICAgICAgICB0aGlzLmxhc3RTZWN0aW9uQ3JlYXRlZD10aGlzLnRCb2R5O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBDcmVhdGVURm9vdChjbGFzc2VzOnN0cmluZz0nJylcclxuICAgIHtcclxuICAgICAgICBpZih0aGlzLnRGb290PT1udWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMudEZvb3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0Zm9vdCcpO1xyXG4gICAgICAgICAgICB0aGlzLnRGb290LmNsYXNzTmFtZT1jbGFzc2VzO1xyXG4gICAgICAgICAgICB0aGlzLlRhYmxlLmFwcGVuZENoaWxkKHRoaXMudEZvb3QpO1xyXG4gICAgICAgICAgICB0aGlzLmxhc3RTZWN0aW9uQ3JlYXRlZD10aGlzLnRGb290O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBDcmVhdGVSb3coY2xhc3NlczpzdHJpbmc9Jycpe1xyXG4gICAgICAgIGlmKHRoaXMubGFzdFNlY3Rpb25DcmVhdGVkPT1udWxsKVxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHRib2R5IG9yIHRoZWFkIHdhcyBjcmVhdGVkIHlldCcpO1xyXG5cclxuICAgICAgICB0aGlzLmxhc3RSb3c9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTtcclxuICAgICAgICB0aGlzLmxhc3RSb3cuY2xhc3NOYW1lPWNsYXNzZXM7XHJcbiAgICAgICAgdGhpcy5sYXN0U2VjdGlvbkNyZWF0ZWQuYXBwZW5kQ2hpbGQodGhpcy5sYXN0Um93KTtcclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIENyZWF0ZVRleHRDb2x1bW4oZWxlbWVudCxjbGFzc2VzOnN0cmluZz0nJyxjb2x1bW5UeXBlOid0aCd8J3RkJz0ndGQnLHNraXBQVGFnPWZhbHNlKVxyXG4gICAge1xyXG5cclxuICAgICAgICBsZXQgY29sdW1uPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoY29sdW1uVHlwZSk7XHJcbiAgICAgICAgY29sdW1uLmNsYXNzTmFtZT1jbGFzc2VzO1xyXG4gICAgICAgIHRoaXMubGFzdFJvdy5hcHBlbmRDaGlsZChjb2x1bW4pO1xyXG5cclxuICAgICAgICBsZXQgcDphbnk7XHJcbiAgICAgICAgaWYoc2tpcFBUYWcpXHJcbiAgICAgICAgICAgIHA9Y29sdW1uO1xyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xyXG4gICAgICAgICAgICBjb2x1bW4uYXBwZW5kQ2hpbGQocCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHAuaW5uZXJUZXh0PWVsZW1lbnQ7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIENyZWF0ZVJhd0NvbHVtbihlbGVtZW50LGNsYXNzZXM6c3RyaW5nPScnLGNvbHVtblR5cGU6J3RoJ3wndGQnPSd0ZCcpXHJcbiAgICB7XHJcblxyXG4gICAgICAgIGxldCBjb2x1bW49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChjb2x1bW5UeXBlKTtcclxuICAgICAgICBjb2x1bW4uY2xhc3NOYW1lPWNsYXNzZXM7XHJcbiAgICAgICAgdGhpcy5sYXN0Um93LmFwcGVuZENoaWxkKGNvbHVtbik7XHJcbiAgICAgICAgY29sdW1uLmFwcGVuZENoaWxkKGVsZW1lbnQpO1xyXG4gICAgICAgIHJldHVybiBjb2x1bW47XHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0IHtJSW50ZXJjZXB0b3IsIGludGVyY2VwdCwgaXNPYnNlcnZhYmxlQXJyYXksIElWYWx1ZVdpbGxDaGFuZ2UsIHRvSlN9IGZyb20gXCJtb2J4XCI7XHJcbmltcG9ydCB7U3RvcmVDb250cm9sfSBmcm9tIFwiLi4vLi4vY29udHJvbHMvYmFzZS9TdG9yZUNvbnRyb2xcIjtcclxuaW1wb3J0ICdyZWZsZWN0LW1ldGFkYXRhJztcclxuaW1wb3J0IHtvYnNlcnZlfSBmcm9tIFwibW9ieFwiO1xyXG5pbXBvcnQge1Nhbml0aXplcn0gZnJvbSBcInNoYXJlZC91dGlsaXRpZXMvU2FuaXRpemVyXCI7XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgU3RvcmVCYXNlIHtcclxuXHJcbiAgICBJc0RpcnR5OmJvb2xlYW49ZmFsc2U7XHJcbiAgICBwcml2YXRlIF9maWVsZHM6U3RvcmVDb250cm9sPGFueSxhbnk+W109W107XHJcbiAgICBwcml2YXRlIF9kZWZhdWx0VmFsdWVzTG9hZGVkOmJvb2xlYW47XHJcbiAgICBjb25zdHJ1Y3RvcigpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5fZGVmYXVsdFZhbHVlc0xvYWRlZD1mYWxzZTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBBZGRGaWVsZChmaWVsZDpTdG9yZUNvbnRyb2w8YW55LGFueT4pe1xyXG4gICAgICAgIGlmKHRoaXMuX2ZpZWxkcz09bnVsbClcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMuX2ZpZWxkcy5wdXNoKGZpZWxkKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgUmVtb3ZlRmllbGQoZmllbGQ6U3RvcmVDb250cm9sPGFueSxhbnk+KVxyXG4gICAge1xyXG4gICAgICAgIGlmKHRoaXMuX2ZpZWxkcz09bnVsbClcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIGxldCBpbmRleD10aGlzLl9maWVsZHMuaW5kZXhPZihmaWVsZCk7XHJcbiAgICAgICAgaWYoaW5kZXg+PTApXHJcbiAgICAgICAgICAgIHRoaXMuX2ZpZWxkcy5zcGxpY2UoaW5kZXgsMSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIE9ic2VydmUocHJvcGVydHlOYW1lOnN0cmluZyxjYWxsQmFja3M6KHBhcmFtczphbnkpPT52b2lkKTooKT0+dm9pZHtcclxuXHJcbiAgICAgICAgbGV0IGludGVybmFsQ2FsbEJhY2s9KCk9PntjYWxsQmFja3ModGhpc1twcm9wZXJ0eU5hbWVdKTt9O1xyXG4gICAgICAgIGxldCBldmVudD1uZXcgTW9iWE9ic2VydmVFdmVudCgpO1xyXG5cclxuICAgICAgICBldmVudC5tYWluU3Vic2NyaXB0aW9uPW9ic2VydmUodGhpcyBhcyBhbnkscHJvcGVydHlOYW1lLChlKT0+e1xyXG4gICAgICAgICAgICBpbnRlcm5hbENhbGxCYWNrKCk7XHJcbiAgICAgICAgICAgIHRoaXMuT2JzZXJ2ZVN1YlByb3BlcnRpZXMoZS5uZXdWYWx1ZSxpbnRlcm5hbENhbGxCYWNrLGV2ZW50KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLk9ic2VydmVTdWJQcm9wZXJ0aWVzKHRoaXNbcHJvcGVydHlOYW1lXSxpbnRlcm5hbENhbGxCYWNrLGV2ZW50KTtcclxuICAgICAgICByZXR1cm4gZXZlbnQuVW5zdWJzY3JpYmUuYmluZChldmVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBPYnNlcnZlU3ViUHJvcGVydGllcyhvYmplY3Q6YW55LGludGVybmFsQ2FsbEJhY2s6YW55LGV2ZW50TWFuYWdlcjpNb2JYT2JzZXJ2ZUV2ZW50KXtcclxuICAgICAgICBldmVudE1hbmFnZXIuU3ViRWxlbWVudHNVbnN1YnNjcmliZSgpO1xyXG4gICAgICAgIGlmKG9iamVjdD09bnVsbHx8dHlwZW9mIG9iamVjdC4kbW9ieCA9PVwidW5kZWZpbmVkXCIpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICBmb3IobGV0IHN1YlByb3BlcnR5IGluIG9iamVjdC4kbW9ieC52YWx1ZXMpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBldmVudE1hbmFnZXIuc3ViRWxlbWVudHMucHVzaChvYnNlcnZlKG9iamVjdCxzdWJQcm9wZXJ0eSwoZSk9PntcclxuICAgICAgICAgICAgICAgIGludGVybmFsQ2FsbEJhY2soKTtcclxuICAgICAgICAgICAgfSkpO1xyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIEdldFZhbHVlKHByb3BlcnR5OmtleW9mIHRoaXN8YW55KVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiB0aGlzW3Byb3BlcnR5XTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgU2V0VmFsdWUocHJvcGVydHk6a2V5b2YgdGhpc3xhbnksdmFsdWU6YW55KVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiB0aGlzLlBhcnNlQW5kU2V0VmFsdWUocHJvcGVydHksdmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBhYnN0cmFjdCBMb2FkRGVmYXVsdFZhbHVlcygpO1xyXG5cclxuICAgIHB1YmxpYyBNZXJnZTxLIGV4dGVuZHMga2V5b2YgdGhpcz4oaXRlbVRvTG9hZDpQYXJ0aWFsPHRoaXM+fGFueT1udWxsKXtcclxuICAgICAgICBpZighdGhpcy5fZGVmYXVsdFZhbHVlc0xvYWRlZCkge1xyXG4gICAgICAgICAgICB0aGlzLkxvYWREZWZhdWx0VmFsdWVzKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2RlZmF1bHRWYWx1ZXNMb2FkZWQ9dHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoaXRlbVRvTG9hZD09bnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLlNldEF1dG9JbmNyZW1lbnRJZHMoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvcihsZXQgcHJvcGVydHlOYW1lIGluIGl0ZW1Ub0xvYWQpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZigodGhpcyBhcyBhbnkpLmhhc093blByb3BlcnR5KHByb3BlcnR5TmFtZSkpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxldCB2YWx1ZTphbnk9aXRlbVRvTG9hZFtwcm9wZXJ0eU5hbWVdO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5QYXJzZUFuZFNldFZhbHVlKHByb3BlcnR5TmFtZSx2YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5TZXRBdXRvSW5jcmVtZW50SWRzKCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyBTZXRBdXRvSW5jcmVtZW50SWRzKClcclxuICAgIHtcclxuICAgICAgICBpZigodGhpcyBhcyBhbnkpLlN0b3JlQXV0b0luY3JlbWVudERpY3Rpb25hcnk9PW51bGwpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgbGV0IGF1dG9JbmNyZW1lbnREaWN0aW9uYXJ5PSh0aGlzIGFzIGFueSkuU3RvcmVBdXRvSW5jcmVtZW50RGljdGlvbmFyeTtcclxuICAgICAgICBmb3IobGV0IHByb3BlcnR5TmFtZSBpbiB0aGlzKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYoISh0aGlzIGFzIGFueSkuaGFzT3duUHJvcGVydHkocHJvcGVydHlOYW1lKSlcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICAgICAgbGV0IGF1dG9JbmNyZW1lbnRJZD1udWxsO1xyXG5cclxuXHJcbiAgICAgICAgICAgIGlmKGF1dG9JbmNyZW1lbnREaWN0aW9uYXJ5W3Byb3BlcnR5TmFtZV09PW51bGwpXHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuXHJcblxyXG5cclxuXHJcblxyXG4gICAgICAgICAgICBsZXQgY3VycmVudFZhbHVlOmFueT1TYW5pdGl6ZXIuU2FuaXRpemVOdW1iZXIodGhpc1twcm9wZXJ0eU5hbWVdKTtcclxuICAgICAgICAgICAgaWYoY3VycmVudFZhbHVlPT0wfHxjdXJyZW50VmFsdWU9PW51bGwpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxldCBsYXN0TnVtYmVyPWF1dG9JbmNyZW1lbnREaWN0aW9uYXJ5W3Byb3BlcnR5TmFtZV07XHJcbiAgICAgICAgICAgICAgICArK2xhc3ROdW1iZXI7XHJcbiAgICAgICAgICAgICAgICB0aGlzW3Byb3BlcnR5TmFtZV09bGFzdE51bWJlcjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgYXV0b0luY3JlbWVudERpY3Rpb25hcnlbcHJvcGVydHlOYW1lXT1NYXRoLm1heCgodGhpcyBhcyBhbnkpW3Byb3BlcnR5TmFtZV0sYXV0b0luY3JlbWVudERpY3Rpb25hcnlbcHJvcGVydHlOYW1lXSk7XHJcblxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIFBhcnNlQW5kU2V0VmFsdWUocHJvcGVydHlOYW1lLHZhbHVlOmFueSl7XHJcbiAgICAgICAgbGV0IGN1cnJlbnRWYWx1ZT10aGlzW3Byb3BlcnR5TmFtZV07XHJcbiAgICAgICAgbGV0IGxvYWRlclZhbHVlPXRoaXMuR2V0VmFsdWVGcm9tTG9hZGVyKHByb3BlcnR5TmFtZSx2YWx1ZSk7XHJcbiAgICAgICAgaWYobG9hZGVyVmFsdWUhPW51bGwpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAodGhpcyBhcyBhbnkpW3Byb3BlcnR5TmFtZV09bG9hZGVyVmFsdWU7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKGN1cnJlbnRWYWx1ZSE9bnVsbCYmIGN1cnJlbnRWYWx1ZS5Mb2FkRGVmYXVsdFZhbHVlcyE9bnVsbCkge1xyXG4gICAgICAgICAgICBpZih2YWx1ZSE9bnVsbCYmdmFsdWUuaGFzT3duUHJvcGVydHkoJ19maWVsZHMnKSYmdmFsdWUuaGFzT3duUHJvcGVydHkoJ19kZWZhdWx0VmFsdWVzTG9hZGVkJykpXHJcbiAgICAgICAgICAgICAgICAodGhpcyBhcyBhbnkpW3Byb3BlcnR5TmFtZV09dmFsdWU7XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICh0aGlzIGFzIGFueSlbcHJvcGVydHlOYW1lXS5NZXJnZSh2YWx1ZSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKHR5cGVvZiBjdXJyZW50VmFsdWU9PSdudW1iZXInKSB7XHJcbiAgICAgICAgICAgIGxldCBudW1lcmljVmFsdWU9cGFyc2VGbG9hdCh2YWx1ZS50b1N0cmluZygpKTtcclxuICAgICAgICAgICAgaWYoaXNOYU4obnVtZXJpY1ZhbHVlKSlcclxuICAgICAgICAgICAgICAgIG51bWVyaWNWYWx1ZT0wO1xyXG4gICAgICAgICAgICAodGhpcyBhcyBhbnkpW3Byb3BlcnR5TmFtZV0gPSBudW1lcmljVmFsdWU7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKHR5cGVvZiBjdXJyZW50VmFsdWU9PSdib29sZWFuJylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmKCFpc05hTih2YWx1ZSkpXHJcbiAgICAgICAgICAgICAgICAodGhpcyBhcyBhbnkpW3Byb3BlcnR5TmFtZV09dmFsdWU9PT10cnVlfHxwYXJzZUZsb2F0KHZhbHVlKT09MTtcclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgKHRoaXMgYXMgYW55KVtwcm9wZXJ0eU5hbWVdPXZhbHVlPT0ndHJ1ZSc7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBpZih0eXBlb2YgY3VycmVudFZhbHVlPT0nc3RyaW5nJylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgICh0aGlzIGFzIGFueSlbcHJvcGVydHlOYW1lXT12YWx1ZTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYoY3VycmVudFZhbHVlIT1udWxsJiYgY3VycmVudFZhbHVlLmNvbnN0cnVjdG9yPT1BcnJheXx8aXNPYnNlcnZhYmxlQXJyYXkoY3VycmVudFZhbHVlKSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxldCB0eXBlPShSZWZsZWN0IGFzIGFueSkuZ2V0TWV0YWRhdGEoU3RvcmVLZXksdGhpcyxwcm9wZXJ0eU5hbWUpIGFzIHR5cGVvZiBTdG9yZUJhc2U7XHJcbiAgICAgICAgICAgIGlmKHR5cGU9PW51bGwpXHJcbiAgICAgICAgICAgICAgICB0aHJvdyAnUHJvcGVydHkgJytwcm9wZXJ0eU5hbWUrJyBvZiBjbGFzcyAnKyh0aGlzIGFzIGFueSkuY29uc3RydWN0b3IubmFtZSsnIGlzIGFuIGFycmF5IGJ1dCBkb2VzIG5vdCBoYXZlIHRoZSBPcHRpb25UeXBlIGRlY29yYXRvciBpbXBsZW1lbnRlZCc7XHJcblxyXG4gICAgICAgICAgICAodGhpc1twcm9wZXJ0eU5hbWVdIGFzIGFueSk9W107XHJcbiAgICAgICAgICAgIGlmKCh0eXBlIGFzIGFueSk9PVN0cmluZylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpc1twcm9wZXJ0eU5hbWVdPXZhbHVlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgaWYoKHR5cGUgYXMgYW55KT09TnVtYmVyKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzW3Byb3BlcnR5TmFtZV09dmFsdWU7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yKGxldCBuZXdWYWx1ZUl0ZW0gb2YgdmFsdWUpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgaWYobmV3VmFsdWVJdGVtIT1udWxsJiZuZXdWYWx1ZUl0ZW0uaGFzT3duUHJvcGVydHkoJ19maWVsZHMnKSYmbmV3VmFsdWVJdGVtLmhhc093blByb3BlcnR5KCdfZGVmYXVsdFZhbHVlc0xvYWRlZCcpKVxyXG4gICAgICAgICAgICAgICAgICAgICh0aGlzW3Byb3BlcnR5TmFtZV0gYXMgYW55KS5wdXNoKG5ld1ZhbHVlSXRlbSk7XHJcbiAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgKHRoaXNbcHJvcGVydHlOYW1lXSBhcyBhbnkpLnB1c2gobmV3ICh0eXBlIGFzIGFueSkoKS5NZXJnZShuZXdWYWx1ZUl0ZW0pKTtcclxuXHRcdFx0fVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IHR5cGU9KFJlZmxlY3QgYXMgYW55KS5nZXRNZXRhZGF0YShTdG9yZUtleSx0aGlzLHByb3BlcnR5TmFtZSkgYXMgYW55O1xyXG4gICAgICAgIGlmKHR5cGU9PU9iamVjdClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXNbcHJvcGVydHlOYW1lXT12YWx1ZTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG5cclxuICAgICAgICB0aHJvdyAnQ291bGQgbm90IHByb2Nlc3MgdHlwZSAnKyB0eXBlb2YgY3VycmVudFZhbHVlKycgb2YgJytwcm9wZXJ0eU5hbWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIEdldFZhbHVlRnJvbUxvYWRlcihwcm9wZXJ0eTprZXlvZiB0aGlzLHZhbHVlOmFueSk6YW55XHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgVmFsaWRhdGUoKXtcclxuICAgICAgICBsZXQgaXNWYWxpZD10cnVlO1xyXG4gICAgICAgIGlmKHRoaXMuX2ZpZWxkcz09bnVsbClcclxuICAgICAgICAgICAgcmV0dXJuIGlzVmFsaWQ7XHJcbiAgICAgICAgZm9yKGxldCBmaWVsZCBvZiB0aGlzLl9maWVsZHMpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZighZmllbGQuVmFsaWRhdGUoKSlcclxuICAgICAgICAgICAgICAgIGlzVmFsaWQ9ZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gaXNWYWxpZDtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHVibGljIFRvT2JqZWN0KCl7XHJcbiAgICAgICBsZXQgb2JqZWN0PXRvSlModGhpcyk7XHJcbiAgICAgICByZXR1cm4gdGhpcy5TZXJpYWxpemVPYmplY3Qob2JqZWN0KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgU3Vic2NyaWJlKHByb3BlcnR5TmFtZTprZXlvZiB0aGlzLGNhbGxiYWNrOklJbnRlcmNlcHRvcjxJVmFsdWVXaWxsQ2hhbmdlPGFueT4+KVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBpbnRlcmNlcHQodGhpcyxwcm9wZXJ0eU5hbWUsY2FsbGJhY2spO1xyXG5cclxuICAgIH1cclxuXHJcblxyXG4gICAgcHJpdmF0ZSBTZXJpYWxpemVPYmplY3Qob2JqZWN0OiB0aGlzKTphbnkge1xyXG4gICAgICAgIGxldCBmaWVsZHNUb1JlbW92ZT1bJ19maWVsZHMnLCdfZGVmYXVsdFZhbHVlc0xvYWRlZCcsJ0lzRGlydHknXTtcclxuXHJcbiAgICAgICAgZm9yKGxldCBwcm9wZXJ0eSBpbiBvYmplY3QpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBsZXQgaXRlbT1vYmplY3RbcHJvcGVydHldO1xyXG4gICAgICAgICAgICBpZihmaWVsZHNUb1JlbW92ZS5pbmRleE9mKHByb3BlcnR5KT49MHx8dHlwZW9mIGl0ZW09PSdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSBvYmplY3RbcHJvcGVydHldO1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmKEFycmF5LmlzQXJyYXkoaXRlbSkpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuU2VyaWFsaXplQXJyYXkoaXRlbSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmKHR5cGVvZiBpdGVtPT0nb2JqZWN0JylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaXRlbT10aGlzLlNlcmlhbGl6ZU9iamVjdChpdGVtIGFzIGFueSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gb2JqZWN0O1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgU2VyaWFsaXplQXJyYXkoYXJyYXk6IGFueVtdKSB7XHJcbiAgICAgICAgICAgIGZvcihsZXQgaT0wO2k8YXJyYXkubGVuZ3RoO2krKylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGV0IGl0ZW09YXJyYXlbaV07XHJcbiAgICAgICAgICAgICAgICBpZihBcnJheS5pc0FycmF5KGl0ZW0pKVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuU2VyaWFsaXplQXJyYXkoaXRlbSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYodHlwZW9mIGl0ZW0gPT0nb2JqZWN0JylcclxuICAgICAgICAgICAgICAgICAgICBhcnJheVtpXT10aGlzLlNlcmlhbGl6ZU9iamVjdChpdGVtKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5cclxuXHJcbmNvbnN0IFN0b3JlS2V5PSdTdG9yZVR5cGUnO1xyXG5leHBvcnQgZnVuY3Rpb24gU3RvcmVEYXRhVHlwZSh0eXBlOnR5cGVvZiBTdG9yZUJhc2V8b2JqZWN0KSB7XHJcbiAgICByZXR1cm4gKFJlZmxlY3QgYXMgYW55KS5tZXRhZGF0YShTdG9yZUtleSx0eXBlKTtcclxufVxyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBNb2JYT2JzZXJ2ZUV2ZW50e1xyXG4gICAgcHVibGljIG1haW5TdWJzY3JpcHRpb246KCk9PnZvaWQ7XHJcbiAgICBwdWJsaWMgc3ViRWxlbWVudHM6KCgpPT52b2lkIClbXT1bXTtcclxuICAgIFVuc3Vic2NyaWJlKCl7XHJcbiAgICAgICAgdGhpcy5tYWluU3Vic2NyaXB0aW9uKCk7XHJcbiAgICAgICAgdGhpcy5TdWJFbGVtZW50c1Vuc3Vic2NyaWJlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIFN1YkVsZW1lbnRzVW5zdWJzY3JpYmUoKXtcclxuICAgICAgICBpZih0aGlzLnN1YkVsZW1lbnRzPT1udWxsKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgZm9yKGxldCBzdWJlbGVtZW50IG9mIHRoaXMuc3ViRWxlbWVudHMpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBzdWJlbGVtZW50KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnN1YkVsZW1lbnRzPVtdO1xyXG4gICAgfVxyXG5cclxuXHJcbn1cclxuXHJcblxyXG5jb25zdCBTdG9yZUF1dG9JbmNyZW1lbnRLZXk9J1N0b3JlQXV0b0luY3JlbWVudCc7XHJcblxyXG5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBTdG9yZUF1dG9JbmNyZW1lbnQodW5pcXVlSWQ6YW55KTphbnkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQscHJvcGVydHksZGVzY3JpcHRpb24pXHJcbiAgICB7XHJcbiAgICAgICAgaWYodGFyZ2V0LlN0b3JlQXV0b0luY3JlbWVudERpY3Rpb25hcnk9PW51bGwpXHJcbiAgICAgICAgICAgIHRhcmdldC5TdG9yZUF1dG9JbmNyZW1lbnREaWN0aW9uYXJ5PVtdO1xyXG4gICAgICAgIHRhcmdldC5TdG9yZUF1dG9JbmNyZW1lbnREaWN0aW9uYXJ5W3Byb3BlcnR5XT0wO1xyXG5cclxuICAgIH1cclxufVxyXG5cclxuXHJcblxyXG4iLCJtb2R1bGUuZXhwb3J0cyA9IEludGVybmFsU2hhcmVkKCdJbnRlcm5hbFNoYXJlZC9QYWdlQnVpbGRlci9Db250cm9scy9Db3JlL1BERkNvbnRyb2xCYXNlJyk7IiwibW9kdWxlLmV4cG9ydHMgPSBJbnRlcm5hbFNoYXJlZCgnSW50ZXJuYWxTaGFyZWQvUGFnZUJ1aWxkZXIvQ29udHJvbHMvQ29yZS9QREZDb250cm9sQmFzZS5PcHRpb25zJyk7IiwibW9kdWxlLmV4cG9ydHMgPSBJbnRlcm5hbFNoYXJlZCgnSW50ZXJuYWxTaGFyZWQvUGFnZUJ1aWxkZXIvQ29udHJvbHMvUHJvcGVydGllcy9Db2xvclByb3BlcnR5Jyk7IiwibW9kdWxlLmV4cG9ydHMgPSBJbnRlcm5hbFNoYXJlZCgnSW50ZXJuYWxTaGFyZWQvUGFnZUJ1aWxkZXIvQ29udHJvbHMvUHJvcGVydGllcy9TdHlsZVNldHMvRGltZW5zaW9uU3R5bGVTZXQnKTsiLCJtb2R1bGUuZXhwb3J0cyA9IEludGVybmFsU2hhcmVkKCdJbnRlcm5hbFNoYXJlZC9QYWdlQnVpbGRlci9Db250cm9scy9Qcm9wZXJ0aWVzL0Ryb3BEb3duUHJvcGVydHknKTsiLCJtb2R1bGUuZXhwb3J0cyA9IEludGVybmFsU2hhcmVkKCdJbnRlcm5hbFNoYXJlZC9QYWdlQnVpbGRlci9Db250cm9scy9Qcm9wZXJ0aWVzL0ltYWdlUHJvcGVydHknKTsiLCIvKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbkNvcHlyaWdodCAoQykgTWljcm9zb2Z0LiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcblxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXG5cblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cbnZhciBSZWZsZWN0O1xuKGZ1bmN0aW9uIChSZWZsZWN0KSB7XG4gICAgLy8gTWV0YWRhdGEgUHJvcG9zYWxcbiAgICAvLyBodHRwczovL3JidWNrdG9uLmdpdGh1Yi5pby9yZWZsZWN0LW1ldGFkYXRhL1xuICAgIChmdW5jdGlvbiAoZmFjdG9yeSkge1xuICAgICAgICB2YXIgcm9vdCA9IHR5cGVvZiBnbG9iYWwgPT09IFwib2JqZWN0XCIgPyBnbG9iYWwgOlxuICAgICAgICAgICAgdHlwZW9mIHNlbGYgPT09IFwib2JqZWN0XCIgPyBzZWxmIDpcbiAgICAgICAgICAgICAgICB0eXBlb2YgdGhpcyA9PT0gXCJvYmplY3RcIiA/IHRoaXMgOlxuICAgICAgICAgICAgICAgICAgICBGdW5jdGlvbihcInJldHVybiB0aGlzO1wiKSgpO1xuICAgICAgICB2YXIgZXhwb3J0ZXIgPSBtYWtlRXhwb3J0ZXIoUmVmbGVjdCk7XG4gICAgICAgIGlmICh0eXBlb2Ygcm9vdC5SZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICByb290LlJlZmxlY3QgPSBSZWZsZWN0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZXhwb3J0ZXIgPSBtYWtlRXhwb3J0ZXIocm9vdC5SZWZsZWN0LCBleHBvcnRlcik7XG4gICAgICAgIH1cbiAgICAgICAgZmFjdG9yeShleHBvcnRlcik7XG4gICAgICAgIGZ1bmN0aW9uIG1ha2VFeHBvcnRlcih0YXJnZXQsIHByZXZpb3VzKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRhcmdldFtrZXldICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHByZXZpb3VzKVxuICAgICAgICAgICAgICAgICAgICBwcmV2aW91cyhrZXksIHZhbHVlKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9KShmdW5jdGlvbiAoZXhwb3J0ZXIpIHtcbiAgICAgICAgdmFyIGhhc093biA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG4gICAgICAgIC8vIGZlYXR1cmUgdGVzdCBmb3IgU3ltYm9sIHN1cHBvcnRcbiAgICAgICAgdmFyIHN1cHBvcnRzU3ltYm9sID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiO1xuICAgICAgICB2YXIgdG9QcmltaXRpdmVTeW1ib2wgPSBzdXBwb3J0c1N5bWJvbCAmJiB0eXBlb2YgU3ltYm9sLnRvUHJpbWl0aXZlICE9PSBcInVuZGVmaW5lZFwiID8gU3ltYm9sLnRvUHJpbWl0aXZlIDogXCJAQHRvUHJpbWl0aXZlXCI7XG4gICAgICAgIHZhciBpdGVyYXRvclN5bWJvbCA9IHN1cHBvcnRzU3ltYm9sICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgIT09IFwidW5kZWZpbmVkXCIgPyBTeW1ib2wuaXRlcmF0b3IgOiBcIkBAaXRlcmF0b3JcIjtcbiAgICAgICAgdmFyIHN1cHBvcnRzQ3JlYXRlID0gdHlwZW9mIE9iamVjdC5jcmVhdGUgPT09IFwiZnVuY3Rpb25cIjsgLy8gZmVhdHVyZSB0ZXN0IGZvciBPYmplY3QuY3JlYXRlIHN1cHBvcnRcbiAgICAgICAgdmFyIHN1cHBvcnRzUHJvdG8gPSB7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5OyAvLyBmZWF0dXJlIHRlc3QgZm9yIF9fcHJvdG9fXyBzdXBwb3J0XG4gICAgICAgIHZhciBkb3duTGV2ZWwgPSAhc3VwcG9ydHNDcmVhdGUgJiYgIXN1cHBvcnRzUHJvdG87XG4gICAgICAgIHZhciBIYXNoTWFwID0ge1xuICAgICAgICAgICAgLy8gY3JlYXRlIGFuIG9iamVjdCBpbiBkaWN0aW9uYXJ5IG1vZGUgKGEuay5hLiBcInNsb3dcIiBtb2RlIGluIHY4KVxuICAgICAgICAgICAgY3JlYXRlOiBzdXBwb3J0c0NyZWF0ZVxuICAgICAgICAgICAgICAgID8gZnVuY3Rpb24gKCkgeyByZXR1cm4gTWFrZURpY3Rpb25hcnkoT2JqZWN0LmNyZWF0ZShudWxsKSk7IH1cbiAgICAgICAgICAgICAgICA6IHN1cHBvcnRzUHJvdG9cbiAgICAgICAgICAgICAgICAgICAgPyBmdW5jdGlvbiAoKSB7IHJldHVybiBNYWtlRGljdGlvbmFyeSh7IF9fcHJvdG9fXzogbnVsbCB9KTsgfVxuICAgICAgICAgICAgICAgICAgICA6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIE1ha2VEaWN0aW9uYXJ5KHt9KTsgfSxcbiAgICAgICAgICAgIGhhczogZG93bkxldmVsXG4gICAgICAgICAgICAgICAgPyBmdW5jdGlvbiAobWFwLCBrZXkpIHsgcmV0dXJuIGhhc093bi5jYWxsKG1hcCwga2V5KTsgfVxuICAgICAgICAgICAgICAgIDogZnVuY3Rpb24gKG1hcCwga2V5KSB7IHJldHVybiBrZXkgaW4gbWFwOyB9LFxuICAgICAgICAgICAgZ2V0OiBkb3duTGV2ZWxcbiAgICAgICAgICAgICAgICA/IGZ1bmN0aW9uIChtYXAsIGtleSkgeyByZXR1cm4gaGFzT3duLmNhbGwobWFwLCBrZXkpID8gbWFwW2tleV0gOiB1bmRlZmluZWQ7IH1cbiAgICAgICAgICAgICAgICA6IGZ1bmN0aW9uIChtYXAsIGtleSkgeyByZXR1cm4gbWFwW2tleV07IH0sXG4gICAgICAgIH07XG4gICAgICAgIC8vIExvYWQgZ2xvYmFsIG9yIHNoaW0gdmVyc2lvbnMgb2YgTWFwLCBTZXQsIGFuZCBXZWFrTWFwXG4gICAgICAgIHZhciBmdW5jdGlvblByb3RvdHlwZSA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihGdW5jdGlvbik7XG4gICAgICAgIHZhciB1c2VQb2x5ZmlsbCA9IHR5cGVvZiBwcm9jZXNzID09PSBcIm9iamVjdFwiICYmIHByb2Nlc3MuZW52ICYmIHByb2Nlc3MuZW52W1wiUkVGTEVDVF9NRVRBREFUQV9VU0VfTUFQX1BPTFlGSUxMXCJdID09PSBcInRydWVcIjtcbiAgICAgICAgdmFyIF9NYXAgPSAhdXNlUG9seWZpbGwgJiYgdHlwZW9mIE1hcCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBNYXAucHJvdG90eXBlLmVudHJpZXMgPT09IFwiZnVuY3Rpb25cIiA/IE1hcCA6IENyZWF0ZU1hcFBvbHlmaWxsKCk7XG4gICAgICAgIHZhciBfU2V0ID0gIXVzZVBvbHlmaWxsICYmIHR5cGVvZiBTZXQgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU2V0LnByb3RvdHlwZS5lbnRyaWVzID09PSBcImZ1bmN0aW9uXCIgPyBTZXQgOiBDcmVhdGVTZXRQb2x5ZmlsbCgpO1xuICAgICAgICB2YXIgX1dlYWtNYXAgPSAhdXNlUG9seWZpbGwgJiYgdHlwZW9mIFdlYWtNYXAgPT09IFwiZnVuY3Rpb25cIiA/IFdlYWtNYXAgOiBDcmVhdGVXZWFrTWFwUG9seWZpbGwoKTtcbiAgICAgICAgLy8gW1tNZXRhZGF0YV1dIGludGVybmFsIHNsb3RcbiAgICAgICAgLy8gaHR0cHM6Ly9yYnVja3Rvbi5naXRodWIuaW8vcmVmbGVjdC1tZXRhZGF0YS8jb3JkaW5hcnktb2JqZWN0LWludGVybmFsLW1ldGhvZHMtYW5kLWludGVybmFsLXNsb3RzXG4gICAgICAgIHZhciBNZXRhZGF0YSA9IG5ldyBfV2Vha01hcCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQXBwbGllcyBhIHNldCBvZiBkZWNvcmF0b3JzIHRvIGEgcHJvcGVydHkgb2YgYSB0YXJnZXQgb2JqZWN0LlxuICAgICAgICAgKiBAcGFyYW0gZGVjb3JhdG9ycyBBbiBhcnJheSBvZiBkZWNvcmF0b3JzLlxuICAgICAgICAgKiBAcGFyYW0gdGFyZ2V0IFRoZSB0YXJnZXQgb2JqZWN0LlxuICAgICAgICAgKiBAcGFyYW0gcHJvcGVydHlLZXkgKE9wdGlvbmFsKSBUaGUgcHJvcGVydHkga2V5IHRvIGRlY29yYXRlLlxuICAgICAgICAgKiBAcGFyYW0gYXR0cmlidXRlcyAoT3B0aW9uYWwpIFRoZSBwcm9wZXJ0eSBkZXNjcmlwdG9yIGZvciB0aGUgdGFyZ2V0IGtleS5cbiAgICAgICAgICogQHJlbWFya3MgRGVjb3JhdG9ycyBhcmUgYXBwbGllZCBpbiByZXZlcnNlIG9yZGVyLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgY2xhc3MgRXhhbXBsZSB7XG4gICAgICAgICAqICAgICAgICAgLy8gcHJvcGVydHkgZGVjbGFyYXRpb25zIGFyZSBub3QgcGFydCBvZiBFUzYsIHRob3VnaCB0aGV5IGFyZSB2YWxpZCBpbiBUeXBlU2NyaXB0OlxuICAgICAgICAgKiAgICAgICAgIC8vIHN0YXRpYyBzdGF0aWNQcm9wZXJ0eTtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgICAgICBjb25zdHJ1Y3RvcihwKSB7IH1cbiAgICAgICAgICogICAgICAgICBzdGF0aWMgc3RhdGljTWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIG1ldGhvZChwKSB7IH1cbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIGNvbnN0cnVjdG9yXG4gICAgICAgICAqICAgICBFeGFtcGxlID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzQXJyYXksIEV4YW1wbGUpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIGNvbnN0cnVjdG9yKVxuICAgICAgICAgKiAgICAgUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzQXJyYXksIEV4YW1wbGUsIFwic3RhdGljUHJvcGVydHlcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gcHJvdG90eXBlKVxuICAgICAgICAgKiAgICAgUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzQXJyYXksIEV4YW1wbGUucHJvdG90eXBlLCBcInByb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShFeGFtcGxlLCBcInN0YXRpY01ldGhvZFwiLFxuICAgICAgICAgKiAgICAgICAgIFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9yc0FycmF5LCBFeGFtcGxlLCBcInN0YXRpY01ldGhvZFwiLFxuICAgICAgICAgKiAgICAgICAgICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEV4YW1wbGUsIFwic3RhdGljTWV0aG9kXCIpKSk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShFeGFtcGxlLnByb3RvdHlwZSwgXCJtZXRob2RcIixcbiAgICAgICAgICogICAgICAgICBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnNBcnJheSwgRXhhbXBsZS5wcm90b3R5cGUsIFwibWV0aG9kXCIsXG4gICAgICAgICAqICAgICAgICAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoRXhhbXBsZS5wcm90b3R5cGUsIFwibWV0aG9kXCIpKSk7XG4gICAgICAgICAqXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBkZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIHByb3BlcnR5S2V5LCBhdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICBpZiAoIUlzVW5kZWZpbmVkKHByb3BlcnR5S2V5KSkge1xuICAgICAgICAgICAgICAgIGlmICghSXNBcnJheShkZWNvcmF0b3JzKSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgICAgIGlmICghSXNPYmplY3QodGFyZ2V0KSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgICAgIGlmICghSXNPYmplY3QoYXR0cmlidXRlcykgJiYgIUlzVW5kZWZpbmVkKGF0dHJpYnV0ZXMpICYmICFJc051bGwoYXR0cmlidXRlcykpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgICAgICBpZiAoSXNOdWxsKGF0dHJpYnV0ZXMpKVxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHByb3BlcnR5S2V5ID0gVG9Qcm9wZXJ0eUtleShwcm9wZXJ0eUtleSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIERlY29yYXRlUHJvcGVydHkoZGVjb3JhdG9ycywgdGFyZ2V0LCBwcm9wZXJ0eUtleSwgYXR0cmlidXRlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoIUlzQXJyYXkoZGVjb3JhdG9ycykpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgICAgICBpZiAoIUlzQ29uc3RydWN0b3IodGFyZ2V0KSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgICAgIHJldHVybiBEZWNvcmF0ZUNvbnN0cnVjdG9yKGRlY29yYXRvcnMsIHRhcmdldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZXhwb3J0ZXIoXCJkZWNvcmF0ZVwiLCBkZWNvcmF0ZSk7XG4gICAgICAgIC8vIDQuMS4yIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpXG4gICAgICAgIC8vIGh0dHBzOi8vcmJ1Y2t0b24uZ2l0aHViLmlvL3JlZmxlY3QtbWV0YWRhdGEvI3JlZmxlY3QubWV0YWRhdGFcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgZGVmYXVsdCBtZXRhZGF0YSBkZWNvcmF0b3IgZmFjdG9yeSB0aGF0IGNhbiBiZSB1c2VkIG9uIGEgY2xhc3MsIGNsYXNzIG1lbWJlciwgb3IgcGFyYW1ldGVyLlxuICAgICAgICAgKiBAcGFyYW0gbWV0YWRhdGFLZXkgVGhlIGtleSBmb3IgdGhlIG1ldGFkYXRhIGVudHJ5LlxuICAgICAgICAgKiBAcGFyYW0gbWV0YWRhdGFWYWx1ZSBUaGUgdmFsdWUgZm9yIHRoZSBtZXRhZGF0YSBlbnRyeS5cbiAgICAgICAgICogQHJldHVybnMgQSBkZWNvcmF0b3IgZnVuY3Rpb24uXG4gICAgICAgICAqIEByZW1hcmtzXG4gICAgICAgICAqIElmIGBtZXRhZGF0YUtleWAgaXMgYWxyZWFkeSBkZWZpbmVkIGZvciB0aGUgdGFyZ2V0IGFuZCB0YXJnZXQga2V5LCB0aGVcbiAgICAgICAgICogbWV0YWRhdGFWYWx1ZSBmb3IgdGhhdCBrZXkgd2lsbCBiZSBvdmVyd3JpdHRlbi5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIGNvbnN0cnVjdG9yXG4gICAgICAgICAqICAgICBAUmVmbGVjdC5tZXRhZGF0YShrZXksIHZhbHVlKVxuICAgICAgICAgKiAgICAgY2xhc3MgRXhhbXBsZSB7XG4gICAgICAgICAqICAgICB9XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gY29uc3RydWN0b3IsIFR5cGVTY3JpcHQgb25seSlcbiAgICAgICAgICogICAgIGNsYXNzIEV4YW1wbGUge1xuICAgICAgICAgKiAgICAgICAgIEBSZWZsZWN0Lm1ldGFkYXRhKGtleSwgdmFsdWUpXG4gICAgICAgICAqICAgICAgICAgc3RhdGljIHN0YXRpY1Byb3BlcnR5O1xuICAgICAgICAgKiAgICAgfVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIHByb3RvdHlwZSwgVHlwZVNjcmlwdCBvbmx5KVxuICAgICAgICAgKiAgICAgY2xhc3MgRXhhbXBsZSB7XG4gICAgICAgICAqICAgICAgICAgQFJlZmxlY3QubWV0YWRhdGEoa2V5LCB2YWx1ZSlcbiAgICAgICAgICogICAgICAgICBwcm9wZXJ0eTtcbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICBjbGFzcyBFeGFtcGxlIHtcbiAgICAgICAgICogICAgICAgICBAUmVmbGVjdC5tZXRhZGF0YShrZXksIHZhbHVlKVxuICAgICAgICAgKiAgICAgICAgIHN0YXRpYyBzdGF0aWNNZXRob2QoKSB7IH1cbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gcHJvdG90eXBlKVxuICAgICAgICAgKiAgICAgY2xhc3MgRXhhbXBsZSB7XG4gICAgICAgICAqICAgICAgICAgQFJlZmxlY3QubWV0YWRhdGEoa2V5LCB2YWx1ZSlcbiAgICAgICAgICogICAgICAgICBtZXRob2QoKSB7IH1cbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIG1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XG4gICAgICAgICAgICBmdW5jdGlvbiBkZWNvcmF0b3IodGFyZ2V0LCBwcm9wZXJ0eUtleSkge1xuICAgICAgICAgICAgICAgIGlmICghSXNPYmplY3QodGFyZ2V0KSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgICAgIGlmICghSXNVbmRlZmluZWQocHJvcGVydHlLZXkpICYmICFJc1Byb3BlcnR5S2V5KHByb3BlcnR5S2V5KSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgICAgIE9yZGluYXJ5RGVmaW5lT3duTWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUsIHRhcmdldCwgcHJvcGVydHlLZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRlY29yYXRvcjtcbiAgICAgICAgfVxuICAgICAgICBleHBvcnRlcihcIm1ldGFkYXRhXCIsIG1ldGFkYXRhKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlZmluZSBhIHVuaXF1ZSBtZXRhZGF0YSBlbnRyeSBvbiB0aGUgdGFyZ2V0LlxuICAgICAgICAgKiBAcGFyYW0gbWV0YWRhdGFLZXkgQSBrZXkgdXNlZCB0byBzdG9yZSBhbmQgcmV0cmlldmUgbWV0YWRhdGEuXG4gICAgICAgICAqIEBwYXJhbSBtZXRhZGF0YVZhbHVlIEEgdmFsdWUgdGhhdCBjb250YWlucyBhdHRhY2hlZCBtZXRhZGF0YS5cbiAgICAgICAgICogQHBhcmFtIHRhcmdldCBUaGUgdGFyZ2V0IG9iamVjdCBvbiB3aGljaCB0byBkZWZpbmUgbWV0YWRhdGEuXG4gICAgICAgICAqIEBwYXJhbSBwcm9wZXJ0eUtleSAoT3B0aW9uYWwpIFRoZSBwcm9wZXJ0eSBrZXkgZm9yIHRoZSB0YXJnZXQuXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqXG4gICAgICAgICAqICAgICBjbGFzcyBFeGFtcGxlIHtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eSBkZWNsYXJhdGlvbnMgYXJlIG5vdCBwYXJ0IG9mIEVTNiwgdGhvdWdoIHRoZXkgYXJlIHZhbGlkIGluIFR5cGVTY3JpcHQ6XG4gICAgICAgICAqICAgICAgICAgLy8gc3RhdGljIHN0YXRpY1Byb3BlcnR5O1xuICAgICAgICAgKiAgICAgICAgIC8vIHByb3BlcnR5O1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgICAgIGNvbnN0cnVjdG9yKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIHN0YXRpYyBzdGF0aWNNZXRob2QocCkgeyB9XG4gICAgICAgICAqICAgICAgICAgbWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgfVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gY29uc3RydWN0b3JcbiAgICAgICAgICogICAgIFJlZmxlY3QuZGVmaW5lTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBvcHRpb25zLCBFeGFtcGxlKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIFJlZmxlY3QuZGVmaW5lTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBvcHRpb25zLCBFeGFtcGxlLCBcInN0YXRpY1Byb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIFJlZmxlY3QuZGVmaW5lTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBvcHRpb25zLCBFeGFtcGxlLnByb3RvdHlwZSwgXCJwcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICBSZWZsZWN0LmRlZmluZU1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgb3B0aW9ucywgRXhhbXBsZSwgXCJzdGF0aWNNZXRob2RcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIFJlZmxlY3QuZGVmaW5lTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBvcHRpb25zLCBFeGFtcGxlLnByb3RvdHlwZSwgXCJtZXRob2RcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBkZWNvcmF0b3IgZmFjdG9yeSBhcyBtZXRhZGF0YS1wcm9kdWNpbmcgYW5ub3RhdGlvbi5cbiAgICAgICAgICogICAgIGZ1bmN0aW9uIE15QW5ub3RhdGlvbihvcHRpb25zKTogRGVjb3JhdG9yIHtcbiAgICAgICAgICogICAgICAgICByZXR1cm4gKHRhcmdldCwga2V5PykgPT4gUmVmbGVjdC5kZWZpbmVNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIG9wdGlvbnMsIHRhcmdldCwga2V5KTtcbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGRlZmluZU1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlLCB0YXJnZXQsIHByb3BlcnR5S2V5KSB7XG4gICAgICAgICAgICBpZiAoIUlzT2JqZWN0KHRhcmdldCkpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgaWYgKCFJc1VuZGVmaW5lZChwcm9wZXJ0eUtleSkpXG4gICAgICAgICAgICAgICAgcHJvcGVydHlLZXkgPSBUb1Byb3BlcnR5S2V5KHByb3BlcnR5S2V5KTtcbiAgICAgICAgICAgIHJldHVybiBPcmRpbmFyeURlZmluZU93bk1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlLCB0YXJnZXQsIHByb3BlcnR5S2V5KTtcbiAgICAgICAgfVxuICAgICAgICBleHBvcnRlcihcImRlZmluZU1ldGFkYXRhXCIsIGRlZmluZU1ldGFkYXRhKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldHMgYSB2YWx1ZSBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIHRhcmdldCBvYmplY3Qgb3IgaXRzIHByb3RvdHlwZSBjaGFpbiBoYXMgdGhlIHByb3ZpZGVkIG1ldGFkYXRhIGtleSBkZWZpbmVkLlxuICAgICAgICAgKiBAcGFyYW0gbWV0YWRhdGFLZXkgQSBrZXkgdXNlZCB0byBzdG9yZSBhbmQgcmV0cmlldmUgbWV0YWRhdGEuXG4gICAgICAgICAqIEBwYXJhbSB0YXJnZXQgVGhlIHRhcmdldCBvYmplY3Qgb24gd2hpY2ggdGhlIG1ldGFkYXRhIGlzIGRlZmluZWQuXG4gICAgICAgICAqIEBwYXJhbSBwcm9wZXJ0eUtleSAoT3B0aW9uYWwpIFRoZSBwcm9wZXJ0eSBrZXkgZm9yIHRoZSB0YXJnZXQuXG4gICAgICAgICAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgbWV0YWRhdGEga2V5IHdhcyBkZWZpbmVkIG9uIHRoZSB0YXJnZXQgb2JqZWN0IG9yIGl0cyBwcm90b3R5cGUgY2hhaW47IG90aGVyd2lzZSwgYGZhbHNlYC5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIGNsYXNzIEV4YW1wbGUge1xuICAgICAgICAgKiAgICAgICAgIC8vIHByb3BlcnR5IGRlY2xhcmF0aW9ucyBhcmUgbm90IHBhcnQgb2YgRVM2LCB0aG91Z2ggdGhleSBhcmUgdmFsaWQgaW4gVHlwZVNjcmlwdDpcbiAgICAgICAgICogICAgICAgICAvLyBzdGF0aWMgc3RhdGljUHJvcGVydHk7XG4gICAgICAgICAqICAgICAgICAgLy8gcHJvcGVydHk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAgICAgY29uc3RydWN0b3IocCkgeyB9XG4gICAgICAgICAqICAgICAgICAgc3RhdGljIHN0YXRpY01ldGhvZChwKSB7IH1cbiAgICAgICAgICogICAgICAgICBtZXRob2QocCkgeyB9XG4gICAgICAgICAqICAgICB9XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBjb25zdHJ1Y3RvclxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5oYXNNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIGNvbnN0cnVjdG9yKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5oYXNNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUsIFwic3RhdGljUHJvcGVydHlcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gcHJvdG90eXBlKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5oYXNNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUucHJvdG90eXBlLCBcInByb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuaGFzTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLCBcInN0YXRpY01ldGhvZFwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gcHJvdG90eXBlKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5oYXNNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUucHJvdG90eXBlLCBcIm1ldGhvZFwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGhhc01ldGFkYXRhKG1ldGFkYXRhS2V5LCB0YXJnZXQsIHByb3BlcnR5S2V5KSB7XG4gICAgICAgICAgICBpZiAoIUlzT2JqZWN0KHRhcmdldCkpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgaWYgKCFJc1VuZGVmaW5lZChwcm9wZXJ0eUtleSkpXG4gICAgICAgICAgICAgICAgcHJvcGVydHlLZXkgPSBUb1Byb3BlcnR5S2V5KHByb3BlcnR5S2V5KTtcbiAgICAgICAgICAgIHJldHVybiBPcmRpbmFyeUhhc01ldGFkYXRhKG1ldGFkYXRhS2V5LCB0YXJnZXQsIHByb3BlcnR5S2V5KTtcbiAgICAgICAgfVxuICAgICAgICBleHBvcnRlcihcImhhc01ldGFkYXRhXCIsIGhhc01ldGFkYXRhKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldHMgYSB2YWx1ZSBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIHRhcmdldCBvYmplY3QgaGFzIHRoZSBwcm92aWRlZCBtZXRhZGF0YSBrZXkgZGVmaW5lZC5cbiAgICAgICAgICogQHBhcmFtIG1ldGFkYXRhS2V5IEEga2V5IHVzZWQgdG8gc3RvcmUgYW5kIHJldHJpZXZlIG1ldGFkYXRhLlxuICAgICAgICAgKiBAcGFyYW0gdGFyZ2V0IFRoZSB0YXJnZXQgb2JqZWN0IG9uIHdoaWNoIHRoZSBtZXRhZGF0YSBpcyBkZWZpbmVkLlxuICAgICAgICAgKiBAcGFyYW0gcHJvcGVydHlLZXkgKE9wdGlvbmFsKSBUaGUgcHJvcGVydHkga2V5IGZvciB0aGUgdGFyZ2V0LlxuICAgICAgICAgKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG1ldGFkYXRhIGtleSB3YXMgZGVmaW5lZCBvbiB0aGUgdGFyZ2V0IG9iamVjdDsgb3RoZXJ3aXNlLCBgZmFsc2VgLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgY2xhc3MgRXhhbXBsZSB7XG4gICAgICAgICAqICAgICAgICAgLy8gcHJvcGVydHkgZGVjbGFyYXRpb25zIGFyZSBub3QgcGFydCBvZiBFUzYsIHRob3VnaCB0aGV5IGFyZSB2YWxpZCBpbiBUeXBlU2NyaXB0OlxuICAgICAgICAgKiAgICAgICAgIC8vIHN0YXRpYyBzdGF0aWNQcm9wZXJ0eTtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgICAgICBjb25zdHJ1Y3RvcihwKSB7IH1cbiAgICAgICAgICogICAgICAgICBzdGF0aWMgc3RhdGljTWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIG1ldGhvZChwKSB7IH1cbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIGNvbnN0cnVjdG9yXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0Lmhhc093bk1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZSk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0Lmhhc093bk1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZSwgXCJzdGF0aWNQcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0Lmhhc093bk1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZS5wcm90b3R5cGUsIFwicHJvcGVydHlcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIGNvbnN0cnVjdG9yKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5oYXNPd25NZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUsIFwic3RhdGljTWV0aG9kXCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0Lmhhc093bk1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZS5wcm90b3R5cGUsIFwibWV0aG9kXCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gaGFzT3duTWV0YWRhdGEobWV0YWRhdGFLZXksIHRhcmdldCwgcHJvcGVydHlLZXkpIHtcbiAgICAgICAgICAgIGlmICghSXNPYmplY3QodGFyZ2V0KSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG4gICAgICAgICAgICBpZiAoIUlzVW5kZWZpbmVkKHByb3BlcnR5S2V5KSlcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eUtleSA9IFRvUHJvcGVydHlLZXkocHJvcGVydHlLZXkpO1xuICAgICAgICAgICAgcmV0dXJuIE9yZGluYXJ5SGFzT3duTWV0YWRhdGEobWV0YWRhdGFLZXksIHRhcmdldCwgcHJvcGVydHlLZXkpO1xuICAgICAgICB9XG4gICAgICAgIGV4cG9ydGVyKFwiaGFzT3duTWV0YWRhdGFcIiwgaGFzT3duTWV0YWRhdGEpO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0cyB0aGUgbWV0YWRhdGEgdmFsdWUgZm9yIHRoZSBwcm92aWRlZCBtZXRhZGF0YSBrZXkgb24gdGhlIHRhcmdldCBvYmplY3Qgb3IgaXRzIHByb3RvdHlwZSBjaGFpbi5cbiAgICAgICAgICogQHBhcmFtIG1ldGFkYXRhS2V5IEEga2V5IHVzZWQgdG8gc3RvcmUgYW5kIHJldHJpZXZlIG1ldGFkYXRhLlxuICAgICAgICAgKiBAcGFyYW0gdGFyZ2V0IFRoZSB0YXJnZXQgb2JqZWN0IG9uIHdoaWNoIHRoZSBtZXRhZGF0YSBpcyBkZWZpbmVkLlxuICAgICAgICAgKiBAcGFyYW0gcHJvcGVydHlLZXkgKE9wdGlvbmFsKSBUaGUgcHJvcGVydHkga2V5IGZvciB0aGUgdGFyZ2V0LlxuICAgICAgICAgKiBAcmV0dXJucyBUaGUgbWV0YWRhdGEgdmFsdWUgZm9yIHRoZSBtZXRhZGF0YSBrZXkgaWYgZm91bmQ7IG90aGVyd2lzZSwgYHVuZGVmaW5lZGAuXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqXG4gICAgICAgICAqICAgICBjbGFzcyBFeGFtcGxlIHtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eSBkZWNsYXJhdGlvbnMgYXJlIG5vdCBwYXJ0IG9mIEVTNiwgdGhvdWdoIHRoZXkgYXJlIHZhbGlkIGluIFR5cGVTY3JpcHQ6XG4gICAgICAgICAqICAgICAgICAgLy8gc3RhdGljIHN0YXRpY1Byb3BlcnR5O1xuICAgICAgICAgKiAgICAgICAgIC8vIHByb3BlcnR5O1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgICAgIGNvbnN0cnVjdG9yKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIHN0YXRpYyBzdGF0aWNNZXRob2QocCkgeyB9XG4gICAgICAgICAqICAgICAgICAgbWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgfVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gY29uc3RydWN0b3JcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0TWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0TWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLCBcInN0YXRpY1Byb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0TWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLnByb3RvdHlwZSwgXCJwcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZSwgXCJzdGF0aWNNZXRob2RcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0TWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLnByb3RvdHlwZSwgXCJtZXRob2RcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBnZXRNZXRhZGF0YShtZXRhZGF0YUtleSwgdGFyZ2V0LCBwcm9wZXJ0eUtleSkge1xuICAgICAgICAgICAgaWYgKCFJc09iamVjdCh0YXJnZXQpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgIGlmICghSXNVbmRlZmluZWQocHJvcGVydHlLZXkpKVxuICAgICAgICAgICAgICAgIHByb3BlcnR5S2V5ID0gVG9Qcm9wZXJ0eUtleShwcm9wZXJ0eUtleSk7XG4gICAgICAgICAgICByZXR1cm4gT3JkaW5hcnlHZXRNZXRhZGF0YShtZXRhZGF0YUtleSwgdGFyZ2V0LCBwcm9wZXJ0eUtleSk7XG4gICAgICAgIH1cbiAgICAgICAgZXhwb3J0ZXIoXCJnZXRNZXRhZGF0YVwiLCBnZXRNZXRhZGF0YSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXRzIHRoZSBtZXRhZGF0YSB2YWx1ZSBmb3IgdGhlIHByb3ZpZGVkIG1ldGFkYXRhIGtleSBvbiB0aGUgdGFyZ2V0IG9iamVjdC5cbiAgICAgICAgICogQHBhcmFtIG1ldGFkYXRhS2V5IEEga2V5IHVzZWQgdG8gc3RvcmUgYW5kIHJldHJpZXZlIG1ldGFkYXRhLlxuICAgICAgICAgKiBAcGFyYW0gdGFyZ2V0IFRoZSB0YXJnZXQgb2JqZWN0IG9uIHdoaWNoIHRoZSBtZXRhZGF0YSBpcyBkZWZpbmVkLlxuICAgICAgICAgKiBAcGFyYW0gcHJvcGVydHlLZXkgKE9wdGlvbmFsKSBUaGUgcHJvcGVydHkga2V5IGZvciB0aGUgdGFyZ2V0LlxuICAgICAgICAgKiBAcmV0dXJucyBUaGUgbWV0YWRhdGEgdmFsdWUgZm9yIHRoZSBtZXRhZGF0YSBrZXkgaWYgZm91bmQ7IG90aGVyd2lzZSwgYHVuZGVmaW5lZGAuXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqXG4gICAgICAgICAqICAgICBjbGFzcyBFeGFtcGxlIHtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eSBkZWNsYXJhdGlvbnMgYXJlIG5vdCBwYXJ0IG9mIEVTNiwgdGhvdWdoIHRoZXkgYXJlIHZhbGlkIGluIFR5cGVTY3JpcHQ6XG4gICAgICAgICAqICAgICAgICAgLy8gc3RhdGljIHN0YXRpY1Byb3BlcnR5O1xuICAgICAgICAgKiAgICAgICAgIC8vIHByb3BlcnR5O1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgICAgIGNvbnN0cnVjdG9yKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIHN0YXRpYyBzdGF0aWNNZXRob2QocCkgeyB9XG4gICAgICAgICAqICAgICAgICAgbWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgfVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gY29uc3RydWN0b3JcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0T3duTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0T3duTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLCBcInN0YXRpY1Byb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0T3duTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLnByb3RvdHlwZSwgXCJwcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE93bk1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZSwgXCJzdGF0aWNNZXRob2RcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0T3duTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLnByb3RvdHlwZSwgXCJtZXRob2RcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBnZXRPd25NZXRhZGF0YShtZXRhZGF0YUtleSwgdGFyZ2V0LCBwcm9wZXJ0eUtleSkge1xuICAgICAgICAgICAgaWYgKCFJc09iamVjdCh0YXJnZXQpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgIGlmICghSXNVbmRlZmluZWQocHJvcGVydHlLZXkpKVxuICAgICAgICAgICAgICAgIHByb3BlcnR5S2V5ID0gVG9Qcm9wZXJ0eUtleShwcm9wZXJ0eUtleSk7XG4gICAgICAgICAgICByZXR1cm4gT3JkaW5hcnlHZXRPd25NZXRhZGF0YShtZXRhZGF0YUtleSwgdGFyZ2V0LCBwcm9wZXJ0eUtleSk7XG4gICAgICAgIH1cbiAgICAgICAgZXhwb3J0ZXIoXCJnZXRPd25NZXRhZGF0YVwiLCBnZXRPd25NZXRhZGF0YSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXRzIHRoZSBtZXRhZGF0YSBrZXlzIGRlZmluZWQgb24gdGhlIHRhcmdldCBvYmplY3Qgb3IgaXRzIHByb3RvdHlwZSBjaGFpbi5cbiAgICAgICAgICogQHBhcmFtIHRhcmdldCBUaGUgdGFyZ2V0IG9iamVjdCBvbiB3aGljaCB0aGUgbWV0YWRhdGEgaXMgZGVmaW5lZC5cbiAgICAgICAgICogQHBhcmFtIHByb3BlcnR5S2V5IChPcHRpb25hbCkgVGhlIHByb3BlcnR5IGtleSBmb3IgdGhlIHRhcmdldC5cbiAgICAgICAgICogQHJldHVybnMgQW4gYXJyYXkgb2YgdW5pcXVlIG1ldGFkYXRhIGtleXMuXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqXG4gICAgICAgICAqICAgICBjbGFzcyBFeGFtcGxlIHtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eSBkZWNsYXJhdGlvbnMgYXJlIG5vdCBwYXJ0IG9mIEVTNiwgdGhvdWdoIHRoZXkgYXJlIHZhbGlkIGluIFR5cGVTY3JpcHQ6XG4gICAgICAgICAqICAgICAgICAgLy8gc3RhdGljIHN0YXRpY1Byb3BlcnR5O1xuICAgICAgICAgKiAgICAgICAgIC8vIHByb3BlcnR5O1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgICAgIGNvbnN0cnVjdG9yKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIHN0YXRpYyBzdGF0aWNNZXRob2QocCkgeyB9XG4gICAgICAgICAqICAgICAgICAgbWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgfVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gY29uc3RydWN0b3JcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0TWV0YWRhdGFLZXlzKEV4YW1wbGUpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIGNvbnN0cnVjdG9yKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5nZXRNZXRhZGF0YUtleXMoRXhhbXBsZSwgXCJzdGF0aWNQcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE1ldGFkYXRhS2V5cyhFeGFtcGxlLnByb3RvdHlwZSwgXCJwcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE1ldGFkYXRhS2V5cyhFeGFtcGxlLCBcInN0YXRpY01ldGhvZFwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gcHJvdG90eXBlKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5nZXRNZXRhZGF0YUtleXMoRXhhbXBsZS5wcm90b3R5cGUsIFwibWV0aG9kXCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gZ2V0TWV0YWRhdGFLZXlzKHRhcmdldCwgcHJvcGVydHlLZXkpIHtcbiAgICAgICAgICAgIGlmICghSXNPYmplY3QodGFyZ2V0KSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG4gICAgICAgICAgICBpZiAoIUlzVW5kZWZpbmVkKHByb3BlcnR5S2V5KSlcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eUtleSA9IFRvUHJvcGVydHlLZXkocHJvcGVydHlLZXkpO1xuICAgICAgICAgICAgcmV0dXJuIE9yZGluYXJ5TWV0YWRhdGFLZXlzKHRhcmdldCwgcHJvcGVydHlLZXkpO1xuICAgICAgICB9XG4gICAgICAgIGV4cG9ydGVyKFwiZ2V0TWV0YWRhdGFLZXlzXCIsIGdldE1ldGFkYXRhS2V5cyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXRzIHRoZSB1bmlxdWUgbWV0YWRhdGEga2V5cyBkZWZpbmVkIG9uIHRoZSB0YXJnZXQgb2JqZWN0LlxuICAgICAgICAgKiBAcGFyYW0gdGFyZ2V0IFRoZSB0YXJnZXQgb2JqZWN0IG9uIHdoaWNoIHRoZSBtZXRhZGF0YSBpcyBkZWZpbmVkLlxuICAgICAgICAgKiBAcGFyYW0gcHJvcGVydHlLZXkgKE9wdGlvbmFsKSBUaGUgcHJvcGVydHkga2V5IGZvciB0aGUgdGFyZ2V0LlxuICAgICAgICAgKiBAcmV0dXJucyBBbiBhcnJheSBvZiB1bmlxdWUgbWV0YWRhdGEga2V5cy5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIGNsYXNzIEV4YW1wbGUge1xuICAgICAgICAgKiAgICAgICAgIC8vIHByb3BlcnR5IGRlY2xhcmF0aW9ucyBhcmUgbm90IHBhcnQgb2YgRVM2LCB0aG91Z2ggdGhleSBhcmUgdmFsaWQgaW4gVHlwZVNjcmlwdDpcbiAgICAgICAgICogICAgICAgICAvLyBzdGF0aWMgc3RhdGljUHJvcGVydHk7XG4gICAgICAgICAqICAgICAgICAgLy8gcHJvcGVydHk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAgICAgY29uc3RydWN0b3IocCkgeyB9XG4gICAgICAgICAqICAgICAgICAgc3RhdGljIHN0YXRpY01ldGhvZChwKSB7IH1cbiAgICAgICAgICogICAgICAgICBtZXRob2QocCkgeyB9XG4gICAgICAgICAqICAgICB9XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBjb25zdHJ1Y3RvclxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5nZXRPd25NZXRhZGF0YUtleXMoRXhhbXBsZSk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE93bk1ldGFkYXRhS2V5cyhFeGFtcGxlLCBcInN0YXRpY1Byb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0T3duTWV0YWRhdGFLZXlzKEV4YW1wbGUucHJvdG90eXBlLCBcInByb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0T3duTWV0YWRhdGFLZXlzKEV4YW1wbGUsIFwic3RhdGljTWV0aG9kXCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE93bk1ldGFkYXRhS2V5cyhFeGFtcGxlLnByb3RvdHlwZSwgXCJtZXRob2RcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBnZXRPd25NZXRhZGF0YUtleXModGFyZ2V0LCBwcm9wZXJ0eUtleSkge1xuICAgICAgICAgICAgaWYgKCFJc09iamVjdCh0YXJnZXQpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgIGlmICghSXNVbmRlZmluZWQocHJvcGVydHlLZXkpKVxuICAgICAgICAgICAgICAgIHByb3BlcnR5S2V5ID0gVG9Qcm9wZXJ0eUtleShwcm9wZXJ0eUtleSk7XG4gICAgICAgICAgICByZXR1cm4gT3JkaW5hcnlPd25NZXRhZGF0YUtleXModGFyZ2V0LCBwcm9wZXJ0eUtleSk7XG4gICAgICAgIH1cbiAgICAgICAgZXhwb3J0ZXIoXCJnZXRPd25NZXRhZGF0YUtleXNcIiwgZ2V0T3duTWV0YWRhdGFLZXlzKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlbGV0ZXMgdGhlIG1ldGFkYXRhIGVudHJ5IGZyb20gdGhlIHRhcmdldCBvYmplY3Qgd2l0aCB0aGUgcHJvdmlkZWQga2V5LlxuICAgICAgICAgKiBAcGFyYW0gbWV0YWRhdGFLZXkgQSBrZXkgdXNlZCB0byBzdG9yZSBhbmQgcmV0cmlldmUgbWV0YWRhdGEuXG4gICAgICAgICAqIEBwYXJhbSB0YXJnZXQgVGhlIHRhcmdldCBvYmplY3Qgb24gd2hpY2ggdGhlIG1ldGFkYXRhIGlzIGRlZmluZWQuXG4gICAgICAgICAqIEBwYXJhbSBwcm9wZXJ0eUtleSAoT3B0aW9uYWwpIFRoZSBwcm9wZXJ0eSBrZXkgZm9yIHRoZSB0YXJnZXQuXG4gICAgICAgICAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgbWV0YWRhdGEgZW50cnkgd2FzIGZvdW5kIGFuZCBkZWxldGVkOyBvdGhlcndpc2UsIGZhbHNlLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgY2xhc3MgRXhhbXBsZSB7XG4gICAgICAgICAqICAgICAgICAgLy8gcHJvcGVydHkgZGVjbGFyYXRpb25zIGFyZSBub3QgcGFydCBvZiBFUzYsIHRob3VnaCB0aGV5IGFyZSB2YWxpZCBpbiBUeXBlU2NyaXB0OlxuICAgICAgICAgKiAgICAgICAgIC8vIHN0YXRpYyBzdGF0aWNQcm9wZXJ0eTtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgICAgICBjb25zdHJ1Y3RvcihwKSB7IH1cbiAgICAgICAgICogICAgICAgICBzdGF0aWMgc3RhdGljTWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIG1ldGhvZChwKSB7IH1cbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIGNvbnN0cnVjdG9yXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmRlbGV0ZU1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZSk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmRlbGV0ZU1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZSwgXCJzdGF0aWNQcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmRlbGV0ZU1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZS5wcm90b3R5cGUsIFwicHJvcGVydHlcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIGNvbnN0cnVjdG9yKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5kZWxldGVNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUsIFwic3RhdGljTWV0aG9kXCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmRlbGV0ZU1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZS5wcm90b3R5cGUsIFwibWV0aG9kXCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gZGVsZXRlTWV0YWRhdGEobWV0YWRhdGFLZXksIHRhcmdldCwgcHJvcGVydHlLZXkpIHtcbiAgICAgICAgICAgIGlmICghSXNPYmplY3QodGFyZ2V0KSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG4gICAgICAgICAgICBpZiAoIUlzVW5kZWZpbmVkKHByb3BlcnR5S2V5KSlcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eUtleSA9IFRvUHJvcGVydHlLZXkocHJvcGVydHlLZXkpO1xuICAgICAgICAgICAgdmFyIG1ldGFkYXRhTWFwID0gR2V0T3JDcmVhdGVNZXRhZGF0YU1hcCh0YXJnZXQsIHByb3BlcnR5S2V5LCAvKkNyZWF0ZSovIGZhbHNlKTtcbiAgICAgICAgICAgIGlmIChJc1VuZGVmaW5lZChtZXRhZGF0YU1hcCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgaWYgKCFtZXRhZGF0YU1hcC5kZWxldGUobWV0YWRhdGFLZXkpKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGlmIChtZXRhZGF0YU1hcC5zaXplID4gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIHZhciB0YXJnZXRNZXRhZGF0YSA9IE1ldGFkYXRhLmdldCh0YXJnZXQpO1xuICAgICAgICAgICAgdGFyZ2V0TWV0YWRhdGEuZGVsZXRlKHByb3BlcnR5S2V5KTtcbiAgICAgICAgICAgIGlmICh0YXJnZXRNZXRhZGF0YS5zaXplID4gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIE1ldGFkYXRhLmRlbGV0ZSh0YXJnZXQpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZXhwb3J0ZXIoXCJkZWxldGVNZXRhZGF0YVwiLCBkZWxldGVNZXRhZGF0YSk7XG4gICAgICAgIGZ1bmN0aW9uIERlY29yYXRlQ29uc3RydWN0b3IoZGVjb3JhdG9ycywgdGFyZ2V0KSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICAgICAgICAgIHZhciBkZWNvcmF0b3IgPSBkZWNvcmF0b3JzW2ldO1xuICAgICAgICAgICAgICAgIHZhciBkZWNvcmF0ZWQgPSBkZWNvcmF0b3IodGFyZ2V0KTtcbiAgICAgICAgICAgICAgICBpZiAoIUlzVW5kZWZpbmVkKGRlY29yYXRlZCkgJiYgIUlzTnVsbChkZWNvcmF0ZWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghSXNDb25zdHJ1Y3RvcihkZWNvcmF0ZWQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQgPSBkZWNvcmF0ZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBEZWNvcmF0ZVByb3BlcnR5KGRlY29yYXRvcnMsIHRhcmdldCwgcHJvcGVydHlLZXksIGRlc2NyaXB0b3IpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRlY29yYXRvciA9IGRlY29yYXRvcnNbaV07XG4gICAgICAgICAgICAgICAgdmFyIGRlY29yYXRlZCA9IGRlY29yYXRvcih0YXJnZXQsIHByb3BlcnR5S2V5LCBkZXNjcmlwdG9yKTtcbiAgICAgICAgICAgICAgICBpZiAoIUlzVW5kZWZpbmVkKGRlY29yYXRlZCkgJiYgIUlzTnVsbChkZWNvcmF0ZWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghSXNPYmplY3QoZGVjb3JhdGVkKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRvciA9IGRlY29yYXRlZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZGVzY3JpcHRvcjtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBHZXRPckNyZWF0ZU1ldGFkYXRhTWFwKE8sIFAsIENyZWF0ZSkge1xuICAgICAgICAgICAgdmFyIHRhcmdldE1ldGFkYXRhID0gTWV0YWRhdGEuZ2V0KE8pO1xuICAgICAgICAgICAgaWYgKElzVW5kZWZpbmVkKHRhcmdldE1ldGFkYXRhKSkge1xuICAgICAgICAgICAgICAgIGlmICghQ3JlYXRlKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHRhcmdldE1ldGFkYXRhID0gbmV3IF9NYXAoKTtcbiAgICAgICAgICAgICAgICBNZXRhZGF0YS5zZXQoTywgdGFyZ2V0TWV0YWRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG1ldGFkYXRhTWFwID0gdGFyZ2V0TWV0YWRhdGEuZ2V0KFApO1xuICAgICAgICAgICAgaWYgKElzVW5kZWZpbmVkKG1ldGFkYXRhTWFwKSkge1xuICAgICAgICAgICAgICAgIGlmICghQ3JlYXRlKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIG1ldGFkYXRhTWFwID0gbmV3IF9NYXAoKTtcbiAgICAgICAgICAgICAgICB0YXJnZXRNZXRhZGF0YS5zZXQoUCwgbWV0YWRhdGFNYXApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG1ldGFkYXRhTWFwO1xuICAgICAgICB9XG4gICAgICAgIC8vIDMuMS4xLjEgT3JkaW5hcnlIYXNNZXRhZGF0YShNZXRhZGF0YUtleSwgTywgUClcbiAgICAgICAgLy8gaHR0cHM6Ly9yYnVja3Rvbi5naXRodWIuaW8vcmVmbGVjdC1tZXRhZGF0YS8jb3JkaW5hcnloYXNtZXRhZGF0YVxuICAgICAgICBmdW5jdGlvbiBPcmRpbmFyeUhhc01ldGFkYXRhKE1ldGFkYXRhS2V5LCBPLCBQKSB7XG4gICAgICAgICAgICB2YXIgaGFzT3duID0gT3JkaW5hcnlIYXNPd25NZXRhZGF0YShNZXRhZGF0YUtleSwgTywgUCk7XG4gICAgICAgICAgICBpZiAoaGFzT3duKVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgdmFyIHBhcmVudCA9IE9yZGluYXJ5R2V0UHJvdG90eXBlT2YoTyk7XG4gICAgICAgICAgICBpZiAoIUlzTnVsbChwYXJlbnQpKVxuICAgICAgICAgICAgICAgIHJldHVybiBPcmRpbmFyeUhhc01ldGFkYXRhKE1ldGFkYXRhS2V5LCBwYXJlbnQsIFApO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIDMuMS4yLjEgT3JkaW5hcnlIYXNPd25NZXRhZGF0YShNZXRhZGF0YUtleSwgTywgUClcbiAgICAgICAgLy8gaHR0cHM6Ly9yYnVja3Rvbi5naXRodWIuaW8vcmVmbGVjdC1tZXRhZGF0YS8jb3JkaW5hcnloYXNvd25tZXRhZGF0YVxuICAgICAgICBmdW5jdGlvbiBPcmRpbmFyeUhhc093bk1ldGFkYXRhKE1ldGFkYXRhS2V5LCBPLCBQKSB7XG4gICAgICAgICAgICB2YXIgbWV0YWRhdGFNYXAgPSBHZXRPckNyZWF0ZU1ldGFkYXRhTWFwKE8sIFAsIC8qQ3JlYXRlKi8gZmFsc2UpO1xuICAgICAgICAgICAgaWYgKElzVW5kZWZpbmVkKG1ldGFkYXRhTWFwKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gVG9Cb29sZWFuKG1ldGFkYXRhTWFwLmhhcyhNZXRhZGF0YUtleSkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIDMuMS4zLjEgT3JkaW5hcnlHZXRNZXRhZGF0YShNZXRhZGF0YUtleSwgTywgUClcbiAgICAgICAgLy8gaHR0cHM6Ly9yYnVja3Rvbi5naXRodWIuaW8vcmVmbGVjdC1tZXRhZGF0YS8jb3JkaW5hcnlnZXRtZXRhZGF0YVxuICAgICAgICBmdW5jdGlvbiBPcmRpbmFyeUdldE1ldGFkYXRhKE1ldGFkYXRhS2V5LCBPLCBQKSB7XG4gICAgICAgICAgICB2YXIgaGFzT3duID0gT3JkaW5hcnlIYXNPd25NZXRhZGF0YShNZXRhZGF0YUtleSwgTywgUCk7XG4gICAgICAgICAgICBpZiAoaGFzT3duKVxuICAgICAgICAgICAgICAgIHJldHVybiBPcmRpbmFyeUdldE93bk1ldGFkYXRhKE1ldGFkYXRhS2V5LCBPLCBQKTtcbiAgICAgICAgICAgIHZhciBwYXJlbnQgPSBPcmRpbmFyeUdldFByb3RvdHlwZU9mKE8pO1xuICAgICAgICAgICAgaWYgKCFJc051bGwocGFyZW50KSlcbiAgICAgICAgICAgICAgICByZXR1cm4gT3JkaW5hcnlHZXRNZXRhZGF0YShNZXRhZGF0YUtleSwgcGFyZW50LCBQKTtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gMy4xLjQuMSBPcmRpbmFyeUdldE93bk1ldGFkYXRhKE1ldGFkYXRhS2V5LCBPLCBQKVxuICAgICAgICAvLyBodHRwczovL3JidWNrdG9uLmdpdGh1Yi5pby9yZWZsZWN0LW1ldGFkYXRhLyNvcmRpbmFyeWdldG93bm1ldGFkYXRhXG4gICAgICAgIGZ1bmN0aW9uIE9yZGluYXJ5R2V0T3duTWV0YWRhdGEoTWV0YWRhdGFLZXksIE8sIFApIHtcbiAgICAgICAgICAgIHZhciBtZXRhZGF0YU1hcCA9IEdldE9yQ3JlYXRlTWV0YWRhdGFNYXAoTywgUCwgLypDcmVhdGUqLyBmYWxzZSk7XG4gICAgICAgICAgICBpZiAoSXNVbmRlZmluZWQobWV0YWRhdGFNYXApKVxuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICByZXR1cm4gbWV0YWRhdGFNYXAuZ2V0KE1ldGFkYXRhS2V5KTtcbiAgICAgICAgfVxuICAgICAgICAvLyAzLjEuNS4xIE9yZGluYXJ5RGVmaW5lT3duTWV0YWRhdGEoTWV0YWRhdGFLZXksIE1ldGFkYXRhVmFsdWUsIE8sIFApXG4gICAgICAgIC8vIGh0dHBzOi8vcmJ1Y2t0b24uZ2l0aHViLmlvL3JlZmxlY3QtbWV0YWRhdGEvI29yZGluYXJ5ZGVmaW5lb3dubWV0YWRhdGFcbiAgICAgICAgZnVuY3Rpb24gT3JkaW5hcnlEZWZpbmVPd25NZXRhZGF0YShNZXRhZGF0YUtleSwgTWV0YWRhdGFWYWx1ZSwgTywgUCkge1xuICAgICAgICAgICAgdmFyIG1ldGFkYXRhTWFwID0gR2V0T3JDcmVhdGVNZXRhZGF0YU1hcChPLCBQLCAvKkNyZWF0ZSovIHRydWUpO1xuICAgICAgICAgICAgbWV0YWRhdGFNYXAuc2V0KE1ldGFkYXRhS2V5LCBNZXRhZGF0YVZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyAzLjEuNi4xIE9yZGluYXJ5TWV0YWRhdGFLZXlzKE8sIFApXG4gICAgICAgIC8vIGh0dHBzOi8vcmJ1Y2t0b24uZ2l0aHViLmlvL3JlZmxlY3QtbWV0YWRhdGEvI29yZGluYXJ5bWV0YWRhdGFrZXlzXG4gICAgICAgIGZ1bmN0aW9uIE9yZGluYXJ5TWV0YWRhdGFLZXlzKE8sIFApIHtcbiAgICAgICAgICAgIHZhciBvd25LZXlzID0gT3JkaW5hcnlPd25NZXRhZGF0YUtleXMoTywgUCk7XG4gICAgICAgICAgICB2YXIgcGFyZW50ID0gT3JkaW5hcnlHZXRQcm90b3R5cGVPZihPKTtcbiAgICAgICAgICAgIGlmIChwYXJlbnQgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG93bktleXM7XG4gICAgICAgICAgICB2YXIgcGFyZW50S2V5cyA9IE9yZGluYXJ5TWV0YWRhdGFLZXlzKHBhcmVudCwgUCk7XG4gICAgICAgICAgICBpZiAocGFyZW50S2V5cy5sZW5ndGggPD0gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gb3duS2V5cztcbiAgICAgICAgICAgIGlmIChvd25LZXlzLmxlbmd0aCA8PSAwKVxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJlbnRLZXlzO1xuICAgICAgICAgICAgdmFyIHNldCA9IG5ldyBfU2V0KCk7XG4gICAgICAgICAgICB2YXIga2V5cyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBvd25LZXlzXzEgPSBvd25LZXlzOyBfaSA8IG93bktleXNfMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gb3duS2V5c18xW19pXTtcbiAgICAgICAgICAgICAgICB2YXIgaGFzS2V5ID0gc2V0LmhhcyhrZXkpO1xuICAgICAgICAgICAgICAgIGlmICghaGFzS2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHNldC5hZGQoa2V5KTtcbiAgICAgICAgICAgICAgICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yICh2YXIgX2EgPSAwLCBwYXJlbnRLZXlzXzEgPSBwYXJlbnRLZXlzOyBfYSA8IHBhcmVudEtleXNfMS5sZW5ndGg7IF9hKyspIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gcGFyZW50S2V5c18xW19hXTtcbiAgICAgICAgICAgICAgICB2YXIgaGFzS2V5ID0gc2V0LmhhcyhrZXkpO1xuICAgICAgICAgICAgICAgIGlmICghaGFzS2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHNldC5hZGQoa2V5KTtcbiAgICAgICAgICAgICAgICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGtleXM7XG4gICAgICAgIH1cbiAgICAgICAgLy8gMy4xLjcuMSBPcmRpbmFyeU93bk1ldGFkYXRhS2V5cyhPLCBQKVxuICAgICAgICAvLyBodHRwczovL3JidWNrdG9uLmdpdGh1Yi5pby9yZWZsZWN0LW1ldGFkYXRhLyNvcmRpbmFyeW93bm1ldGFkYXRha2V5c1xuICAgICAgICBmdW5jdGlvbiBPcmRpbmFyeU93bk1ldGFkYXRhS2V5cyhPLCBQKSB7XG4gICAgICAgICAgICB2YXIga2V5cyA9IFtdO1xuICAgICAgICAgICAgdmFyIG1ldGFkYXRhTWFwID0gR2V0T3JDcmVhdGVNZXRhZGF0YU1hcChPLCBQLCAvKkNyZWF0ZSovIGZhbHNlKTtcbiAgICAgICAgICAgIGlmIChJc1VuZGVmaW5lZChtZXRhZGF0YU1hcCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGtleXM7XG4gICAgICAgICAgICB2YXIga2V5c09iaiA9IG1ldGFkYXRhTWFwLmtleXMoKTtcbiAgICAgICAgICAgIHZhciBpdGVyYXRvciA9IEdldEl0ZXJhdG9yKGtleXNPYmopO1xuICAgICAgICAgICAgdmFyIGsgPSAwO1xuICAgICAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgbmV4dCA9IEl0ZXJhdG9yU3RlcChpdGVyYXRvcik7XG4gICAgICAgICAgICAgICAgaWYgKCFuZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIGtleXMubGVuZ3RoID0gaztcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGtleXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBuZXh0VmFsdWUgPSBJdGVyYXRvclZhbHVlKG5leHQpO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGtleXNba10gPSBuZXh0VmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBJdGVyYXRvckNsb3NlKGl0ZXJhdG9yKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaysrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIDYgRUNNQVNjcmlwdCBEYXRhIFR5cDBlcyBhbmQgVmFsdWVzXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLWVjbWFzY3JpcHQtZGF0YS10eXBlcy1hbmQtdmFsdWVzXG4gICAgICAgIGZ1bmN0aW9uIFR5cGUoeCkge1xuICAgICAgICAgICAgaWYgKHggPT09IG51bGwpXG4gICAgICAgICAgICAgICAgcmV0dXJuIDEgLyogTnVsbCAqLztcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZW9mIHgpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwidW5kZWZpbmVkXCI6IHJldHVybiAwIC8qIFVuZGVmaW5lZCAqLztcbiAgICAgICAgICAgICAgICBjYXNlIFwiYm9vbGVhblwiOiByZXR1cm4gMiAvKiBCb29sZWFuICovO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJzdHJpbmdcIjogcmV0dXJuIDMgLyogU3RyaW5nICovO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJzeW1ib2xcIjogcmV0dXJuIDQgLyogU3ltYm9sICovO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjogcmV0dXJuIDUgLyogTnVtYmVyICovO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjogcmV0dXJuIHggPT09IG51bGwgPyAxIC8qIE51bGwgKi8gOiA2IC8qIE9iamVjdCAqLztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiByZXR1cm4gNiAvKiBPYmplY3QgKi87XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gNi4xLjEgVGhlIFVuZGVmaW5lZCBUeXBlXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLWVjbWFzY3JpcHQtbGFuZ3VhZ2UtdHlwZXMtdW5kZWZpbmVkLXR5cGVcbiAgICAgICAgZnVuY3Rpb24gSXNVbmRlZmluZWQoeCkge1xuICAgICAgICAgICAgcmV0dXJuIHggPT09IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICAvLyA2LjEuMiBUaGUgTnVsbCBUeXBlXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLWVjbWFzY3JpcHQtbGFuZ3VhZ2UtdHlwZXMtbnVsbC10eXBlXG4gICAgICAgIGZ1bmN0aW9uIElzTnVsbCh4KSB7XG4gICAgICAgICAgICByZXR1cm4geCA9PT0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAvLyA2LjEuNSBUaGUgU3ltYm9sIFR5cGVcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtZWNtYXNjcmlwdC1sYW5ndWFnZS10eXBlcy1zeW1ib2wtdHlwZVxuICAgICAgICBmdW5jdGlvbiBJc1N5bWJvbCh4KSB7XG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIHggPT09IFwic3ltYm9sXCI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gNi4xLjcgVGhlIE9iamVjdCBUeXBlXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLW9iamVjdC10eXBlXG4gICAgICAgIGZ1bmN0aW9uIElzT2JqZWN0KHgpIHtcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2YgeCA9PT0gXCJvYmplY3RcIiA/IHggIT09IG51bGwgOiB0eXBlb2YgeCA9PT0gXCJmdW5jdGlvblwiO1xuICAgICAgICB9XG4gICAgICAgIC8vIDcuMSBUeXBlIENvbnZlcnNpb25cbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtdHlwZS1jb252ZXJzaW9uXG4gICAgICAgIC8vIDcuMS4xIFRvUHJpbWl0aXZlKGlucHV0IFssIFByZWZlcnJlZFR5cGVdKVxuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy10b3ByaW1pdGl2ZVxuICAgICAgICBmdW5jdGlvbiBUb1ByaW1pdGl2ZShpbnB1dCwgUHJlZmVycmVkVHlwZSkge1xuICAgICAgICAgICAgc3dpdGNoIChUeXBlKGlucHV0KSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMCAvKiBVbmRlZmluZWQgKi86IHJldHVybiBpbnB1dDtcbiAgICAgICAgICAgICAgICBjYXNlIDEgLyogTnVsbCAqLzogcmV0dXJuIGlucHV0O1xuICAgICAgICAgICAgICAgIGNhc2UgMiAvKiBCb29sZWFuICovOiByZXR1cm4gaW5wdXQ7XG4gICAgICAgICAgICAgICAgY2FzZSAzIC8qIFN0cmluZyAqLzogcmV0dXJuIGlucHV0O1xuICAgICAgICAgICAgICAgIGNhc2UgNCAvKiBTeW1ib2wgKi86IHJldHVybiBpbnB1dDtcbiAgICAgICAgICAgICAgICBjYXNlIDUgLyogTnVtYmVyICovOiByZXR1cm4gaW5wdXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgaGludCA9IFByZWZlcnJlZFR5cGUgPT09IDMgLyogU3RyaW5nICovID8gXCJzdHJpbmdcIiA6IFByZWZlcnJlZFR5cGUgPT09IDUgLyogTnVtYmVyICovID8gXCJudW1iZXJcIiA6IFwiZGVmYXVsdFwiO1xuICAgICAgICAgICAgdmFyIGV4b3RpY1RvUHJpbSA9IEdldE1ldGhvZChpbnB1dCwgdG9QcmltaXRpdmVTeW1ib2wpO1xuICAgICAgICAgICAgaWYgKGV4b3RpY1RvUHJpbSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGV4b3RpY1RvUHJpbS5jYWxsKGlucHV0LCBoaW50KTtcbiAgICAgICAgICAgICAgICBpZiAoSXNPYmplY3QocmVzdWx0KSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gT3JkaW5hcnlUb1ByaW1pdGl2ZShpbnB1dCwgaGludCA9PT0gXCJkZWZhdWx0XCIgPyBcIm51bWJlclwiIDogaGludCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gNy4xLjEuMSBPcmRpbmFyeVRvUHJpbWl0aXZlKE8sIGhpbnQpXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLW9yZGluYXJ5dG9wcmltaXRpdmVcbiAgICAgICAgZnVuY3Rpb24gT3JkaW5hcnlUb1ByaW1pdGl2ZShPLCBoaW50KSB7XG4gICAgICAgICAgICBpZiAoaGludCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIHZhciB0b1N0cmluZ18xID0gTy50b1N0cmluZztcbiAgICAgICAgICAgICAgICBpZiAoSXNDYWxsYWJsZSh0b1N0cmluZ18xKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gdG9TdHJpbmdfMS5jYWxsKE8pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIUlzT2JqZWN0KHJlc3VsdCkpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgdmFsdWVPZiA9IE8udmFsdWVPZjtcbiAgICAgICAgICAgICAgICBpZiAoSXNDYWxsYWJsZSh2YWx1ZU9mKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gdmFsdWVPZi5jYWxsKE8pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIUlzT2JqZWN0KHJlc3VsdCkpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZU9mID0gTy52YWx1ZU9mO1xuICAgICAgICAgICAgICAgIGlmIChJc0NhbGxhYmxlKHZhbHVlT2YpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSB2YWx1ZU9mLmNhbGwoTyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghSXNPYmplY3QocmVzdWx0KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciB0b1N0cmluZ18yID0gTy50b1N0cmluZztcbiAgICAgICAgICAgICAgICBpZiAoSXNDYWxsYWJsZSh0b1N0cmluZ18yKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gdG9TdHJpbmdfMi5jYWxsKE8pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIUlzT2JqZWN0KHJlc3VsdCkpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyA3LjEuMiBUb0Jvb2xlYW4oYXJndW1lbnQpXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8yMDE2LyNzZWMtdG9ib29sZWFuXG4gICAgICAgIGZ1bmN0aW9uIFRvQm9vbGVhbihhcmd1bWVudCkge1xuICAgICAgICAgICAgcmV0dXJuICEhYXJndW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gNy4xLjEyIFRvU3RyaW5nKGFyZ3VtZW50KVxuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy10b3N0cmluZ1xuICAgICAgICBmdW5jdGlvbiBUb1N0cmluZyhhcmd1bWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIFwiXCIgKyBhcmd1bWVudDtcbiAgICAgICAgfVxuICAgICAgICAvLyA3LjEuMTQgVG9Qcm9wZXJ0eUtleShhcmd1bWVudClcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtdG9wcm9wZXJ0eWtleVxuICAgICAgICBmdW5jdGlvbiBUb1Byb3BlcnR5S2V5KGFyZ3VtZW50KSB7XG4gICAgICAgICAgICB2YXIga2V5ID0gVG9QcmltaXRpdmUoYXJndW1lbnQsIDMgLyogU3RyaW5nICovKTtcbiAgICAgICAgICAgIGlmIChJc1N5bWJvbChrZXkpKVxuICAgICAgICAgICAgICAgIHJldHVybiBrZXk7XG4gICAgICAgICAgICByZXR1cm4gVG9TdHJpbmcoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICAvLyA3LjIgVGVzdGluZyBhbmQgQ29tcGFyaXNvbiBPcGVyYXRpb25zXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLXRlc3RpbmctYW5kLWNvbXBhcmlzb24tb3BlcmF0aW9uc1xuICAgICAgICAvLyA3LjIuMiBJc0FycmF5KGFyZ3VtZW50KVxuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1pc2FycmF5XG4gICAgICAgIGZ1bmN0aW9uIElzQXJyYXkoYXJndW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5XG4gICAgICAgICAgICAgICAgPyBBcnJheS5pc0FycmF5KGFyZ3VtZW50KVxuICAgICAgICAgICAgICAgIDogYXJndW1lbnQgaW5zdGFuY2VvZiBPYmplY3RcbiAgICAgICAgICAgICAgICAgICAgPyBhcmd1bWVudCBpbnN0YW5jZW9mIEFycmF5XG4gICAgICAgICAgICAgICAgICAgIDogT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFyZ3VtZW50KSA9PT0gXCJbb2JqZWN0IEFycmF5XVwiO1xuICAgICAgICB9XG4gICAgICAgIC8vIDcuMi4zIElzQ2FsbGFibGUoYXJndW1lbnQpXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLWlzY2FsbGFibGVcbiAgICAgICAgZnVuY3Rpb24gSXNDYWxsYWJsZShhcmd1bWVudCkge1xuICAgICAgICAgICAgLy8gTk9URTogVGhpcyBpcyBhbiBhcHByb3hpbWF0aW9uIGFzIHdlIGNhbm5vdCBjaGVjayBmb3IgW1tDYWxsXV0gaW50ZXJuYWwgbWV0aG9kLlxuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBhcmd1bWVudCA9PT0gXCJmdW5jdGlvblwiO1xuICAgICAgICB9XG4gICAgICAgIC8vIDcuMi40IElzQ29uc3RydWN0b3IoYXJndW1lbnQpXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLWlzY29uc3RydWN0b3JcbiAgICAgICAgZnVuY3Rpb24gSXNDb25zdHJ1Y3Rvcihhcmd1bWVudCkge1xuICAgICAgICAgICAgLy8gTk9URTogVGhpcyBpcyBhbiBhcHByb3hpbWF0aW9uIGFzIHdlIGNhbm5vdCBjaGVjayBmb3IgW1tDb25zdHJ1Y3RdXSBpbnRlcm5hbCBtZXRob2QuXG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIGFyZ3VtZW50ID09PSBcImZ1bmN0aW9uXCI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gNy4yLjcgSXNQcm9wZXJ0eUtleShhcmd1bWVudClcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtaXNwcm9wZXJ0eWtleVxuICAgICAgICBmdW5jdGlvbiBJc1Byb3BlcnR5S2V5KGFyZ3VtZW50KSB7XG4gICAgICAgICAgICBzd2l0Y2ggKFR5cGUoYXJndW1lbnQpKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAzIC8qIFN0cmluZyAqLzogcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgY2FzZSA0IC8qIFN5bWJvbCAqLzogcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDogcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIDcuMyBPcGVyYXRpb25zIG9uIE9iamVjdHNcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtb3BlcmF0aW9ucy1vbi1vYmplY3RzXG4gICAgICAgIC8vIDcuMy45IEdldE1ldGhvZChWLCBQKVxuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1nZXRtZXRob2RcbiAgICAgICAgZnVuY3Rpb24gR2V0TWV0aG9kKFYsIFApIHtcbiAgICAgICAgICAgIHZhciBmdW5jID0gVltQXTtcbiAgICAgICAgICAgIGlmIChmdW5jID09PSB1bmRlZmluZWQgfHwgZnVuYyA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgaWYgKCFJc0NhbGxhYmxlKGZ1bmMpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgIHJldHVybiBmdW5jO1xuICAgICAgICB9XG4gICAgICAgIC8vIDcuNCBPcGVyYXRpb25zIG9uIEl0ZXJhdG9yIE9iamVjdHNcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtb3BlcmF0aW9ucy1vbi1pdGVyYXRvci1vYmplY3RzXG4gICAgICAgIGZ1bmN0aW9uIEdldEl0ZXJhdG9yKG9iaikge1xuICAgICAgICAgICAgdmFyIG1ldGhvZCA9IEdldE1ldGhvZChvYmosIGl0ZXJhdG9yU3ltYm9sKTtcbiAgICAgICAgICAgIGlmICghSXNDYWxsYWJsZShtZXRob2QpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTsgLy8gZnJvbSBDYWxsXG4gICAgICAgICAgICB2YXIgaXRlcmF0b3IgPSBtZXRob2QuY2FsbChvYmopO1xuICAgICAgICAgICAgaWYgKCFJc09iamVjdChpdGVyYXRvcikpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgcmV0dXJuIGl0ZXJhdG9yO1xuICAgICAgICB9XG4gICAgICAgIC8vIDcuNC40IEl0ZXJhdG9yVmFsdWUoaXRlclJlc3VsdClcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLzIwMTYvI3NlYy1pdGVyYXRvcnZhbHVlXG4gICAgICAgIGZ1bmN0aW9uIEl0ZXJhdG9yVmFsdWUoaXRlclJlc3VsdCkge1xuICAgICAgICAgICAgcmV0dXJuIGl0ZXJSZXN1bHQudmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gNy40LjUgSXRlcmF0b3JTdGVwKGl0ZXJhdG9yKVxuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1pdGVyYXRvcnN0ZXBcbiAgICAgICAgZnVuY3Rpb24gSXRlcmF0b3JTdGVwKGl0ZXJhdG9yKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5kb25lID8gZmFsc2UgOiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gNy40LjYgSXRlcmF0b3JDbG9zZShpdGVyYXRvciwgY29tcGxldGlvbilcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtaXRlcmF0b3JjbG9zZVxuICAgICAgICBmdW5jdGlvbiBJdGVyYXRvckNsb3NlKGl0ZXJhdG9yKSB7XG4gICAgICAgICAgICB2YXIgZiA9IGl0ZXJhdG9yW1wicmV0dXJuXCJdO1xuICAgICAgICAgICAgaWYgKGYpXG4gICAgICAgICAgICAgICAgZi5jYWxsKGl0ZXJhdG9yKTtcbiAgICAgICAgfVxuICAgICAgICAvLyA5LjEgT3JkaW5hcnkgT2JqZWN0IEludGVybmFsIE1ldGhvZHMgYW5kIEludGVybmFsIFNsb3RzXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLW9yZGluYXJ5LW9iamVjdC1pbnRlcm5hbC1tZXRob2RzLWFuZC1pbnRlcm5hbC1zbG90c1xuICAgICAgICAvLyA5LjEuMS4xIE9yZGluYXJ5R2V0UHJvdG90eXBlT2YoTylcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtb3JkaW5hcnlnZXRwcm90b3R5cGVvZlxuICAgICAgICBmdW5jdGlvbiBPcmRpbmFyeUdldFByb3RvdHlwZU9mKE8pIHtcbiAgICAgICAgICAgIHZhciBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihPKTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgTyAhPT0gXCJmdW5jdGlvblwiIHx8IE8gPT09IGZ1bmN0aW9uUHJvdG90eXBlKVxuICAgICAgICAgICAgICAgIHJldHVybiBwcm90bztcbiAgICAgICAgICAgIC8vIFR5cGVTY3JpcHQgZG9lc24ndCBzZXQgX19wcm90b19fIGluIEVTNSwgYXMgaXQncyBub24tc3RhbmRhcmQuXG4gICAgICAgICAgICAvLyBUcnkgdG8gZGV0ZXJtaW5lIHRoZSBzdXBlcmNsYXNzIGNvbnN0cnVjdG9yLiBDb21wYXRpYmxlIGltcGxlbWVudGF0aW9uc1xuICAgICAgICAgICAgLy8gbXVzdCBlaXRoZXIgc2V0IF9fcHJvdG9fXyBvbiBhIHN1YmNsYXNzIGNvbnN0cnVjdG9yIHRvIHRoZSBzdXBlcmNsYXNzIGNvbnN0cnVjdG9yLFxuICAgICAgICAgICAgLy8gb3IgZW5zdXJlIGVhY2ggY2xhc3MgaGFzIGEgdmFsaWQgYGNvbnN0cnVjdG9yYCBwcm9wZXJ0eSBvbiBpdHMgcHJvdG90eXBlIHRoYXRcbiAgICAgICAgICAgIC8vIHBvaW50cyBiYWNrIHRvIHRoZSBjb25zdHJ1Y3Rvci5cbiAgICAgICAgICAgIC8vIElmIHRoaXMgaXMgbm90IHRoZSBzYW1lIGFzIEZ1bmN0aW9uLltbUHJvdG90eXBlXV0sIHRoZW4gdGhpcyBpcyBkZWZpbmF0ZWx5IGluaGVyaXRlZC5cbiAgICAgICAgICAgIC8vIFRoaXMgaXMgdGhlIGNhc2Ugd2hlbiBpbiBFUzYgb3Igd2hlbiB1c2luZyBfX3Byb3RvX18gaW4gYSBjb21wYXRpYmxlIGJyb3dzZXIuXG4gICAgICAgICAgICBpZiAocHJvdG8gIT09IGZ1bmN0aW9uUHJvdG90eXBlKVxuICAgICAgICAgICAgICAgIHJldHVybiBwcm90bztcbiAgICAgICAgICAgIC8vIElmIHRoZSBzdXBlciBwcm90b3R5cGUgaXMgT2JqZWN0LnByb3RvdHlwZSwgbnVsbCwgb3IgdW5kZWZpbmVkLCB0aGVuIHdlIGNhbm5vdCBkZXRlcm1pbmUgdGhlIGhlcml0YWdlLlxuICAgICAgICAgICAgdmFyIHByb3RvdHlwZSA9IE8ucHJvdG90eXBlO1xuICAgICAgICAgICAgdmFyIHByb3RvdHlwZVByb3RvID0gcHJvdG90eXBlICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZihwcm90b3R5cGUpO1xuICAgICAgICAgICAgaWYgKHByb3RvdHlwZVByb3RvID09IG51bGwgfHwgcHJvdG90eXBlUHJvdG8gPT09IE9iamVjdC5wcm90b3R5cGUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb3RvO1xuICAgICAgICAgICAgLy8gSWYgdGhlIGNvbnN0cnVjdG9yIHdhcyBub3QgYSBmdW5jdGlvbiwgdGhlbiB3ZSBjYW5ub3QgZGV0ZXJtaW5lIHRoZSBoZXJpdGFnZS5cbiAgICAgICAgICAgIHZhciBjb25zdHJ1Y3RvciA9IHByb3RvdHlwZVByb3RvLmNvbnN0cnVjdG9yO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb25zdHJ1Y3RvciAhPT0gXCJmdW5jdGlvblwiKVxuICAgICAgICAgICAgICAgIHJldHVybiBwcm90bztcbiAgICAgICAgICAgIC8vIElmIHdlIGhhdmUgc29tZSBraW5kIG9mIHNlbGYtcmVmZXJlbmNlLCB0aGVuIHdlIGNhbm5vdCBkZXRlcm1pbmUgdGhlIGhlcml0YWdlLlxuICAgICAgICAgICAgaWYgKGNvbnN0cnVjdG9yID09PSBPKVxuICAgICAgICAgICAgICAgIHJldHVybiBwcm90bztcbiAgICAgICAgICAgIC8vIHdlIGhhdmUgYSBwcmV0dHkgZ29vZCBndWVzcyBhdCB0aGUgaGVyaXRhZ2UuXG4gICAgICAgICAgICByZXR1cm4gY29uc3RydWN0b3I7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbmFpdmUgTWFwIHNoaW1cbiAgICAgICAgZnVuY3Rpb24gQ3JlYXRlTWFwUG9seWZpbGwoKSB7XG4gICAgICAgICAgICB2YXIgY2FjaGVTZW50aW5lbCA9IHt9O1xuICAgICAgICAgICAgdmFyIGFycmF5U2VudGluZWwgPSBbXTtcbiAgICAgICAgICAgIHZhciBNYXBJdGVyYXRvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBNYXBJdGVyYXRvcihrZXlzLCB2YWx1ZXMsIHNlbGVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2luZGV4ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fa2V5cyA9IGtleXM7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlcyA9IHZhbHVlcztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2VsZWN0b3IgPSBzZWxlY3RvcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgTWFwSXRlcmF0b3IucHJvdG90eXBlW1wiQEBpdGVyYXRvclwiXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH07XG4gICAgICAgICAgICAgICAgTWFwSXRlcmF0b3IucHJvdG90eXBlW2l0ZXJhdG9yU3ltYm9sXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH07XG4gICAgICAgICAgICAgICAgTWFwSXRlcmF0b3IucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuX2luZGV4O1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPj0gMCAmJiBpbmRleCA8IHRoaXMuX2tleXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5fc2VsZWN0b3IodGhpcy5fa2V5c1tpbmRleF0sIHRoaXMuX3ZhbHVlc1tpbmRleF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ICsgMSA+PSB0aGlzLl9rZXlzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2luZGV4ID0gLTE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fa2V5cyA9IGFycmF5U2VudGluZWw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmFsdWVzID0gYXJyYXlTZW50aW5lbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2luZGV4Kys7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogcmVzdWx0LCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIE1hcEl0ZXJhdG9yLnByb3RvdHlwZS50aHJvdyA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5faW5kZXggPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5kZXggPSAtMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2tleXMgPSBhcnJheVNlbnRpbmVsO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmFsdWVzID0gYXJyYXlTZW50aW5lbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIE1hcEl0ZXJhdG9yLnByb3RvdHlwZS5yZXR1cm4gPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2luZGV4ID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2luZGV4ID0gLTE7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9rZXlzID0gYXJyYXlTZW50aW5lbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlcyA9IGFycmF5U2VudGluZWw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IHZhbHVlLCBkb25lOiB0cnVlIH07XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gTWFwSXRlcmF0b3I7XG4gICAgICAgICAgICB9KCkpO1xuICAgICAgICAgICAgcmV0dXJuIC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBNYXAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2tleXMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmFsdWVzID0gW107XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NhY2hlS2V5ID0gY2FjaGVTZW50aW5lbDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVJbmRleCA9IC0yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWFwLnByb3RvdHlwZSwgXCJzaXplXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9rZXlzLmxlbmd0aDsgfSxcbiAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgTWFwLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbiAoa2V5KSB7IHJldHVybiB0aGlzLl9maW5kKGtleSwgLyppbnNlcnQqLyBmYWxzZSkgPj0gMDsgfTtcbiAgICAgICAgICAgICAgICBNYXAucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5fZmluZChrZXksIC8qaW5zZXJ0Ki8gZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5kZXggPj0gMCA/IHRoaXMuX3ZhbHVlc1tpbmRleF0gOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBNYXAucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuX2ZpbmQoa2V5LCAvKmluc2VydCovIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZXNbaW5kZXhdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgTWFwLnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuX2ZpbmQoa2V5LCAvKmluc2VydCovIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzaXplID0gdGhpcy5fa2V5cy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gaW5kZXggKyAxOyBpIDwgc2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fa2V5c1tpIC0gMV0gPSB0aGlzLl9rZXlzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlc1tpIC0gMV0gPSB0aGlzLl92YWx1ZXNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9rZXlzLmxlbmd0aC0tO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmFsdWVzLmxlbmd0aC0tO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtleSA9PT0gdGhpcy5fY2FjaGVLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZUtleSA9IGNhY2hlU2VudGluZWw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVJbmRleCA9IC0yO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgTWFwLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fa2V5cy5sZW5ndGggPSAwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZXMubGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVLZXkgPSBjYWNoZVNlbnRpbmVsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZUluZGV4ID0gLTI7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBNYXAucHJvdG90eXBlLmtleXMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBuZXcgTWFwSXRlcmF0b3IodGhpcy5fa2V5cywgdGhpcy5fdmFsdWVzLCBnZXRLZXkpOyB9O1xuICAgICAgICAgICAgICAgIE1hcC5wcm90b3R5cGUudmFsdWVzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gbmV3IE1hcEl0ZXJhdG9yKHRoaXMuX2tleXMsIHRoaXMuX3ZhbHVlcywgZ2V0VmFsdWUpOyB9O1xuICAgICAgICAgICAgICAgIE1hcC5wcm90b3R5cGUuZW50cmllcyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG5ldyBNYXBJdGVyYXRvcih0aGlzLl9rZXlzLCB0aGlzLl92YWx1ZXMsIGdldEVudHJ5KTsgfTtcbiAgICAgICAgICAgICAgICBNYXAucHJvdG90eXBlW1wiQEBpdGVyYXRvclwiXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuZW50cmllcygpOyB9O1xuICAgICAgICAgICAgICAgIE1hcC5wcm90b3R5cGVbaXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5lbnRyaWVzKCk7IH07XG4gICAgICAgICAgICAgICAgTWFwLnByb3RvdHlwZS5fZmluZCA9IGZ1bmN0aW9uIChrZXksIGluc2VydCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fY2FjaGVLZXkgIT09IGtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVJbmRleCA9IHRoaXMuX2tleXMuaW5kZXhPZih0aGlzLl9jYWNoZUtleSA9IGtleSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NhY2hlSW5kZXggPCAwICYmIGluc2VydCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVJbmRleCA9IHRoaXMuX2tleXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fa2V5cy5wdXNoKGtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZXMucHVzaCh1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9jYWNoZUluZGV4O1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIE1hcDtcbiAgICAgICAgICAgIH0oKSk7XG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRLZXkoa2V5LCBfKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGtleTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldFZhbHVlKF8sIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gZ2V0RW50cnkoa2V5LCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBba2V5LCB2YWx1ZV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gbmFpdmUgU2V0IHNoaW1cbiAgICAgICAgZnVuY3Rpb24gQ3JlYXRlU2V0UG9seWZpbGwoKSB7XG4gICAgICAgICAgICByZXR1cm4gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIFNldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWFwID0gbmV3IF9NYXAoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNldC5wcm90b3R5cGUsIFwic2l6ZVwiLCB7XG4gICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fbWFwLnNpemU7IH0sXG4gICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIFNldC5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiB0aGlzLl9tYXAuaGFzKHZhbHVlKTsgfTtcbiAgICAgICAgICAgICAgICBTZXQucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gdGhpcy5fbWFwLnNldCh2YWx1ZSwgdmFsdWUpLCB0aGlzOyB9O1xuICAgICAgICAgICAgICAgIFNldC5wcm90b3R5cGUuZGVsZXRlID0gZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiB0aGlzLl9tYXAuZGVsZXRlKHZhbHVlKTsgfTtcbiAgICAgICAgICAgICAgICBTZXQucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkgeyB0aGlzLl9tYXAuY2xlYXIoKTsgfTtcbiAgICAgICAgICAgICAgICBTZXQucHJvdG90eXBlLmtleXMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9tYXAua2V5cygpOyB9O1xuICAgICAgICAgICAgICAgIFNldC5wcm90b3R5cGUudmFsdWVzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fbWFwLnZhbHVlcygpOyB9O1xuICAgICAgICAgICAgICAgIFNldC5wcm90b3R5cGUuZW50cmllcyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX21hcC5lbnRyaWVzKCk7IH07XG4gICAgICAgICAgICAgICAgU2V0LnByb3RvdHlwZVtcIkBAaXRlcmF0b3JcIl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmtleXMoKTsgfTtcbiAgICAgICAgICAgICAgICBTZXQucHJvdG90eXBlW2l0ZXJhdG9yU3ltYm9sXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMua2V5cygpOyB9O1xuICAgICAgICAgICAgICAgIHJldHVybiBTZXQ7XG4gICAgICAgICAgICB9KCkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIG5haXZlIFdlYWtNYXAgc2hpbVxuICAgICAgICBmdW5jdGlvbiBDcmVhdGVXZWFrTWFwUG9seWZpbGwoKSB7XG4gICAgICAgICAgICB2YXIgVVVJRF9TSVpFID0gMTY7XG4gICAgICAgICAgICB2YXIga2V5cyA9IEhhc2hNYXAuY3JlYXRlKCk7XG4gICAgICAgICAgICB2YXIgcm9vdEtleSA9IENyZWF0ZVVuaXF1ZUtleSgpO1xuICAgICAgICAgICAgcmV0dXJuIC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBXZWFrTWFwKCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9rZXkgPSBDcmVhdGVVbmlxdWVLZXkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgV2Vha01hcC5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGFibGUgPSBHZXRPckNyZWF0ZVdlYWtNYXBUYWJsZSh0YXJnZXQsIC8qY3JlYXRlKi8gZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFibGUgIT09IHVuZGVmaW5lZCA/IEhhc2hNYXAuaGFzKHRhYmxlLCB0aGlzLl9rZXkpIDogZmFsc2U7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBXZWFrTWFwLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0YWJsZSA9IEdldE9yQ3JlYXRlV2Vha01hcFRhYmxlKHRhcmdldCwgLypjcmVhdGUqLyBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0YWJsZSAhPT0gdW5kZWZpbmVkID8gSGFzaE1hcC5nZXQodGFibGUsIHRoaXMuX2tleSkgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBXZWFrTWFwLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAodGFyZ2V0LCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGFibGUgPSBHZXRPckNyZWF0ZVdlYWtNYXBUYWJsZSh0YXJnZXQsIC8qY3JlYXRlKi8gdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRhYmxlW3RoaXMuX2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBXZWFrTWFwLnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0YWJsZSA9IEdldE9yQ3JlYXRlV2Vha01hcFRhYmxlKHRhcmdldCwgLypjcmVhdGUqLyBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0YWJsZSAhPT0gdW5kZWZpbmVkID8gZGVsZXRlIHRhYmxlW3RoaXMuX2tleV0gOiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIFdlYWtNYXAucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBOT1RFOiBub3QgYSByZWFsIGNsZWFyLCBqdXN0IG1ha2VzIHRoZSBwcmV2aW91cyBkYXRhIHVucmVhY2hhYmxlXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2tleSA9IENyZWF0ZVVuaXF1ZUtleSgpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIFdlYWtNYXA7XG4gICAgICAgICAgICB9KCkpO1xuICAgICAgICAgICAgZnVuY3Rpb24gQ3JlYXRlVW5pcXVlS2V5KCkge1xuICAgICAgICAgICAgICAgIHZhciBrZXk7XG4gICAgICAgICAgICAgICAgZG9cbiAgICAgICAgICAgICAgICAgICAga2V5ID0gXCJAQFdlYWtNYXBAQFwiICsgQ3JlYXRlVVVJRCgpO1xuICAgICAgICAgICAgICAgIHdoaWxlIChIYXNoTWFwLmhhcyhrZXlzLCBrZXkpKTtcbiAgICAgICAgICAgICAgICBrZXlzW2tleV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybiBrZXk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBHZXRPckNyZWF0ZVdlYWtNYXBUYWJsZSh0YXJnZXQsIGNyZWF0ZSkge1xuICAgICAgICAgICAgICAgIGlmICghaGFzT3duLmNhbGwodGFyZ2V0LCByb290S2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWNyZWF0ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHJvb3RLZXksIHsgdmFsdWU6IEhhc2hNYXAuY3JlYXRlKCkgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXRbcm9vdEtleV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBGaWxsUmFuZG9tQnl0ZXMoYnVmZmVyLCBzaXplKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyArK2kpXG4gICAgICAgICAgICAgICAgICAgIGJ1ZmZlcltpXSA9IE1hdGgucmFuZG9tKCkgKiAweGZmIHwgMDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYnVmZmVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gR2VuUmFuZG9tQnl0ZXMoc2l6ZSkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgVWludDhBcnJheSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY3J5cHRvICE9PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQ4QXJyYXkoc2l6ZSkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1zQ3J5cHRvICE9PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDhBcnJheShzaXplKSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBGaWxsUmFuZG9tQnl0ZXMobmV3IFVpbnQ4QXJyYXkoc2l6ZSksIHNpemUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gRmlsbFJhbmRvbUJ5dGVzKG5ldyBBcnJheShzaXplKSwgc2l6ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBDcmVhdGVVVUlEKCkge1xuICAgICAgICAgICAgICAgIHZhciBkYXRhID0gR2VuUmFuZG9tQnl0ZXMoVVVJRF9TSVpFKTtcbiAgICAgICAgICAgICAgICAvLyBtYXJrIGFzIHJhbmRvbSAtIFJGQyA0MTIyIMKnIDQuNFxuICAgICAgICAgICAgICAgIGRhdGFbNl0gPSBkYXRhWzZdICYgMHg0ZiB8IDB4NDA7XG4gICAgICAgICAgICAgICAgZGF0YVs4XSA9IGRhdGFbOF0gJiAweGJmIHwgMHg4MDtcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gXCJcIjtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBvZmZzZXQgPSAwOyBvZmZzZXQgPCBVVUlEX1NJWkU7ICsrb2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBieXRlID0gZGF0YVtvZmZzZXRdO1xuICAgICAgICAgICAgICAgICAgICBpZiAob2Zmc2V0ID09PSA0IHx8IG9mZnNldCA9PT0gNiB8fCBvZmZzZXQgPT09IDgpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gXCItXCI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChieXRlIDwgMTYpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gXCIwXCI7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBieXRlLnRvU3RyaW5nKDE2KS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHVzZXMgYSBoZXVyaXN0aWMgdXNlZCBieSB2OCBhbmQgY2hha3JhIHRvIGZvcmNlIGFuIG9iamVjdCBpbnRvIGRpY3Rpb25hcnkgbW9kZS5cbiAgICAgICAgZnVuY3Rpb24gTWFrZURpY3Rpb25hcnkob2JqKSB7XG4gICAgICAgICAgICBvYmouX18gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBkZWxldGUgb2JqLl9fO1xuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuICAgIH0pO1xufSkoUmVmbGVjdCB8fCAoUmVmbGVjdCA9IHt9KSk7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IEludGVybmFsU2hhcmVkKCdJbnRlcm5hbFNoYXJlZC9FdmVudHMvR2V0Q29udHJvbCcpOyIsIm1vZHVsZS5leHBvcnRzID0gSW50ZXJuYWxTaGFyZWQoJ0ludGVybmFsU2hhcmVkL0V2ZW50cy9HZXRDb250cm9sT3B0aW9ucycpOyIsIm1vZHVsZS5leHBvcnRzID0gSW50ZXJuYWxTaGFyZWQoJ0ludGVybmFsU2hhcmVkL1BhZ2VCdWlsZGVyL0NvbnRyb2xzL1Byb3BlcnRpZXMvU2ltcGxlVGV4dFByb3BlcnR5Jyk7IiwiZXhwb3J0IGNsYXNzIFNhbml0aXplcntcclxuICAgIHB1YmxpYyBzdGF0aWMgU2FuaXRpemVTdHJpbmdBcnJheSh2YWx1ZSwgY2xlYXJXaGVuTm90QXJyYXk6Ym9vbGVhbj10cnVlKVxyXG4gICAge1xyXG4gICAgICAgIGlmKHZhbHVlPT1udWxsKVxyXG4gICAgICAgICAgICByZXR1cm4gW107XHJcblxyXG4gICAgICAgIGlmKCFBcnJheS5pc0FycmF5KHZhbHVlKSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmKGNsZWFyV2hlbk5vdEFycmF5KVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgICAgICAgICByZXR1cm4gW1Nhbml0aXplci5TYW5pdGl6ZVN0cmluZyh2YWx1ZSldO1xyXG4gICAgICAgIH1lbHNlXHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuXHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgU2FuaXRpemVTdHJpbmcodmFsdWUsZGVmYXVsdFZhbHVlOnN0cmluZz0nJykge1xyXG4gICAgICAgIGlmKHZhbHVlPT1udWxsfHxBcnJheS5pc0FycmF5KHZhbHVlKSlcclxuICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcclxuXHJcbiAgICAgICAgaWYodmFsdWUudG9TdHJpbmc9PW51bGx8fCB0eXBlb2YgdmFsdWUgPT1cIm9iamVjdFwiKVxyXG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xyXG5cclxuICAgICAgICByZXR1cm4gdmFsdWUudG9TdHJpbmcoKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIEdldFZhbHVlRnJvbVBhdGgob2JqOmFueSxwYXRoOnN0cmluZ1tdLGRlZmF1bHRWYWx1ZTphbnk9JycpXHJcbiAgICB7XHJcbiAgICAgICAgaWYob2JqPT1udWxsKVxyXG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xyXG5cclxuICAgICAgICBsZXQgbmV4dFByb3BlcnR5PScnO1xyXG4gICAgICAgIHdoaWxlICgobmV4dFByb3BlcnR5PXBhdGguc2hpZnQoKSkhPW51bGwpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZihvYmpbbmV4dFByb3BlcnR5XT09dW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcclxuXHJcbiAgICAgICAgICAgIG9iaj1vYmpbbmV4dFByb3BlcnR5XTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBvYmo7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIEdldFN0cmluZ1ZhbHVlRnJvbVBhdGgob2JqOmFueSxwYXRoOnN0cmluZ1tdLGRlZmF1bHRWYWx1ZTpzdHJpbmc9JycpXHJcbiAgICB7XHJcbiAgICAgICAgbGV0IHZhbHVlPVNhbml0aXplci5HZXRWYWx1ZUZyb21QYXRoKG9iaixwYXRoLG51bGwpO1xyXG4gICAgICAgIGlmKHZhbHVlPT1udWxsKVxyXG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xyXG5cclxuICAgICAgICByZXR1cm4gU2FuaXRpemVyLlNhbml0aXplU3RyaW5nKHZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgU2FuaXRpemVOdW1iZXIodmFsdWU6IGFueSxkZWZhdWx0VmFsdWU6bnVtYmVyPTApIHtcclxuICAgICAgICBpZih2YWx1ZT09bnVsbHx8QXJyYXkuaXNBcnJheSh2YWx1ZSkpXHJcbiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XHJcblxyXG4gICAgICAgIHZhbHVlPU51bWJlcih2YWx1ZSk7XHJcbiAgICAgICAgaWYoaXNOYU4odmFsdWUpKVxyXG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xyXG5cclxuICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIFNhbml0aXplQm9vbGVhbih2YWx1ZTogYW55LCBkZWZhdWx0VmFsdWU6IGFueT1mYWxzZSkge1xyXG4gICAgICAgIGlmKHZhbHVlPT09bnVsbClcclxuICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcclxuXHJcbiAgICAgICAgaWYodHlwZW9mIHZhbHVlID09J2Jvb2xlYW4nKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYoIWlzTmFOKE51bWJlcih2YWx1ZSkpKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlIT0wO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcclxuICAgIH1cclxufSIsImltcG9ydCB7Q3VycmVuY3lTZXR0aW5nc30gZnJvbSBcIlBhZ2VCdWlsZGVyL3V0aWxzL0N1cnJlbmN5U2V0dGluZ3NcIjtcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgQ3VycmVuY3lVdGlscyB7XHJcbiAgICBwdWJsaWMgc3RhdGljIEdldEluc3RhbmNlKCk6Q3VycmVuY3lVdGlsc3tcclxuICAgICAgICBpZigod2luZG93IGFzIGFueSkuUk5DdXJyZW5jeVV0aWxzPT1udWxsKVxyXG4gICAgICAgICAgICAod2luZG93IGFzIGFueSkuUk5DdXJyZW5jeVV0aWxzPW5ldyBDdXJyZW5jeVV0aWxzKCk7XHJcbiAgICAgICAgcmV0dXJuICh3aW5kb3cgYXMgYW55KS5STkN1cnJlbmN5VXRpbHM7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyBDb25maWc6Q3VycmVuY3lTZXR0aW5ncztcclxuXHJcbiAgICBwdWJsaWMgRm9ybWF0VmFsdWUoYW1vdW50Om51bWJlcilcclxuICAgIHtcclxuICAgICAgICBpZihpc05hTihhbW91bnQpKVxyXG4gICAgICAgICAgICBhbW91bnQ9MDtcclxuICAgICAgICBsZXQgdGV4dD1hbW91bnQudG9GaXhlZCh0aGlzLkNvbmZpZy5OdW1iZXJPZkRlY2ltYWxzKTtcclxuICAgICAgICB2YXIgeCA9IHRleHQuc3BsaXQoJy4nKTtcclxuICAgICAgICB2YXIgeDEgPSB4WzBdO1xyXG4gICAgICAgIHZhciB4MiA9IHgubGVuZ3RoID4gMSA/ICcuJyArIHhbMV0gOiAnJztcclxuICAgICAgICB2YXIgcmd4ID0gLyhcXGQrKShcXGR7M30pLztcclxuICAgICAgICBpZih0aGlzLkNvbmZpZy5UaG91c2FuZFNlcGFyYXRvciE9JycpIHtcclxuICAgICAgICAgICAgd2hpbGUgKHJneC50ZXN0KHgxKSkge1xyXG4gICAgICAgICAgICAgICAgeDEgPSB4MS5yZXBsYWNlKHJneCwgJyQxJyArIHRoaXMuQ29uZmlnLlRob3VzYW5kU2VwYXJhdG9yICsgJyQyJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKHgyLmxlbmd0aD4wKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgeDI9eDIuc2xpY2UoMSk7XHJcbiAgICAgICAgICAgIHgyPXRoaXMuQ29uZmlnLkRlY2ltYWxTZXBhcmF0b3IreDI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRleHQ9IHgxICsgeDI7XHJcbiAgICAgICAgaWYodGhpcy5Db25maWcuUG9zaXRpb249PSdsZWZ0JylcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuQ29uZmlnLlN5bWJvbCt0ZXh0O1xyXG4gICAgICAgIGlmKHRoaXMuQ29uZmlnLlBvc2l0aW9uPT0nbGVmdF9zcGFjZScpXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLkNvbmZpZy5TeW1ib2wrJyAnK3RleHQ7XHJcbiAgICAgICAgaWYodGhpcy5Db25maWcuUG9zaXRpb249PSdyaWdodCcpXHJcbiAgICAgICAgICAgIHJldHVybiB0ZXh0K3RoaXMuQ29uZmlnLlN5bWJvbDtcclxuICAgICAgICBpZih0aGlzLkNvbmZpZy5Qb3NpdGlvbj09J3JpZ2h0X3NwYWNlJylcclxuICAgICAgICAgICAgcmV0dXJuIHRleHQrJyAnK3RoaXMuQ29uZmlnLlN5bWJvbDtcclxuXHJcbiAgICB9XHJcbn0iLCJtb2R1bGUuZXhwb3J0cyA9IG1vYng7IiwibW9kdWxlLmV4cG9ydHMgPSBJbnRlcm5hbFNoYXJlZCgnSW50ZXJuYWxTaGFyZWQvRXZlbnRzL0dldEFkdmFuY2VkRmllbGQnKTsiLCJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IEludGVybmFsU2hhcmVkKCdJbnRlcm5hbFNoYXJlZC9QYWdlQnVpbGRlci9Db250cm9scy9Qcm9wZXJ0aWVzL0NoZWNrQm94UHJvcGVydHknKTsiLCJtb2R1bGUuZXhwb3J0cyA9IEludGVybmFsU2hhcmVkKCdJbnRlcm5hbFNoYXJlZC9QYWdlQnVpbGRlci9GaWVsZHMvRmllbGRJdGVtQmFzZScpOyIsIm1vZHVsZS5leHBvcnRzID0gSW50ZXJuYWxTaGFyZWQoJ0ludGVybmFsU2hhcmVkL0V2ZW50cy9VcGRhdGVTdHlsZVNldHRpbmdzUGFuZWwnKTsiLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXG5wcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIiwiXHJcbmltcG9ydCB7b2JzZXJ2YWJsZX0gZnJvbSBcIm1vYnhcIjtcclxuaW1wb3J0IHtTdG9yZUJhc2UsIFN0b3JlRGF0YVR5cGV9IGZyb20gXCJzaGFyZWQvdXRpbGl0aWVzL1N0b3JlL1N0b3JlQmFzZVwiO1xyXG5pbXBvcnQge1BERkNvbnRyb2xCYXNlT3B0aW9uc30gZnJvbSBcIkludGVybmFsU2hhcmVkL1BhZ2VCdWlsZGVyL0NvbnRyb2xzL0NvcmUvUERGQ29udHJvbEJhc2UuT3B0aW9uc1wiO1xyXG5pbXBvcnQge0NvbnRyb2xUeXBlRW51bX0gZnJvbSBcIlBhZ2VCdWlsZGVyL3BhZ2VidWlsZGVyL0NvbnRyb2xzL05vcm1hbFBERkNvbnRyb2xGYWN0b3J5XCI7XHJcbmltcG9ydCB7V1BGb3JtQ29udHJvbFR5cGVFbnVtfSBmcm9tIFwiLi9XUEZvcm1GYWN0b3J5XCI7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIEludm9pY2VEZXRhaWxDb2x1bW4gZXh0ZW5kcyBTdG9yZUJhc2V7XHJcbiAgICBUeXBlOkludm9pY2VEZXRhaWxDb2x1bW5UeXBlRW51bXxzdHJpbmc7XHJcbiAgICBMYWJlbDpzdHJpbmc7XHJcbiAgICBGb3JtYXQ6SW52b2ljZURldGFpbENvbHVtbkZvcm1hdEVudW07XHJcbiAgICBwcm90ZWN0ZWQgTG9hZERlZmF1bHRWYWx1ZXMoKSB7XHJcbiAgICAgICAgdGhpcy5UeXBlPScnO1xyXG4gICAgICAgIHRoaXMuTGFiZWw9Jyc7XHJcbiAgICAgICAgdGhpcy5Gb3JtYXQ9SW52b2ljZURldGFpbENvbHVtbkZvcm1hdEVudW0uc3RyaW5nO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBJbnZvaWNlRGV0YWlsQ29udHJvbE9wdGlvbnMgZXh0ZW5kcyBQREZDb250cm9sQmFzZU9wdGlvbnN7XHJcbiAgICBAb2JzZXJ2YWJsZVxyXG4gICAgVHlwZTpzdHJpbmc7XHJcbiAgICBAU3RvcmVEYXRhVHlwZShJbnZvaWNlRGV0YWlsQ29sdW1uKVxyXG4gICAgQ29sdW1uczpJbnZvaWNlRGV0YWlsQ29sdW1uW107XHJcbiAgICBTaG93R3JhbmRUb3RhbDpib29sZWFuO1xyXG4gICAgUHJvZHVjdExhYmVsOnN0cmluZztcclxuICAgIFByaWNlTGFiZWw6c3RyaW5nO1xyXG4gICAgR3JhbmRUb3RhbExhYmVsOnN0cmluZztcclxuICAgIFJvd1NlcGFyYXRvcjpSb3dTZXBhcmF0b3JFbnVtfHN0cmluZztcclxuICAgIEV2ZW5Db2xvcjpzdHJpbmc7XHJcbiAgICBFdmVuQmFja2dyb3VuZDpzdHJpbmc7XHJcbiAgICBPZGRDb2xvcjpzdHJpbmc7XHJcbiAgICBPZGRCYWNrZ3JvdW5kOnN0cmluZztcclxuICAgIEJvcmRlckNvbG9yOnN0cmluZztcclxuXHJcbiAgICBwcm90ZWN0ZWQgTG9hZERlZmF1bHRWYWx1ZXMoKSB7XHJcbiAgICAgICAgc3VwZXIuTG9hZERlZmF1bHRWYWx1ZXMoKTtcclxuICAgICAgICB0aGlzLlR5cGU9V1BGb3JtQ29udHJvbFR5cGVFbnVtLkludm9pY2VEZXRhaWwudG9TdHJpbmcoKTtcclxuICAgICAgICB0aGlzLkNvbHVtbnM9W107XHJcbiAgICAgICAgdGhpcy5TaG93R3JhbmRUb3RhbD10cnVlO1xyXG4gICAgICAgIHRoaXMuR3JhbmRUb3RhbExhYmVsPSdUb3RhbCc7XHJcbiAgICAgICAgdGhpcy5Sb3dTZXBhcmF0b3I9Um93U2VwYXJhdG9yRW51bS5TdHJpcHBlZC50b1N0cmluZygpO1xyXG4gICAgICAgIHRoaXMuUHJvZHVjdExhYmVsPSdQcm9kdWN0JztcclxuICAgICAgICB0aGlzLlByaWNlTGFiZWw9XCJQcmljZVwiO1xyXG5cclxuICAgICAgICB0aGlzLk9kZENvbG9yPScjMDAwMDAwJztcclxuICAgICAgICB0aGlzLk9kZEJhY2tncm91bmQ9JyNGRkZGRkYnO1xyXG5cclxuICAgICAgICB0aGlzLkV2ZW5CYWNrZ3JvdW5kPScjZjlmOWY5JztcclxuICAgICAgICB0aGlzLkV2ZW5Db2xvcj0nIzAwMDAwMCc7XHJcbiAgICAgICAgdGhpcy5Cb3JkZXJDb2xvcj0nI2RmZGZkZic7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5leHBvcnQgZW51bSBJbnZvaWNlRGV0YWlsQ29sdW1uVHlwZUVudW17XHJcbiAgICBQcm9kdWN0TmFtZT0nbmFtZScsXHJcbiAgICBQcmljZT0ncHJpY2UnXHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIEludm9pY2VEZXRhaWxDb2x1bW5Gb3JtYXRFbnVte1xyXG4gICAgc3RyaW5nPSdzdHJpbmcnLFxyXG4gICAgbnVtYmVyPSdudW1iZXInXHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIFJvd1NlcGFyYXRvckVudW17XHJcbiAgICBOb25lPSdub25lJyxcclxuICAgIExpbmU9J2xpbmUnLFxyXG4gICAgU3RyaXBwZWQ9J3N0cmlwcGVkJyxcclxuICAgIExhc3RSb3c9J2xhc3QnXHJcbn0iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcclxuaW1wb3J0IHtHcm91cFByb3BlcnRpZXN9IGZyb20gXCJJbnRlcm5hbFNoYXJlZC9QYWdlQnVpbGRlci9Db250cm9scy9Qcm9wZXJ0aWVzL3N0eWxlcy9Hcm91cFByb3BlcnRpZXNcIjtcclxuaW1wb3J0IHtQREZDb250cm9sQmFzZX0gZnJvbSBcIkludGVybmFsU2hhcmVkL1BhZ2VCdWlsZGVyL0NvbnRyb2xzL0NvcmUvUERGQ29udHJvbEJhc2VcIjtcclxuaW1wb3J0IHtEaW1lbnNpb25TdHlsZVNldH0gZnJvbSBcIkludGVybmFsU2hhcmVkL1BhZ2VCdWlsZGVyL0NvbnRyb2xzL1Byb3BlcnRpZXMvU3R5bGVTZXRzL0RpbWVuc2lvblN0eWxlU2V0XCI7XHJcbmltcG9ydCB7QWxsb3dlZFJlc2l6ZURpcmVjdGlvbn0gZnJvbSBcIkludGVybmFsU2hhcmVkL0R0b1wiO1xyXG5pbXBvcnQge0ltYWdlUHJvcGVydHl9IGZyb20gXCJJbnRlcm5hbFNoYXJlZC9QYWdlQnVpbGRlci9Db250cm9scy9Qcm9wZXJ0aWVzL0ltYWdlUHJvcGVydHlcIjtcclxuaW1wb3J0IHtTaW1wbGVUZXh0UHJvcGVydHl9IGZyb20gXCJJbnRlcm5hbFNoYXJlZC9QYWdlQnVpbGRlci9Db250cm9scy9Qcm9wZXJ0aWVzL1NpbXBsZVRleHRQcm9wZXJ0eVwiO1xyXG5pbXBvcnQge1Byb3BlcnR5QmFzZX0gZnJvbSBcIkludGVybmFsU2hhcmVkL1BhZ2VCdWlsZGVyL0NvbnRyb2xzL1Byb3BlcnRpZXMvUHJvcGVydHlCYXNlXCI7XHJcbmltcG9ydCB7Q2hlY2tCb3hQcm9wZXJ0eX0gZnJvbSBcIkludGVybmFsU2hhcmVkL1BhZ2VCdWlsZGVyL0NvbnRyb2xzL1Byb3BlcnRpZXMvQ2hlY2tCb3hQcm9wZXJ0eVwiO1xyXG5pbXBvcnQge1xyXG4gICAgSW52b2ljZURldGFpbENvbHVtbkZvcm1hdEVudW0sXHJcbiAgICBJbnZvaWNlRGV0YWlsQ29sdW1uVHlwZUVudW0sXHJcbiAgICBJbnZvaWNlRGV0YWlsQ29udHJvbE9wdGlvbnMsXHJcbiAgICBSb3dTZXBhcmF0b3JFbnVtXHJcbn0gZnJvbSBcIi4vSW52b2ljZURldGFpbENvbnRyb2wuT3B0aW9uc1wiO1xyXG5pbXBvcnQge0hUTUxUYWJsZUNyZWF0b3J9IGZyb20gXCJzaGFyZWQvdXRpbGl0aWVzL0hUTUxUYWJsZUNyZWF0b3IvSFRNTFRhYmxlQ3JlYXRvclwiO1xyXG5pbXBvcnQge0N1cnJlbmN5VXRpbHN9IGZyb20gXCJQYWdlQnVpbGRlci91dGlscy9DdXJyZW5jeVV0aWxzXCI7XHJcbmltcG9ydCB7RXZlbnRNYW5hZ2VyfSBmcm9tIFwic2hhcmVkL3V0aWxpdGllcy9FdmVudHMvRXZlbnRNYW5hZ2VyXCI7XHJcbmltcG9ydCB7VXBkYXRlRmllbGRTZXR0aW5nc1BhbmVsfSBmcm9tIFwiSW50ZXJuYWxTaGFyZWQvRXZlbnRzL1VwZGF0ZUZpZWxkU2V0dGluZ3NQYW5lbFwiO1xyXG5pbXBvcnQge0Ryb3BEb3duUHJvcGVydHl9IGZyb20gXCJJbnRlcm5hbFNoYXJlZC9QYWdlQnVpbGRlci9Db250cm9scy9Qcm9wZXJ0aWVzL0Ryb3BEb3duUHJvcGVydHlcIjtcclxuaW1wb3J0IHtDb2xvclByb3BlcnR5fSBmcm9tIFwiSW50ZXJuYWxTaGFyZWQvUGFnZUJ1aWxkZXIvQ29udHJvbHMvUHJvcGVydGllcy9Db2xvclByb3BlcnR5XCI7XHJcbmltcG9ydCB7VXBkYXRlU3R5bGVTZXR0aW5nc1BhbmVsfSBmcm9tIFwiSW50ZXJuYWxTaGFyZWQvRXZlbnRzL1VwZGF0ZVN0eWxlU2V0dGluZ3NQYW5lbFwiO1xyXG5cclxuXHJcbmRlY2xhcmUgbGV0IHJlZG5hb1BERkludm9pY2VQYXJhbXM6YW55O1xyXG5leHBvcnQgY2xhc3MgSW52b2ljZURldGFpbENvbnRyb2wgZXh0ZW5kcyBQREZDb250cm9sQmFzZXtcclxuXHJcblxyXG4gICAgcHVibGljIEFsbG93ZWRSZXNpemVEaXJlY3Rpb246IEFsbG93ZWRSZXNpemVEaXJlY3Rpb24gPSBcImhvcml6b250YWxcIjtcclxuICAgIEdldFN0eWxlcygpOiBHcm91cFByb3BlcnRpZXNbXSB7XHJcbiAgICAgICAgbGV0IHByb3BlcnRpZXM9W107XHJcbiAgICAgICAgcHJvcGVydGllcy5wdXNoKERpbWVuc2lvblN0eWxlU2V0LkdldFN0eWxlcyh0aGlzKSk7XHJcbiAgICAgICAgcHJvcGVydGllcy5wdXNoKG5ldyBHcm91cFByb3BlcnRpZXMoJ0hlYWRlciBTdHlsZXMnKS5BZGRQcm9wZXJ0aWVzKFtcclxuICAgICAgICAgICAgbmV3IENvbG9yUHJvcGVydHkodGhpcywnYmFja2dyb3VuZC1jb2xvcicsdGhpcy5TdHlsZU1hbmFnZXIuQ3JlYXRlU3R5bGVDbGFzc01hbmFnZXIoJy5wcm9kdWN0RGV0YWlsIHRoJykpLlNldExhYmVsKCdCYWNrZ3JvdW5kIENvbG9yJylcclxuICAgICAgICAgICAgICAgIC5BZGRTdHlsZXMoe3dpZHRoOic1MCUnLGRpc3BsYXk6J2lubGluZS1ibG9jayd9KSxcclxuICAgICAgICAgICAgbmV3IENvbG9yUHJvcGVydHkodGhpcywnY29sb3InLHRoaXMuU3R5bGVNYW5hZ2VyLkNyZWF0ZVN0eWxlQ2xhc3NNYW5hZ2VyKCcucHJvZHVjdERldGFpbCB0aCcpKS5TZXRMYWJlbCgnQ29sb3InKVxyXG4gICAgICAgICAgICAgICAgLkFkZFN0eWxlcyh7d2lkdGg6JzUwJScsZGlzcGxheTonaW5saW5lLWJsb2NrJ30pXHJcbiAgICAgICAgXSkpO1xyXG5cclxuXHJcbiAgICAgICAgc3dpdGNoICh0aGlzLk9wdGlvbnMuUm93U2VwYXJhdG9yKSB7XHJcbiAgICAgICAgICAgIGNhc2UgUm93U2VwYXJhdG9yRW51bS5TdHJpcHBlZDpcclxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXMucHVzaChcclxuICAgICAgICAgICAgICAgICAgICBuZXcgR3JvdXBQcm9wZXJ0aWVzKCdTZXBhcmF0b3IgU3R5bGVzJykuQWRkUHJvcGVydGllcyhbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBDb2xvclByb3BlcnR5KHRoaXMsJ09kZEJhY2tncm91bmQnKS5TZXRMYWJlbCgnT2RkIEJhY2tncm91bmQnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLkFkZFN0eWxlcyh7d2lkdGg6JzUwJScsZGlzcGxheTonaW5saW5lLWJsb2NrJ30pLk9uQ2hhbmdlKGU9PnRoaXMuU2V0SW5pdGlhbFN0eWxlcygpKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IENvbG9yUHJvcGVydHkodGhpcywnT2RkQ29sb3InLHRoaXMuT3B0aW9ucykuU2V0TGFiZWwoJ09kZCBDb2xvcicpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuQWRkU3R5bGVzKHt3aWR0aDonNTAlJyxkaXNwbGF5OidpbmxpbmUtYmxvY2snfSkuT25DaGFuZ2UoZT0+dGhpcy5TZXRJbml0aWFsU3R5bGVzKCkpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgQ29sb3JQcm9wZXJ0eSh0aGlzLCdFdmVuQmFja2dyb3VuZCcpLlNldExhYmVsKCdFdmVuIEJhY2tncm91bmQnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLkFkZFN0eWxlcyh7d2lkdGg6JzUwJScsZGlzcGxheTonaW5saW5lLWJsb2NrJ30pLk9uQ2hhbmdlKGU9PnRoaXMuU2V0SW5pdGlhbFN0eWxlcygpKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IENvbG9yUHJvcGVydHkodGhpcywnRXZlbkNvbG9yJyx0aGlzLk9wdGlvbnMpLlNldExhYmVsKCdFdmVuIENvbG9yJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5BZGRTdHlsZXMoe3dpZHRoOic1MCUnLGRpc3BsYXk6J2lubGluZS1ibG9jayd9KS5PbkNoYW5nZShlPT50aGlzLlNldEluaXRpYWxTdHlsZXMoKSlcclxuICAgICAgICAgICAgICAgICAgICBdKVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBSb3dTZXBhcmF0b3JFbnVtLkxpbmU6XHJcbiAgICAgICAgICAgIGNhc2UgUm93U2VwYXJhdG9yRW51bS5MYXN0Um93OlxyXG4gICAgICAgICAgICAgICAgcHJvcGVydGllcy5wdXNoKFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBHcm91cFByb3BlcnRpZXMoJ1NlcGFyYXRvciBTdHlsZXMnKS5BZGRQcm9wZXJ0aWVzKFtcclxuICAgICAgICAgICAgICAgICAgICBuZXcgQ29sb3JQcm9wZXJ0eSh0aGlzLCdCb3JkZXJDb2xvcicpLlNldExhYmVsKCdCb3JkZXIgQ29sb3InKVxyXG4gICAgICAgICAgICAgICAgICAgICAgIC5PbkNoYW5nZShlPT50aGlzLlNldEluaXRpYWxTdHlsZXMoKSksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IENvbG9yUHJvcGVydHkodGhpcywnYmFja2dyb3VuZC1jb2xvcicsdGhpcy5TdHlsZU1hbmFnZXIuQ3JlYXRlU3R5bGVDbGFzc01hbmFnZXIoJy5wcm9kdWN0RGV0YWlsIHRib2R5JykpLlNldExhYmVsKCdCYWNrZ3JvdW5kIENvbG9yJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLkFkZFN0eWxlcyh7d2lkdGg6JzUwJScsZGlzcGxheTonaW5saW5lLWJsb2NrJ30pLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBDb2xvclByb3BlcnR5KHRoaXMsJ2NvbG9yJyx0aGlzLlN0eWxlTWFuYWdlci5DcmVhdGVTdHlsZUNsYXNzTWFuYWdlcignLnByb2R1Y3REZXRhaWwgdGJvZHknKSkuU2V0TGFiZWwoJ0NvbG9yJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLkFkZFN0eWxlcyh7d2lkdGg6JzUwJScsZGlzcGxheTonaW5saW5lLWJsb2NrJ30pXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIF0pKTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFJvd1NlcGFyYXRvckVudW0uTm9uZTpcclxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXMucHVzaChcclxuICAgICAgICAgICAgICAgICAgICBuZXcgR3JvdXBQcm9wZXJ0aWVzKCdTZXBhcmF0b3IgU3R5bGVzJykuQWRkUHJvcGVydGllcyhbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBDb2xvclByb3BlcnR5KHRoaXMsJ2JhY2tncm91bmQtY29sb3InLHRoaXMuU3R5bGVNYW5hZ2VyLkNyZWF0ZVN0eWxlQ2xhc3NNYW5hZ2VyKCcucHJvZHVjdERldGFpbCB0Ym9keScpKS5TZXRMYWJlbCgnQmFja2dyb3VuZCBDb2xvcicpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuQWRkU3R5bGVzKHt3aWR0aDonNTAlJyxkaXNwbGF5OidpbmxpbmUtYmxvY2snfSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBDb2xvclByb3BlcnR5KHRoaXMsJ2NvbG9yJyx0aGlzLlN0eWxlTWFuYWdlci5DcmVhdGVTdHlsZUNsYXNzTWFuYWdlcignLnByb2R1Y3REZXRhaWwgdGJvZHknKSkuU2V0TGFiZWwoJ0NvbG9yJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5BZGRTdHlsZXMoe3dpZHRoOic1MCUnLGRpc3BsYXk6J2lubGluZS1ibG9jayd9KVxyXG4gICAgICAgICAgICAgICAgICAgIF0pKTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgcHJvcGVydGllcy5wdXNoKG5ldyBHcm91cFByb3BlcnRpZXMoJ1RvdGFsIFN0eWxlcycpLkFkZFByb3BlcnRpZXMoW1xyXG4gICAgICAgICAgICBuZXcgQ29sb3JQcm9wZXJ0eSh0aGlzLCdiYWNrZ3JvdW5kLWNvbG9yJyx0aGlzLlN0eWxlTWFuYWdlci5DcmVhdGVTdHlsZUNsYXNzTWFuYWdlcignLmZvb3RlckRldGFpbCAudG90YWwnKSkuU2V0TGFiZWwoJ0JhY2tncm91bmQgQ29sb3InKVxyXG4gICAgICAgICAgICAgICAgLkFkZFN0eWxlcyh7d2lkdGg6JzUwJScsZGlzcGxheTonaW5saW5lLWJsb2NrJ30pLFxyXG4gICAgICAgICAgICBuZXcgQ29sb3JQcm9wZXJ0eSh0aGlzLCdjb2xvcicsdGhpcy5TdHlsZU1hbmFnZXIuQ3JlYXRlU3R5bGVDbGFzc01hbmFnZXIoJy5mb290ZXJEZXRhaWwgLnRvdGFsJykpLlNldExhYmVsKCdDb2xvcicpXHJcbiAgICAgICAgICAgICAgICAuQWRkU3R5bGVzKHt3aWR0aDonNTAlJyxkaXNwbGF5OidpbmxpbmUtYmxvY2snfSlcclxuICAgICAgICBdKSk7XHJcblxyXG4gICAgICAgIHJldHVybiBwcm9wZXJ0aWVzO1xyXG4gICAgfVxyXG4gICAgcHVibGljIE9wdGlvbnM6SW52b2ljZURldGFpbENvbnRyb2xPcHRpb25zO1xyXG4gICAgcHJpdmF0ZSBwcm9wZXJ0aWVzOkdyb3VwUHJvcGVydGllc1tdO1xyXG5cclxuXHJcblxyXG4gICAgU2V0SW5pdGlhbFN0eWxlcygpIHtcclxuICAgICAgICBzdXBlci5TZXRJbml0aWFsU3R5bGVzKCk7XHJcbiAgICAgICAgdGhpcy5TdHlsZU1hbmFnZXIuQ2xlYXJGaWVsZFN0eWxlcygpO1xyXG4gICAgICAgIHRoaXMuU3R5bGVNYW5hZ2VyLkFkZFN0eWxlU2V0KCcucHJvZHVjdERldGFpbCwgLmZvb3RlckRldGFpbCcseydib3JkZXItY29sbGFwc2UnOidjb2xsYXBzZSd9KTtcclxuICAgICAgICB0aGlzLlN0eWxlTWFuYWdlci5BZGRTdHlsZVNldCgnLnByb2R1Y3REZXRhaWwsIC5mb290ZXJEZXRhaWwnLHsnYm9yZGVyLXNwYWNpbmcnOicwJ30pO1xyXG4gICAgICAgIHRoaXMuU3R5bGVNYW5hZ2VyLkFkZFN0eWxlU2V0KCcucHJvZHVjdERldGFpbCcseyd3aWR0aCc6JzEwMCUnfSk7XHJcbiAgICAgICAgdGhpcy5TdHlsZU1hbmFnZXIuQWRkU3R5bGVTZXQoJy5wcm9kdWN0RGV0YWlsIC5wcmljZScseyd0ZXh0LWFsaWduJzoncmlnaHQnfSk7XHJcbiAgICAgICAgdGhpcy5TdHlsZU1hbmFnZXIuQWRkU3R5bGVTZXQoJy5wcm9kdWN0RGV0YWlsIC5uYW1lJyx7J3RleHQtYWxpZ24nOidsZWZ0J30pO1xyXG4gICAgICAgIHRoaXMuU3R5bGVNYW5hZ2VyLkFkZFN0eWxlU2V0KCcuZm9vdGVyRGV0YWlsJyx7J3dpZHRoJzonMzAwcHgnLCdtYXJnaW4tbGVmdCc6J2F1dG8nfSk7XHJcbiAgICAgICAgdGhpcy5TdHlsZU1hbmFnZXIuQWRkU3R5bGVTZXQoJy5mb290ZXJEZXRhaWwgdGgnLHsndGV4dC1hbGlnbic6J2xlZnQnfSk7XHJcbiAgICAgICAgdGhpcy5TdHlsZU1hbmFnZXIuQWRkU3R5bGVTZXQoJy5mb290ZXJEZXRhaWwgdGQnLHsndGV4dC1hbGlnbic6J3JpZ2h0J30pO1xyXG4gICAgICAgIHRoaXMuU3R5bGVNYW5hZ2VyLkFkZFN0eWxlU2V0KCcucHJvZHVjdFRhYmxlIHRkJyx7J3BhZGRpbmcnOic1cHgnfSk7XHJcbiAgICAgICAgdGhpcy5TdHlsZU1hbmFnZXIuQWRkU3R5bGVTZXQoJy5wcm9kdWN0VGFibGUgdGQsIC5wcm9kdWN0VGFibGUgdGgnLHsncGFkZGluZyc6JzlweCA1cHgnfSk7XHJcblxyXG4gICAgICAgIHRoaXMuU3R5bGVNYW5hZ2VyLkFkZFN0eWxlU2V0KCcucHJvZHVjdERldGFpbCB0aCcseydiYWNrZ3JvdW5kLWNvbG9yJzpcIiMzMzZlZDBcIn0pO1xyXG4gICAgICAgIHRoaXMuU3R5bGVNYW5hZ2VyLkFkZFN0eWxlU2V0KCcucHJvZHVjdERldGFpbCB0aCcseydjb2xvcic6XCJ3aGl0ZVwifSk7XHJcbiAgICAgICAgdGhpcy5TdHlsZU1hbmFnZXIuQWRkU3R5bGVTZXQoJy5mb290ZXJEZXRhaWwgLnRvdGFsJyx7J2JhY2tncm91bmQtY29sb3InOlwiIzMzNmVkMFwifSk7XHJcbiAgICAgICAgdGhpcy5TdHlsZU1hbmFnZXIuQWRkU3R5bGVTZXQoJy5mb290ZXJEZXRhaWwgLnRvdGFsJyx7J2NvbG9yJzpcIndoaXRlXCJ9KTtcclxuXHJcbiAgICAgICAgaWYodGhpcy5PcHRpb25zLlJvd1NlcGFyYXRvcj09Um93U2VwYXJhdG9yRW51bS5MaW5lLnRvU3RyaW5nKCkpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLlN0eWxlTWFuYWdlci5BZGRTdHlsZVNldCgnLnByb2R1Y3REZXRhaWwgdGQnLHsnYm9yZGVyLWJvdHRvbSc6JzFweCBzb2xpZCAjZGZkZmRmJ30pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYodGhpcy5PcHRpb25zLlJvd1NlcGFyYXRvcj09Um93U2VwYXJhdG9yRW51bS5TdHJpcHBlZClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuU3R5bGVNYW5hZ2VyLkFkZFN0eWxlU2V0KCcucHJvZHVjdERldGFpbCA+IHRib2R5IHRyOm50aC1vZi10eXBlKG9kZCknLHtcclxuICAgICAgICAgICAgICAgICdiYWNrZ3JvdW5kLWNvbG9yJzogdGhpcy5PcHRpb25zLk9kZEJhY2tncm91bmQsXHJcbiAgICAgICAgICAgICAgICAnY29sb3InOnRoaXMuT3B0aW9ucy5PZGRDb2xvclxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuU3R5bGVNYW5hZ2VyLkFkZFN0eWxlU2V0KCcucHJvZHVjdERldGFpbCB0cjpudGgtb2YtdHlwZShldmVuKScse1xyXG4gICAgICAgICAgICAgICAgJ2JhY2tncm91bmQtY29sb3InOiB0aGlzLk9wdGlvbnMuRXZlbkJhY2tncm91bmQsXHJcbiAgICAgICAgICAgICAgICAnY29sb3InOnRoaXMuT3B0aW9ucy5FdmVuQ29sb3JcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZih0aGlzLk9wdGlvbnMuUm93U2VwYXJhdG9yPT1Sb3dTZXBhcmF0b3JFbnVtLkxpbmUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLlN0eWxlTWFuYWdlci5BZGRTdHlsZVNldCgnLnByb2R1Y3REZXRhaWwgdGQnLHsnYm9yZGVyLWJvdHRvbSc6JzFweCBzb2xpZCAnK3RoaXMuT3B0aW9ucy5Cb3JkZXJDb2xvcn0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYodGhpcy5PcHRpb25zLlJvd1NlcGFyYXRvcj09Um93U2VwYXJhdG9yRW51bS5MYXN0Um93KVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5TdHlsZU1hbmFnZXIuQWRkU3R5bGVTZXQoJy5wcm9kdWN0RGV0YWlsIHRyOmxhc3QtY2hpbGQgdGQnLHsnYm9yZGVyLWJvdHRvbSc6JzFweCBzb2xpZCAnK3RoaXMuT3B0aW9ucy5Cb3JkZXJDb2xvcn0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIE5lZWRUcmFuc2xhdGlvbnMoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIEdldFRyYW5zbGF0ZWRUZXh0KCk6IGFueSB7XHJcbiAgICAgICAgcmV0dXJuIHt0ZXh0OicnfTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgR2V0RmFrZURhdGEoKXtcclxuICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICB7bmFtZTonTXkgYXdlc29tZSBwcm9kdWN0IDEnLHByaWNlOjEwfSxcclxuICAgICAgICAgICAge25hbWU6J015IGF3ZXNvbWUgcHJvZHVjdCAyJyxwcmljZToyMH0sXHJcbiAgICAgICAgICAgIHtuYW1lOidNeSBhd2Vzb21lIHByb2R1Y3QgMycscHJpY2U6MzB9XHJcbiAgICAgICAgXVxyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBJbnRlcm5hbEdlbmVyYXRlSHRtbCgkY29udGFpbmVyOiBKUXVlcnkpIHtcclxuXHJcbiAgICAgICAgbGV0IGNyZWF0b3I9bmV3IEhUTUxUYWJsZUNyZWF0b3IoJ3Byb2R1Y3REZXRhaWwgcHJvZHVjdFRhYmxlJyk7XHJcbiAgICAgICAgJGNvbnRhaW5lci5hcHBlbmQoY3JlYXRvci5UYWJsZSk7XHJcbiAgICAgICAgY3JlYXRvci5DcmVhdGVUSGVhZCgpO1xyXG4gICAgICAgIGNyZWF0b3IuQ3JlYXRlUm93KCk7XHJcbiAgICAgICAgZm9yKGxldCBjb2x1bW4gb2YgdGhpcy5PcHRpb25zLkNvbHVtbnMpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjcmVhdG9yLkNyZWF0ZVRleHRDb2x1bW4oY29sdW1uLkxhYmVsLGNvbHVtbi5UeXBlLCd0aCcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY3JlYXRvci5DcmVhdGVUQm9keSgpO1xyXG4gICAgICAgIGZvcihsZXQgcm93IG9mIHRoaXMuR2V0RmFrZURhdGEoKSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNyZWF0b3IuQ3JlYXRlUm93KCk7XHJcbiAgICAgICAgICAgIGZvcihsZXQgY29sdW1uIG9mIHRoaXMuT3B0aW9ucy5Db2x1bW5zKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdmFsdWU9cm93W2NvbHVtbi5UeXBlXTtcclxuICAgICAgICAgICAgICAgIGlmKHZhbHVlPT1udWxsKVxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPTA7XHJcbiAgICAgICAgICAgICAgICBpZihjb2x1bW4uRm9ybWF0PT1JbnZvaWNlRGV0YWlsQ29sdW1uRm9ybWF0RW51bS5udW1iZXIpXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9Q3VycmVuY3lVdGlscy5HZXRJbnN0YW5jZSgpLkZvcm1hdFZhbHVlKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIGNyZWF0b3IuQ3JlYXRlVGV4dENvbHVtbih2YWx1ZSxjb2x1bW4uVHlwZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKHRoaXMuT3B0aW9ucy5TaG93R3JhbmRUb3RhbClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxldCBmb290Q3JlYXRvcj1uZXcgSFRNTFRhYmxlQ3JlYXRvcignZm9vdGVyRGV0YWlsIHByb2R1Y3RUYWJsZScpO1xyXG4gICAgICAgICAgICAkY29udGFpbmVyLmFwcGVuZChmb290Q3JlYXRvci5UYWJsZSk7XHJcbiAgICAgICAgICAgIGZvb3RDcmVhdG9yLkNyZWF0ZVRCb2R5KCk7XHJcbiAgICAgICAgICAgIGZvb3RDcmVhdG9yLkNyZWF0ZVJvdygpO1xyXG4gICAgICAgICAgICBmb290Q3JlYXRvci5DcmVhdGVUZXh0Q29sdW1uKHRoaXMuT3B0aW9ucy5HcmFuZFRvdGFsTGFiZWwsJ3RvdGFsJywndGgnKTtcclxuICAgICAgICAgICAgZm9vdENyZWF0b3IuQ3JlYXRlVGV4dENvbHVtbihDdXJyZW5jeVV0aWxzLkdldEluc3RhbmNlKCkuRm9ybWF0VmFsdWUoNjApLCd0b3RhbCcpO1xyXG5cclxuICAgICAgICB9XHJcblxyXG5cclxuXHJcblxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBHZXRQcm9wZXJ0aWVzKCk6IEdyb3VwUHJvcGVydGllc1tdIHtcclxuICAgICAgICBsZXQgcHJvcGVydGllcz1bXTtcclxuXHJcbiAgICAgICAgcHJvcGVydGllcy5wdXNoKG5ldyBEcm9wRG93blByb3BlcnR5KHRoaXMsJ1Jvd1NlcGFyYXRvcicpXHJcbiAgICAgICAgICAgIC5BZGRPcHRpb24oJ05vbmUnLCdub25lJylcclxuICAgICAgICAgICAgLkFkZE9wdGlvbignTGluZScsJ2xpbmUnKVxyXG4gICAgICAgICAgICAuQWRkT3B0aW9uKCdTdHJpcHBlZCcsJ3N0cmlwcGVkJylcclxuICAgICAgICAgICAgLkFkZE9wdGlvbignTGFzdCcsJ2xhc3QnKVxyXG4gICAgICAgICAgICAuT25DaGFuZ2UoZT0+e1xyXG4gICAgICAgICAgICAgICAgRXZlbnRNYW5hZ2VyLlB1Ymxpc2gobmV3IFVwZGF0ZUZpZWxkU2V0dGluZ3NQYW5lbCgpKTtcclxuICAgICAgICAgICAgICAgIEV2ZW50TWFuYWdlci5QdWJsaXNoKG5ldyBVcGRhdGVTdHlsZVNldHRpbmdzUGFuZWwoKSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLlNldEluaXRpYWxTdHlsZXMoKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG5cclxuXHJcbiAgICAgICAgcHJvcGVydGllcy5wdXNoKG5ldyBTaW1wbGVUZXh0UHJvcGVydHkodGhpcyxcIkxhYmVsXCIsdGhpcy5PcHRpb25zLkNvbHVtbnMuZmluZCh4PT54LlR5cGU9PUludm9pY2VEZXRhaWxDb2x1bW5UeXBlRW51bS5Qcm9kdWN0TmFtZSkpLlNldExhYmVsKCdQcm9kdWN0IExhYmVsJykpO1xyXG4gICAgICAgIHByb3BlcnRpZXMucHVzaChuZXcgU2ltcGxlVGV4dFByb3BlcnR5KHRoaXMsXCJMYWJlbFwiLHRoaXMuT3B0aW9ucy5Db2x1bW5zLmZpbmQoeD0+eC5UeXBlPT1JbnZvaWNlRGV0YWlsQ29sdW1uVHlwZUVudW0uUHJpY2UpKS5TZXRMYWJlbCgnUHJpY2UgTGFiZWwnKSk7XHJcblxyXG4gICAgICAgIHByb3BlcnRpZXMucHVzaChuZXcgQ2hlY2tCb3hQcm9wZXJ0eSh0aGlzLFwiU2hvd0dyYW5kVG90YWxcIikuU2V0TGFiZWwoJ1Nob3cgR3JhbmQgVG90YWwnKS5PbkNoYW5nZShlPT57XHJcbiAgICAgICAgICAgIEV2ZW50TWFuYWdlci5QdWJsaXNoKG5ldyBVcGRhdGVGaWVsZFNldHRpbmdzUGFuZWwoKSk7XHJcbiAgICAgICAgfSkpO1xyXG4gICAgICAgIGlmKHRoaXMuT3B0aW9ucy5TaG93R3JhbmRUb3RhbClcclxuICAgICAgICAgICAgcHJvcGVydGllcy5wdXNoKG5ldyBTaW1wbGVUZXh0UHJvcGVydHkodGhpcyxcIkdyYW5kVG90YWxMYWJlbFwiKS5TZXRMYWJlbCgnR3JhbmQgdG90YWwgbGFiZWwnKSk7XHJcbiAgICAgICAgcmV0dXJuIFtuZXcgR3JvdXBQcm9wZXJ0aWVzKCdHZW5lcmFsIChGaWVsZCBJZDonK3RoaXMuT3B0aW9ucy5JZCsnKScpLkFkZFByb3BlcnRpZXMocHJvcGVydGllcyldO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgQWZ0ZXJSZWZyZXNoKCkge1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBHZXRJbml0aWFsT3B0aW9ucygpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcclxuICAgICAgICAgICAgcmVzb2x2ZShuZXcgSW52b2ljZURldGFpbENvbnRyb2xPcHRpb25zKCkuTWVyZ2UoXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgU3R5bGVzOntMZWZ0OicyJScsV2lkdGg6Jzk2JSd9LFxyXG4gICAgICAgICAgICAgICAgICAgIENvbHVtbnM6W1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB7TGFiZWw6J1Byb2R1Y3QnLFR5cGU6SW52b2ljZURldGFpbENvbHVtblR5cGVFbnVtLlByb2R1Y3ROYW1lLEZvcm1hdDpJbnZvaWNlRGV0YWlsQ29sdW1uRm9ybWF0RW51bS5zdHJpbmd9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7TGFiZWw6J1ByaWNlJyxUeXBlOkludm9pY2VEZXRhaWxDb2x1bW5UeXBlRW51bS5QcmljZSxGb3JtYXQ6SW52b2ljZURldGFpbENvbHVtbkZvcm1hdEVudW0ubnVtYmVyfSxcclxuICAgICAgICAgICAgICAgICAgICBdXHJcblxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIEdlbmVyYXRlVGFibGUoY29udGFpbmVyOkhUTUxFbGVtZW50KSB7XHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgSW50ZXJuYWxHZXRMYWJlbCgpIHtcclxuICAgICAgICByZXR1cm4gJ0ltYWdlJztcclxuICAgIH1cclxuXHJcbiAgICBHZXRWYWx1ZUVkaXRvcigpOiBQcm9wZXJ0eUJhc2Uge1xyXG4gICAgICAgIHJldHVybiBuZXcgSW1hZ2VQcm9wZXJ0eSh0aGlzLCdVUkwnKS5TZXRMYWJlbCgnJykuU2V0V2lkdGgoMTAwKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQge1BERkNvbnRyb2xCYXNlfSBmcm9tIFwiSW50ZXJuYWxTaGFyZWQvUGFnZUJ1aWxkZXIvQ29udHJvbHMvQ29yZS9QREZDb250cm9sQmFzZVwiO1xyXG5pbXBvcnQge0ZpZ3VyZUNvbnRyb2x9IGZyb20gXCIuLi8uLi8uLi9QYWdlQnVpbGRlclByL0NvbnRyb2xzL0ZpZ3VyZUNvbnRyb2xcIjtcclxuaW1wb3J0IHtJY29uQ29udHJvbH0gZnJvbSBcIi4uLy4uLy4uL1BhZ2VCdWlsZGVyUHIvQ29udHJvbHMvSWNvbkNvbnRyb2xcIjtcclxuaW1wb3J0IHtRUkNvbnRyb2x9IGZyb20gXCIuLi8uLi8uLi9QYWdlQnVpbGRlclByL0NvbnRyb2xzL1FSQ29udHJvbFwiO1xyXG5pbXBvcnQge0h0bWxDb250cm9sfSBmcm9tIFwiLi4vLi4vLi4vUGFnZUJ1aWxkZXJQci9Db250cm9scy9IdG1sQ29udHJvbFwiO1xyXG5pbXBvcnQge0ltYWdlQ29udHJvbH0gZnJvbSBcIi4uLy4uLy4uL1BhZ2VCdWlsZGVyUHIvQ29udHJvbHMvSW1hZ2VDb250cm9sXCI7XHJcbmltcG9ydCB7RmlndXJlQ29udHJvbE9wdGlvbnN9IGZyb20gXCIuLi8uLi8uLi9QYWdlQnVpbGRlclByL0NvbnRyb2xzL0ZpZ3VyZUNvbnRyb2wuT3B0aW9uc1wiO1xyXG5pbXBvcnQge0ljb25Db250cm9sT3B0aW9uc30gZnJvbSBcIi4uLy4uLy4uL1BhZ2VCdWlsZGVyUHIvQ29udHJvbHMvSWNvbkNvbnRyb2wuT3B0aW9uc1wiO1xyXG5pbXBvcnQge1FSQ29udHJvbE9wdGlvbnN9IGZyb20gXCIuLi8uLi8uLi9QYWdlQnVpbGRlclByL0NvbnRyb2xzL1FSQ29udHJvbC5PcHRpb25zXCI7XHJcbmltcG9ydCB7SHRtbENvbnRyb2xPcHRpb25zfSBmcm9tIFwiLi4vLi4vLi4vUGFnZUJ1aWxkZXJQci9Db250cm9scy9IdG1sQ29udHJvbC5PcHRpb25zXCI7XHJcbmltcG9ydCB7SW1hZ2VDb250cm9sT3B0aW9uc30gZnJvbSBcIi4uLy4uLy4uL1BhZ2VCdWlsZGVyUHIvQ29udHJvbHMvSW1hZ2VDb250cm9sLk9wdGlvbnNcIjtcclxuaW1wb3J0IHtQUkNvbnRyb2xUeXBlc30gZnJvbSBcIi4uLy4uLy4uL1BhZ2VCdWlsZGVyUHIvUFJDb250cm9sRmFjdG9yeVwiO1xyXG5pbXBvcnQge0ludm9pY2VEZXRhaWxDb250cm9sfSBmcm9tIFwiLi9JbnZvaWNlRGV0YWlsQ29udHJvbFwiO1xyXG5pbXBvcnQge0ludm9pY2VEZXRhaWxDb250cm9sT3B0aW9uc30gZnJvbSBcIi4vSW52b2ljZURldGFpbENvbnRyb2wuT3B0aW9uc1wiO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBXUEZvcm1Db250cm9sRmFjdG9yeSB7XHJcbiAgICBzdGF0aWMgR2V0Q29udHJvbChjb250cm9sVHlwZTpzdHJpbmcpOlBERkNvbnRyb2xCYXNlXHJcbiAgICB7XHJcbiAgICAgICAgc3dpdGNoIChjb250cm9sVHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIFdQRm9ybUNvbnRyb2xUeXBlRW51bS5JbnZvaWNlRGV0YWlsOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnZvaWNlRGV0YWlsQ29udHJvbCgpO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBXUEZvcm1Db250cm9sT3B0aW9uc0ZhY3Rvcnl7XHJcbiAgICBzdGF0aWMgR2V0Q29udHJvbE9wdGlvbnModHlwZTpzdHJpbmcpXHJcbiAgICB7XHJcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgV1BGb3JtQ29udHJvbFR5cGVFbnVtLkludm9pY2VEZXRhaWw6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEludm9pY2VEZXRhaWxDb250cm9sT3B0aW9ucygpO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbn1cclxuXHJcblxyXG5cclxuZXhwb3J0IGVudW0gV1BGb3JtQ29udHJvbFR5cGVFbnVte1xyXG4gICAgSW52b2ljZURldGFpbD0nSW52b2ljZURldGFpbCdcclxufVxyXG5cclxuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XHJcblxyXG5pbXBvcnQge0NvbnRyb2xUeXBlRW51bX0gZnJvbSBcIlBhZ2VCdWlsZGVyL3BhZ2VidWlsZGVyL0NvbnRyb2xzL05vcm1hbFBERkNvbnRyb2xGYWN0b3J5XCI7XHJcbmltcG9ydCB7RmllbGRJdGVtQmFzZSwgRmllbGRJdGVtQmFzZVByb3BzLCBGaWVsZEl0ZW1CYXNlU3RhdGV9IGZyb20gXCJJbnRlcm5hbFNoYXJlZC9QYWdlQnVpbGRlci9GaWVsZHMvRmllbGRJdGVtQmFzZVwiO1xyXG5pbXBvcnQge1dQRm9ybUNvbnRyb2xUeXBlRW51bX0gZnJvbSBcIi4uL0NvbnRyb2xzL1dQRm9ybUZhY3RvcnlcIjtcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgSW52b2ljZURldGFpbEZpZWxkIGV4dGVuZHMgRmllbGRJdGVtQmFzZTxUZXh0RmllbGRJdGVtUHJvcHMsIFRleHRGaWVsZEl0ZW1TdGF0ZT4ge1xyXG4gICAgc3RhdGljIGRlZmF1bHRQcm9wczogUGFydGlhbDxUZXh0RmllbGRJdGVtUHJvcHM+ID0ge307XHJcbiAgICBJc1BSOmJvb2xlYW49dHJ1ZTtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wczogVGV4dEZpZWxkSXRlbVByb3BzKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpO1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XHJcblxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIEdldEltYWdlKCkge1xyXG4gICAgICAgIHJldHVybiAnV1BGb3JtL2ludm9pY2UucG5nJ1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBHZXRUZXh0KCkge1xyXG4gICAgICAgIHJldHVybiAnUHJvZHVjdCBkZXRhaWwnXHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIEdldFR5cGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIFdQRm9ybUNvbnRyb2xUeXBlRW51bS5JbnZvaWNlRGV0YWlsO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuXHJcbi8vI3JlZ2lvbiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXCJTdGF0ZSBhbmQgcHJvcHNcIi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5pbnRlcmZhY2UgVGV4dEZpZWxkSXRlbVByb3BzIGV4dGVuZHMgRmllbGRJdGVtQmFzZVByb3Bze1xyXG5cclxufVxyXG5cclxuaW50ZXJmYWNlIFRleHRGaWVsZEl0ZW1TdGF0ZSBleHRlbmRzIEZpZWxkSXRlbUJhc2VTdGF0ZXtcclxuXHJcbn1cclxuXHJcbi8vI2VuZHJlZ2lvbiBcIk15IFJlZ2lvblwiIiwiaW1wb3J0IHtFdmVudE1hbmFnZXJ9IGZyb20gXCJzaGFyZWQvdXRpbGl0aWVzL0V2ZW50cy9FdmVudE1hbmFnZXJcIjtcclxuaW1wb3J0IHtHZXRBZHZhbmNlZEZpZWxkfSBmcm9tIFwiSW50ZXJuYWxTaGFyZWQvRXZlbnRzL0dldEFkdmFuY2VkRmllbGRcIjtcclxuaW1wb3J0IHtJbnZvaWNlRGV0YWlsRmllbGR9IGZyb20gXCIuL0ZpZWxkSXRlbXMvSW52b2ljZURldGFpbEZpZWxkXCI7XHJcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xyXG5pbXBvcnQge0dldENvbnRyb2xPcHRpb25zfSBmcm9tIFwiSW50ZXJuYWxTaGFyZWQvRXZlbnRzL0dldENvbnRyb2xPcHRpb25zXCI7XHJcbmltcG9ydCB7UFJQREZDb250cm9sRmFjdG9yeSwgUFJQREZDb250cm9sT3B0aW9uc0ZhY3Rvcnl9IGZyb20gXCIuLi8uLi9QYWdlQnVpbGRlclByL1BSQ29udHJvbEZhY3RvcnlcIjtcclxuaW1wb3J0IHtHZXRDb250cm9sfSBmcm9tIFwiSW50ZXJuYWxTaGFyZWQvRXZlbnRzL0dldENvbnRyb2xcIjtcclxuaW1wb3J0IHtXUEZvcm1Db250cm9sRmFjdG9yeSwgV1BGb3JtQ29udHJvbE9wdGlvbnNGYWN0b3J5fSBmcm9tIFwiLi9Db250cm9scy9XUEZvcm1GYWN0b3J5XCI7XHJcblxyXG5FdmVudE1hbmFnZXIuU3Vic2NyaWJlKEdldEFkdmFuY2VkRmllbGQsZT0+e1xyXG4gICAgcmV0dXJuW1xyXG4gICAgICAgIDxJbnZvaWNlRGV0YWlsRmllbGQvPlxyXG4gICAgXVxyXG59KTtcclxuXHJcblxyXG5FdmVudE1hbmFnZXIuU3Vic2NyaWJlKEdldENvbnRyb2xPcHRpb25zLGU9PldQRm9ybUNvbnRyb2xPcHRpb25zRmFjdG9yeS5HZXRDb250cm9sT3B0aW9ucyhlLlR5cGUpKTtcclxuRXZlbnRNYW5hZ2VyLlN1YnNjcmliZShHZXRDb250cm9sLGU9PldQRm9ybUNvbnRyb2xGYWN0b3J5LkdldENvbnRyb2woZS5UeXBlKSk7IiwibW9kdWxlLmV4cG9ydHMgPSBJbnRlcm5hbFNoYXJlZCgnSW50ZXJuYWxTaGFyZWQvRXZlbnRzL1VwZGF0ZUZpZWxkU2V0dGluZ3NQYW5lbCcpOyIsImV4cG9ydCBjbGFzcyBFdmVudE1hbmFnZXJ7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBMb2NhbEV2ZW50OkxvY2FsRXZlbnRNYW5hZ2VyPW51bGw7XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBHZXRJbnN0YW5jZSgpOkxvY2FsRXZlbnRNYW5hZ2Vye1xyXG4gICAgICAgIGlmKCh3aW5kb3cgYXMgYW55KS5STkxvY2FsRXZlbnQ9PW51bGwpXHJcbiAgICAgICAgICAgICh3aW5kb3cgYXMgYW55KS5STkxvY2FsRXZlbnQ9bmV3IExvY2FsRXZlbnRNYW5hZ2VyKCk7XHJcbiAgICAgICAgcmV0dXJuICh3aW5kb3cgYXMgYW55KS5STkxvY2FsRXZlbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBQdWJsaXNoPFQgZXh0ZW5kcyBFdmVudEJhc2U+KGV2ZW50OlQsZGVmYXVsdFZhbHVlOmFueT1udWxsKTpUWydSZXR1cm5UeXBlJ117XHJcbiAgICAgICAgcmV0dXJuIEV2ZW50TWFuYWdlci5HZXRJbnN0YW5jZSgpLlB1Ymxpc2g8VD4oZXZlbnQsZGVmYXVsdFZhbHVlKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBTdWJzY3JpYmU8VCBleHRlbmRzIEV2ZW50QmFzZT4oZXZlbnQ6e25ldyguLi5hbnkpOlR9LGNhbGxCYWNrOihhcmdzPzpUKT0+dm9pZClcclxuICAgIHtcclxuICAgICAgICBFdmVudE1hbmFnZXIuR2V0SW5zdGFuY2UoKS5TdWJzY3JpYmUoZXZlbnQsY2FsbEJhY2spO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgVW5zdWJzY3JpYmVFdmVudDxUIGV4dGVuZHMgRXZlbnRCYXNlPihldmVudDp7bmV3KC4uLmFueSk6VH0sY2FsbEJhY2s6KGFyZ3M/OlQpPT52b2lkKVxyXG4gICAge1xyXG4gICAgICAgIEV2ZW50TWFuYWdlci5HZXRJbnN0YW5jZSgpLlVuc3Vic2NyaWJlRXZlbnQoZXZlbnQsY2FsbEJhY2spO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIExvY2FsRXZlbnRNYW5hZ2Vye1xyXG5cclxuICAgIHByaXZhdGUgRXZlbnRzOmFueT17fTtcclxuXHJcbiAgICBwdWJsaWMgUHVibGlzaDxUIGV4dGVuZHMgRXZlbnRCYXNlPihldmVudDpULGRlZmF1bHRWYWx1ZTphbnk9bnVsbCk6VFsnUmV0dXJuVHlwZSdde1xyXG4gICAgICAgIGxldCBldmVudE5hbWU9KGV2ZW50LmNvbnN0cnVjdG9yIGFzIGFueSkuR2V0TmFtZSgpO1xyXG4gICAgICAgIGlmKHRoaXMuRXZlbnRzW2V2ZW50TmFtZV09PW51bGwpXHJcbiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XHJcblxyXG4gICAgICAgIGxldCBldmVudHNUb0NhbGw6RXZlbnRJdGVtW109dGhpcy5FdmVudHNbZXZlbnROYW1lXTtcclxuICAgICAgICBsZXQgcmVzdWx0PW51bGw7XHJcbiAgICAgICAgZm9yKGxldCBldmVudFRvQ2FsbCBvZiBldmVudHNUb0NhbGwpIHtcclxuICAgICAgICAgICAgbGV0IGF1eDtcclxuICAgICAgICAgICAgYXV4ID0gZXZlbnRUb0NhbGwuQ2FsbEJhY2soZXZlbnQpO1xyXG4gICAgICAgICAgICBpZihhdXghPW51bGwpXHJcbiAgICAgICAgICAgICAgICByZXN1bHQ9YXV4O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYocmVzdWx0PT1udWxsKVxyXG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyBTdWJzY3JpYmU8VCBleHRlbmRzIEV2ZW50QmFzZT4oZXZlbnQ6e25ldygpOlR9LGNhbGxCYWNrOihhcmdzPzpUKT0+dm9pZClcclxuICAgIHtcclxuICAgICAgICBsZXQgZXZlbnROYW1lPShldmVudCBhcyBhbnkpLkdldE5hbWUoKTtcclxuICAgICAgICBpZih0aGlzLkV2ZW50c1tldmVudE5hbWVdPT1udWxsKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5FdmVudHNbZXZlbnROYW1lXT1bXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuRXZlbnRzW2V2ZW50TmFtZV0ucHVzaChuZXcgRXZlbnRJdGVtKGV2ZW50IGFzIGFueSxjYWxsQmFjaykpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgVW5zdWJzY3JpYmVFdmVudDxUIGV4dGVuZHMgRXZlbnRCYXNlPihldmVudDp7bmV3KC4uLmFueSk6VH0sY2FsbEJhY2s6KGFyZ3M/OlQpPT52b2lkKVxyXG4gICAge1xyXG4gICAgICAgIGxldCBldmVudE5hbWU9KGV2ZW50IGFzIGFueSkuR2V0TmFtZSgpO1xyXG4gICAgICAgIGxldCBldmVudHM6RXZlbnRJdGVtW109dGhpcy5FdmVudHNbZXZlbnROYW1lXTtcclxuICAgICAgICBpZihldmVudHM9PW51bGwpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgbGV0IGl0ZW09ZXZlbnRzLmZpbmQoeD0+eC5DYWxsQmFjaz09Y2FsbEJhY2spO1xyXG4gICAgICAgIGlmKGl0ZW0hPW51bGwpXHJcbiAgICAgICAgICAgIGV2ZW50cy5zcGxpY2UoZXZlbnRzLmluZGV4T2YoaXRlbSksMSk7XHJcblxyXG4gICAgICAgIGlmKGV2ZW50cy5sZW5ndGg9PTApXHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLkV2ZW50c1tldmVudE5hbWVdO1xyXG5cclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgRXZlbnRJdGVtPFQ9YW55PntcclxuICAgIEV2ZW50OkV2ZW50QmFzZTtcclxuICAgIENhbGxCYWNrOihhcmdzPzpUKT0+dm9pZHxhbnk7XHJcbiAgICBwcm90ZWN0ZWQgUmV0dXJuVHlwZTpUO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGV2ZW50OkV2ZW50QmFzZSxjYWxsQmFjazooYXJncz86VCk9PnZvaWR8YW55KVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuRXZlbnQ9ZXZlbnQ7XHJcbiAgICAgICAgdGhpcy5DYWxsQmFjaz1jYWxsQmFjaztcclxuICAgIH1cclxufVxyXG5cclxuXHJcblxyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEV2ZW50QmFzZXtcclxuICAgIHB1YmxpYyBSZXR1cm5UeXBlOmFueTtcclxuICAgIHB1YmxpYyBzdGF0aWMgR2V0TmFtZSgpe1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTmFtZSB3YXMgbm90IGRlZmluZWQnKTtcclxuICAgIH1cclxuXHJcbn0iXSwic291cmNlUm9vdCI6IiJ9